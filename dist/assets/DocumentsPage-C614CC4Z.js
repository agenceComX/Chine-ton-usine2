import{g as O,r as u,j as e,X as Z,O as L,V,J as Q,x as W,_ as G,C as R,a as J}from"./index-DbrDj4Du.js";import{S as q}from"./SupplierLayout-BDztLqG7.js";import{B as H}from"./BackButton-FxuuiGHy.js";import{B as U}from"./Button-BXIi94zn.js";import{U as Y}from"./upload-DRa_T8yV.js";import{I as X}from"./image-BLmbj_iB.js";import{F as _}from"./file-RQGnb-U-.js";import{u as E}from"./uploadService-BcwHIp7b.js";import{P as ee}from"./plus-7lddUlfR.js";import{D as P}from"./download-CjD73ddh.js";import{C as te}from"./calendar-B40bxLxD.js";import{E as se}from"./eye-BDcpPqwB.js";import{T as ae}from"./trash-2-ZdXwmmSk.js";import"./message-square-BGKFoHMd.js";import"./chart-column-zn556lbz.js";import"./arrow-left-2Q9fRMZ4.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],le=O("folder-open",re),ne=({onFileSelect:f,onUpload:x,maxFiles:j=10,maxSizePerFile:h=50,acceptedTypes:m=[".pdf",".doc",".docx",".txt",".jpg",".jpeg",".png",".gif"],className:w=""})=>{const[o,c]=u.useState([]),[k,v]=u.useState(!1),[C,D]=u.useState(!1),M=u.useRef(null),I=()=>Math.random().toString(36).substr(2,9),S=s=>{if(s===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(s)/Math.log(r));return parseFloat((s/Math.pow(r,p)).toFixed(2))+" "+n[p]},l=s=>{const r=s.name.split(".").pop()?.toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(r||"")?e.jsx(X,{className:"h-6 w-6 text-green-500"}):["pdf"].includes(r||"")?e.jsx(L,{className:"h-6 w-6 text-red-500"}):e.jsx(_,{className:"h-6 w-6 text-blue-500"})},g=s=>new Promise(r=>{if(s.type.startsWith("image/")){const n=new FileReader;n.onload=p=>r(p.target?.result),n.onerror=()=>r(void 0),n.readAsDataURL(s)}else r(void 0)}),K=s=>{if(s.size>h*1024*1024)return`Le fichier ${s.name} dépasse la taille maximale de ${h}MB`;const r="."+s.name.split(".").pop()?.toLowerCase();return m.includes(r)?null:`Le type de fichier ${r} n'est pas autorisé`},F=async s=>{const r=Array.from(s);if(o.length+r.length>j){alert(`Vous ne pouvez télécharger que ${j} fichiers au maximum`);return}const n=[],p=[];for(const i of r){const z=K(i);z?n.push(z):p.push(i)}if(n.length>0&&alert(n.join(`
`)),p.length===0)return;const N=[];for(const i of p){const z=await g(i);N.push({file:i,id:I(),progress:0,status:"pending",preview:z})}c(i=>[...i,...N]),f?.(p)},t=s=>{s.preventDefault(),v(!1),F(s.dataTransfer.files)},a=s=>{s.preventDefault(),v(!0)},d=s=>{s.preventDefault(),v(!1)},b=s=>{s.target.files&&F(s.target.files)},T=s=>{c(r=>r.filter(n=>n.id!==s))},y=async s=>new Promise(r=>{c(N=>N.map(i=>i.id===s.id?{...i,status:"uploading"}:i));let n=0;const p=setInterval(()=>{n+=Math.random()*20,n>=100?(n=100,clearInterval(p),c(N=>N.map(i=>i.id===s.id?{...i,progress:100,status:"success"}:i)),r()):c(N=>N.map(i=>i.id===s.id?{...i,progress:n}:i))},200)}),A=async()=>{if(o.length!==0){D(!0);try{const s=o.filter(r=>r.status==="pending");if(x)await x(s.map(r=>r.file));else for(const r of s)await y(r)}catch(s){console.error("Erreur lors de l'upload:",s),c(r=>r.map(n=>n.status==="uploading"?{...n,status:"error"}:n))}finally{D(!1)}}},B=()=>{c(s=>s.filter(r=>r.status!=="success"))},$=s=>{switch(s){case"success":return e.jsx(Q,{className:"h-5 w-5 text-green-500"});case"error":return e.jsx(V,{className:"h-5 w-5 text-red-500"});case"uploading":return e.jsx("div",{className:"h-5 w-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"});default:return null}};return e.jsxs("div",{className:`space-y-4 ${w}`,children:[e.jsxs("div",{onDrop:t,onDragOver:a,onDragLeave:d,onClick:()=>M.current?.click(),className:`
          border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all duration-200
          ${k?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}
        `,children:[e.jsx(Y,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Déposez vos fichiers ici"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"ou cliquez pour sélectionner des fichiers"}),e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Formats acceptés: ",m.join(", ")," | Taille max: ",h,"MB par fichier"]})]}),e.jsx("input",{ref:M,type:"file",multiple:!0,accept:m.join(","),onChange:b,className:"hidden"}),o.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Fichiers sélectionnés (",o.length,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{onClick:B,variant:"outline",size:"sm",disabled:!o.some(s=>s.status==="success"),children:"Nettoyer"}),e.jsx(U,{onClick:A,disabled:C||!o.some(s=>s.status==="pending"),size:"sm",children:C?"Upload en cours...":"Télécharger"})]})]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:o.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:s.preview?e.jsx("img",{src:s.preview,alt:s.file.name,className:"h-10 w-10 object-cover rounded"}):l(s.file)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s.file.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:S(s.file.size)}),s.status==="uploading"&&e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-1",children:e.jsx("div",{className:"bg-blue-500 h-1 rounded-full transition-all duration-300",style:{width:`${s.progress}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[Math.round(s.progress),"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[$(s.status),s.status==="pending"&&e.jsx("button",{onClick:()=>T(s.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(Z,{className:"h-4 w-4"})})]})]},s.id))})]})]})},ie=({isOpen:f,onClose:x,onUpload:j})=>{const{t:h}=W(),[m,w]=u.useState([]),[o,c]=u.useState({category:"",type:"other",description:""}),[k,v]=u.useState(!1),C=["Contrats","Factures","Certifications","Manuels","Légal","Marketing","Technique","RH","Autre"],D=[{value:"contract",label:"Contrat"},{value:"invoice",label:"Facture"},{value:"certificate",label:"Certificat"},{value:"manual",label:"Manuel"},{value:"other",label:"Autre"}],M=l=>{w(l)},I=async()=>{if(m.length!==0){v(!0);try{await j(m,o),w([]),c({category:"",type:"other",description:""}),x()}catch(l){console.error("Erreur lors de l'upload:",l),alert("Erreur lors du téléchargement des documents")}finally{v(!1)}}},S=async l=>new Promise(g=>{setTimeout(()=>{console.log("Documents uploadés:",l),g()},1e3)});return f?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:x}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-2xl sm:w-full",children:["          ",e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:h("supplier.documents.uploadDocument")}),e.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:e.jsx(Z,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"px-6 py-4 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Catégorie *"}),e.jsxs("select",{value:o.category,onChange:l=>c(g=>({...g,category:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner une catégorie"}),C.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type de document *"}),e.jsx("select",{value:o.type,onChange:l=>c(g=>({...g,type:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:D.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description (optionnel)"}),e.jsx("textarea",{value:o.description,onChange:l=>c(g=>({...g,description:l.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Description du document..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fichiers *"}),e.jsx(ne,{onFileSelect:M,onUpload:S,maxFiles:5,maxSizePerFile:20,acceptedTypes:[".pdf",".doc",".docx",".txt",".jpg",".jpeg",".png"]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Formats acceptés"}),e.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsx("li",{children:"• Documents: PDF, DOC, DOCX, TXT"}),e.jsx("li",{children:"• Images: JPG, JPEG, PNG"}),e.jsx("li",{children:"• Taille maximum: 20 MB par fichier"}),e.jsx("li",{children:"• Maximum 5 fichiers par upload"})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:["            ",e.jsx(U,{onClick:x,variant:"outline",disabled:k,children:h("product.modal.cancel")}),e.jsx(U,{onClick:I,disabled:m.length===0||!o.category||k,children:k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Upload en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Télécharger (",m.length," fichier",m.length>1?"s":"",")"]})})]})]})]})}):null},de=[{id:"1",name:"Contrat fournisseur 2024.pdf",type:"contract",size:"2.4 MB",uploadDate:"2024-01-15",status:"approved",downloadCount:45,category:"Contrats"},{id:"2",name:"Facture F-2024-001.pdf",type:"invoice",size:"1.2 MB",uploadDate:"2024-01-14",status:"approved",downloadCount:23,category:"Factures"},{id:"3",name:"Certificat ISO 9001.pdf",type:"certificate",size:"856 KB",uploadDate:"2024-01-10",status:"pending",downloadCount:12,category:"Certifications"},{id:"4",name:"Manuel utilisateur produit A.pdf",type:"manual",size:"5.1 MB",uploadDate:"2024-01-08",status:"approved",downloadCount:67,category:"Manuels"},{id:"5",name:"Conditions générales.pdf",type:"other",size:"743 KB",uploadDate:"2024-01-05",status:"rejected",downloadCount:8,category:"Légal"}],Ce=()=>{const{t:f}=W(),[x,j]=u.useState(de),[h,m]=u.useState(""),[w,o]=u.useState("all"),[c,k]=u.useState("all"),[v,C]=u.useState(!1),D=x.filter(t=>{const a=t.name.toLowerCase().includes(h.toLowerCase())||t.category.toLowerCase().includes(h.toLowerCase()),d=w==="all"||t.type===w,b=c==="all"||t.status===c;return a&&d&&b}),M=t=>{switch(t){case"approved":return e.jsx(G,{className:"h-4 w-4 text-green-500"});case"pending":return e.jsx(R,{className:"h-4 w-4 text-yellow-500"});case"rejected":return e.jsx(V,{className:"h-4 w-4 text-red-500"});default:return null}},I=t=>{switch(t){case"approved":return"Approuvé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return t}},S=t=>{switch(t){case"contract":return"Contrat";case"invoice":return"Facture";case"certificate":return"Certificat";case"manual":return"Manuel";case"other":return"Autre";default:return t}},l=t=>{if(t===0)return"0 Bytes";const a=1024,d=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(t)/Math.log(a));return parseFloat((t/Math.pow(a,b)).toFixed(2))+" "+d[b]},g=async(t,a)=>{try{console.log("Uploading files:",t),console.log("Metadata:",a);const d=await E.uploadFiles(t,{folder:"documents",maxSize:50,allowedTypes:[".pdf",".doc",".docx",".txt",".jpg",".jpeg",".png",".xls",".xlsx"]},(y,A)=>{console.log(`Fichier ${y+1}: ${A}% uploadé`)}),b=t.map((y,A)=>{const B=d[A];return{id:`new-${Date.now()}-${A}`,name:y.name,type:a.type,size:l(y.size),uploadDate:new Date().toISOString().split("T")[0],status:B.success?"approved":"rejected",downloadCount:0,category:a.category,url:B.url}});j(y=>[...b,...y]);const T=d.filter(y=>y.success).length;alert(`${T}/${t.length} document(s) téléchargé(s) avec succès !`)}catch(d){throw console.error("Erreur lors de l'upload:",d),d}},K=t=>{if(console.log("Downloading document:",t.name),t.url){const a=window.document.createElement("a");a.href=t.url,a.download=t.name,a.target="_blank",window.document.body.appendChild(a),a.click(),window.document.body.removeChild(a)}else{const a=window.document.createElement("a");a.href="data:application/pdf;base64,JVBERi0xLjQKJdPr6eEKMSAwIG9iago8PAovVGl0bGUgKCR7ZG9jdW1lbnQubmFtZX0pCi9Qcm9kdWNlciAoKQo+PgplbmRvYmoKMiAwIG9iago8PAovVHlwZSAvQ2F0YWxvZwovUGFnZXMgMyAwIFIKPj4KZW5kb2JqCjMgMCBvYmoKPDwKL1R5cGUgL1BhZ2VzCi9LaWRzIFs0IDAgUl0KL0NvdW50IDEKL01lZGlhQm94IFswIDAgNjEyIDc5Ml0KPj4KZW5kb2JqCjQgMCBvYmoKPDwKL1R5cGUgL1BhZ2UKL1BhcmVudCAzIDAgUgovUmVzb3VyY2VzIDw8Ci9Gb250IDw8Ci9GMSAKPDwKL1R5cGUgL0ZvbnQKL1N1YnR5cGUgL1R5cGUxCi9CYXNlRm9udCAvSGVsdmV0aWNhCj4+Cj4+Cj4+Ci9Db250ZW50cyA1IDAgUgo+PgplbmRvYmoKNSAwIG9iago8PAovTGVuZ3RoIDQ0Cj4+CnN0cmVhbQpCVAovRjEgMTIgVGYKNzIgNzIwIFRkCihEb2N1bWVudCBkZSBkZW1vbnN0cmF0aW9uKSBUagpFVAplbmRzdHJlYW0KZW5kb2JqCnhyZWYKMCA2CjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAwMDAwOSAwMDAwMCBuIAowMDAwMDAwMDU4IDAwMDAwIG4gCjAwMDAwMDAxMDMgMDAwMDAgbiAKMDAwMDAwMDE3MyAwMDAwMCBuIAowMDAwMDAwMzAxIDAwMDAwIG4gCnRyYWlsZXIKPDwKL1NpemUgNgovUm9vdCAyIDAgUgo+PgpzdGFydHhyZWYKMzk0CiUlRU9G",a.download=t.name,window.document.body.appendChild(a),a.click(),window.document.body.removeChild(a)}j(a=>a.map(d=>d.id===t.id?{...d,downloadCount:d.downloadCount+1}:d))},F=async t=>{if(confirm(f("supplier.documents.confirm.delete")))try{t.url&&await E.deleteFile(t.url),j(a=>a.filter(d=>d.id!==t.id)),alert("Document supprimé avec succès !")}catch(a){console.error("Erreur lors de la suppression:",a),alert("Erreur lors de la suppression du document")}};return e.jsx(q,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(H,{to:"/supplier/dashboard",label:"Retour au tableau de bord",variant:"ghost"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Documents"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Gérez vos documents et fichiers"})]}),"          ",e.jsxs(U,{className:"mt-4 sm:mt-0",onClick:()=>C(!0),children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),f("supplier.documents.uploadDocument")]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(L,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Documents"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:x.length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(G,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Approuvés"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:x.filter(t=>t.status==="approved").length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(R,{className:"h-8 w-8 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"En attente"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:x.filter(t=>t.status==="pending").length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(P,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Téléchargements"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:x.reduce((t,a)=>t+a.downloadCount,0)})]})]})})]}),"        ",e.jsx("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-300 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Rechercher un document...",value:h,onChange:t=>m(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400"})]})}),e.jsx("div",{className:"w-full sm:w-48",children:e.jsxs("select",{value:w,onChange:t=>o(t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"Tous les types"}),e.jsx("option",{value:"contract",children:"Contrats"}),e.jsx("option",{value:"invoice",children:"Factures"}),e.jsx("option",{value:"certificate",children:"Certificats"}),e.jsx("option",{value:"manual",children:"Manuels"}),e.jsx("option",{value:"other",children:"Autres"})]})}),e.jsx("div",{className:"w-full sm:w-48",children:e.jsxs("select",{value:c,onChange:t=>k(t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"approved",children:"Approuvés"}),e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"rejected",children:"Rejetés"})]})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Document"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Taille"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Téléchargements"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:D.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"h-5 w-5 text-blue-500 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.category})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:S(t.type)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.size}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(te,{className:"h-4 w-4 mr-1"}),new Date(t.uploadDate).toLocaleDateString("fr-FR")]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[M(t.status),e.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:I(t.status)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:t.downloadCount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{title:"Prévisualiser",className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:e.jsx(se,{className:"h-4 w-4"})}),"                        ",e.jsx("button",{title:f("supplier.documents.download"),onClick:()=>K(t),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:e.jsx(P,{className:"h-4 w-4"})}),"                        ",e.jsx("button",{title:f("supplier.documents.delete"),onClick:()=>F(t),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:e.jsx(ae,{className:"h-4 w-4"})})]})})]},t.id))})]})})}),D.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(L,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Aucun document trouvé"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Aucun document ne correspond à vos critères de recherche."})]}),e.jsx(ie,{isOpen:v,onClose:()=>C(!1),onUpload:g})]})})};export{Ce as default};
