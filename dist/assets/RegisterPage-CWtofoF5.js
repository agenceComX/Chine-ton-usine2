import{E as K,y as H,x as U,r as l,j as e,L as m}from"./index-DbrDj4Du.js";import{I as i}from"./Input-CQoVujND.js";import{S as w}from"./Select-BE-U7Uex.js";import{B as O}from"./Button-BXIi94zn.js";import{F as Q}from"./FileUploadButton-6UTqlIVn.js";const Y=()=>{const n=K(),{register:C}=H(),{t:s}=U(),[c,S]=l.useState(""),[u,M]=l.useState(""),[d,E]=l.useState(""),[x,P]=l.useState(""),[r,R]=l.useState("customer"),[g,h]=l.useState(""),[t,p]=l.useState(!1),[b,L]=l.useState(""),[v,A]=l.useState(""),[f,z]=l.useState(""),[j,B]=l.useState(""),[N,I]=l.useState(""),[D,q]=l.useState(null),[y,F]=l.useState(""),T=async a=>{a.preventDefault(),h(""),p(!0);try{if(!c.trim())throw new Error(s("nameRequired"));if(!u.trim())throw new Error(s("emailRequired"));if(r!=="supplier"&&r!=="sourcer"&&r!=="influencer"){if(d.length<6)throw new Error(s("passwordMinLength"));if(d!==x)throw new Error(s("passwordsDoNotMatch"))}const{user:o,error:k}=await C(u.trim(),r==="supplier"||r==="sourcer"||r==="influencer"?"temp-password":d.trim(),c.trim(),r);if(k)throw new Error(k);if(o)switch(o.role){case"admin":n("/admin/dashboard");break;case"supplier":alert(s("supplier.registration.message")),n("/login");break;case"sourcer":case"influencer":alert(s("sourcer.registration.message")),n("/login");break;default:n("/dashboard")}}catch(o){console.error("Erreur d'inscription:",o),h(o instanceof Error?o.message:s("registrationError"))}finally{p(!1)}r==="influencer"&&(console.log("Media Kit:",D),console.log("Influencer Message:",y),console.log("Social Media Links:",b),console.log("Follower Count:",v),console.log("Influence Category:",f),console.log("Main Audience:",j),console.log("Engagement Rate:",N))};return e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 pb-24 sm:px-6 lg:px-8 mb-16",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:s("createAccount")}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:s("registerDescription")})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[g&&e.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 text-red-600 dark:text-red-400 text-sm rounded-md p-4",children:g}),e.jsxs("form",{className:"space-y-6",onSubmit:T,children:[e.jsx(i,{type:"text",label:s("fullName"),value:c,onChange:a=>S(a.target.value),required:!0,placeholder:s("yourNamePlaceholder"),disabled:t}),e.jsx(i,{type:"email",label:s("email"),value:u,onChange:a=>M(a.target.value),required:!0,placeholder:s("emailPlaceholder"),disabled:t}),e.jsx(w,{label:s("accountType"),value:r,onChange:a=>R(a.target.value),options:[{value:"customer",label:s("role.customer")},{value:"supplier",label:s("role.supplier")},{value:"influencer",label:s("role.influencer")}],disabled:t}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-md p-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:[r==="customer"&&s("role.customerTitle"),r==="supplier"&&s("role.supplierTitle"),r==="sourcer"&&s("role.sourcerTitle"),r==="influencer"&&s("role.sourcerTitle")," "]}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:[r==="customer"&&s("role.customerDescription"),r==="supplier"&&s("role.supplierDescription"),r==="sourcer"&&s("role.sourcerDescription"),r==="influencer"&&s("role.sourcerDescription")," "]})]}),r==="supplier"&&e.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700 rounded-md p-4 supplier-message-enter supplier-message-pulse",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-orange-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:s("supplier.registration.title")}),e.jsx("p",{className:"mt-1 text-sm text-orange-700 dark:text-orange-300",children:s("supplier.registration.message")}),e.jsx("p",{className:"mt-1 text-xs text-orange-600 dark:text-orange-400",children:s("supplier.registration.validation")})]})]})}),r==="sourcer"&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-md p-4 sourcer-message-enter",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:s("sourcer.registration.title")}),e.jsx("p",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:s("sourcer.registration.message")}),e.jsx("p",{className:"mt-1 text-xs text-blue-600 dark:text-blue-400",children:s("sourcer.registration.validation")})]})]})}),r!=="supplier"&&r!=="sourcer"&&r!=="influencer"&&e.jsxs("div",{className:"space-y-6 password-fields-enter",children:[e.jsx(i,{type:"password",label:s("password"),value:d,onChange:a=>E(a.target.value),required:!0,placeholder:s("passwordPlaceholder"),minLength:6,disabled:t}),e.jsx(i,{type:"password",label:s("confirmPassword"),value:x,onChange:a=>P(a.target.value),required:!0,placeholder:s("passwordPlaceholder"),minLength:6,disabled:t})]},"password-fields"),r==="influencer"&&e.jsxs("div",{className:"space-y-6 influencer-fields-enter",children:[e.jsxs("div",{className:"flex items-start mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:s("sourcer.registration.title")}),e.jsx("p",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:s("sourcer.registration.message")}),e.jsx("p",{className:"mt-1 text-xs text-blue-600 dark:text-blue-400",children:s("sourcer.registration.validation")})]})]}),e.jsx(i,{type:"text",label:s("socialMediaLinks"),value:b,onChange:a=>L(a.target.value),placeholder:s("socialMediaLinksPlaceholder"),disabled:t}),e.jsx(i,{type:"number",label:s("followerCount"),value:v,onChange:a=>A(a.target.value),placeholder:s("followerCountPlaceholder"),disabled:t}),e.jsx(w,{label:s("category"),value:f,onChange:a=>z(a.target.value),options:[{value:"fashion",label:s("fashion")},{value:"tech",label:s("tech")},{value:"beauty",label:s("beauty")},{value:"sports",label:s("sports")}],disabled:t}),e.jsx(i,{type:"text",label:s("mainAudience"),value:j,onChange:a=>B(a.target.value),placeholder:s("mainAudiencePlaceholder"),disabled:t}),e.jsx(i,{type:"number",label:s("engagementRate"),value:N,onChange:a=>I(a.target.value),placeholder:s("engagementRatePlaceholder"),disabled:t}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"shareStats",className:"form-checkbox h-4 w-4 text-blue-600",disabled:t}),e.jsx("label",{htmlFor:"shareStats",className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:s("shareStatsAgreement")})]}),e.jsx(Q,{id:"mediaKit",label:s("fileUpload.title"),accept:"application/pdf,image/*",onChange:a=>q(a),disabled:t,className:"mb-4"}),e.jsx(i,{type:"textarea",label:s("message"),value:y,onChange:a=>F(a.target.value),placeholder:s("messagePlaceholder"),disabled:t})]}),e.jsx(O,{type:"submit",variant:"primary",fullWidth:!0,className:"justify-center",disabled:t,children:s(t?"creatingAccount":r==="supplier"?"supplier.registration.submitButton":r==="sourcer"||r==="influencer"?"sourcer.registration.submitButton":"createMyAccount")})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:s("hasAccountQuestion")})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(m,{to:"/login",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",tabIndex:t?-1:0,children:s("loginButton")})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s("agreementPrefix")," ",e.jsx(m,{to:"/terms",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:s("termsOfUse")})," ",s("andOur")," ",e.jsx(m,{to:"/privacy",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:s("privacyPolicy")}),s("agreementSuffix")]})})]})})]})};export{Y as default};
