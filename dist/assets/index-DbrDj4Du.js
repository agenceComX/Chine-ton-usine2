const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePageFixed-24SFdBmG.js","assets/shield-K9SayZ_V.js","assets/trending-up-BtbguRz-.js","assets/ProductsPageB2B-B_XZxYBd.js","assets/useProducts-u3id3CXK.js","assets/eye-BDcpPqwB.js","assets/minus-qn8EODQ3.js","assets/plus-7lddUlfR.js","assets/message-circle-G64tI-73.js","assets/ProductDetailPageB2B-plRThNU3.js","assets/arrow-left-2Q9fRMZ4.js","assets/ProductsList-BONXf7_e.js","assets/ProductPage-DbsHU9Ln.js","assets/productsService-Dn4X7My8.js","assets/Button-BXIi94zn.js","assets/message-square-BGKFoHMd.js","assets/chevron-down-CrKgMLOh.js","assets/ProductDetailPage-SldBFaQx.js","assets/phone-Blwo4abk.js","assets/share-2-CVY2Ixor.js","assets/award-Vt0h6WCL.js","assets/SupplierProfilePage-DthXRRzB.js","assets/mail-8A4mkR-w.js","assets/refresh-cw-qI0BjvUP.js","assets/download-CjD73ddh.js","assets/image-BLmbj_iB.js","assets/upload-DRa_T8yV.js","assets/save-_HupyZYA.js","assets/list-BJ9DZSOS.js","assets/copy-Bu0oi0-1.js","assets/trash-2-ZdXwmmSk.js","assets/calendar-B40bxLxD.js","assets/building-C0uS-EV8.js","assets/thumbs-up-Bu-JGmqP.js","assets/CategoryPage-mIIqiWjs.js","assets/LoginPage-Ds031ER6.js","assets/Input-CQoVujND.js","assets/auth-design-CTfbRQ5F.css","assets/RegisterPage-CWtofoF5.js","assets/Select-BE-U7Uex.js","assets/FileUploadButton-6UTqlIVn.js","assets/RegisterPage-C2T426ph.css","assets/AuthPageCombined-CmS_d7k-.js","assets/GoogleSignInButton-CA7A9OTK.js","assets/UniversalLoginPage-BJH9bY-G.js","assets/universalAuthService-BPCQ3L21.js","assets/UniversalRegisterPage-D_1v1Fog.js","assets/NotFoundPage-QcdGDju1.js","assets/DashboardPage-Br0kMUsa.js","assets/SupplierLayout-BDztLqG7.js","assets/chart-column-zn556lbz.js","assets/dollar-sign-CGhSt0s-.js","assets/ProductsPage-C0pufqk6.js","assets/useToastContext-TG_IWIBh.js","assets/square-pen-Ct6V3DPX.js","assets/ProductsPageNew-DCVuyVMc.js","assets/uploadService-BcwHIp7b.js","assets/CustomersPage-DYX3iRxw.js","assets/BackButton-FxuuiGHy.js","assets/MessagesPage-CsVLPlWc.js","assets/DocumentsPage-C614CC4Z.js","assets/file-RQGnb-U-.js","assets/ReviewsPage-CUM2QOLq.js","assets/AnalyticsPage-C3NqGdUB.js","assets/trending-down-DQd0f0sf.js","assets/SettingsPage-Du0nFDox.js","assets/eye-off-E4hzSCSh.js","assets/DashboardPage-BpWT_bXC.js","assets/AdminLayout-DJvW88_N.js","assets/pencil-B4x0pJEy.js","assets/UsersPage-G0gF1XAC.js","assets/SuppliersPage-_Uq7Rj63.js","assets/OrdersPage-DHsrU3P9.js","assets/ReportsPage-gh4xf1o1.js","assets/SettingsPage-Nnf08eVm.js","assets/ModerationPage-BN4beAsE.js","assets/DocumentsPage-BrbzfLL7.js","assets/ContainersManagementPage-FhHNcJCS.js","assets/containerService-t0n3X4-G.js","assets/InfluencerDashboard-CjG5bbEF.js","assets/ContainersPage-BLS2g-TO.js","assets/ContainersPage-Bm3FOueH.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function FR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Am={exports:{}},fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function HR(){if(vE)return fc;vE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return fc.Fragment=e,fc.jsx=t,fc.jsxs=t,fc}var _E;function GR(){return _E||(_E=1,Am.exports=HR()),Am.exports}var v=GR(),Sm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function $R(){if(EE)return Ne;EE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function R(k,re,de){this.props=k,this.context=re,this.refs=D,this.updater=de||I}R.prototype.isReactComponent={},R.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},R.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function P(){}P.prototype=R.prototype;function Q(k,re,de){this.props=k,this.context=re,this.refs=D,this.updater=de||I}var W=Q.prototype=new P;W.constructor=Q,x(W,R.prototype),W.isPureReactComponent=!0;var oe=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function V(k,re,de,le,ve,Pe){return de=Pe.ref,{$$typeof:n,type:k,key:re,ref:de!==void 0?de:null,props:Pe}}function C(k,re){return V(k.type,re,void 0,void 0,void 0,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function L(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return re[de]})}var z=/\/+/g;function q(k,re){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):re.toString(36)}function M(){}function bt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(M,M):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function it(k,re,de,le,ve){var Pe=typeof k;(Pe==="undefined"||Pe==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(Pe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case n:case e:Ae=!0;break;case y:return Ae=k._init,it(Ae(k._payload),re,de,le,ve)}}if(Ae)return ve=ve(k),Ae=le===""?"."+q(k,0):le,oe(ve)?(de="",Ae!=null&&(de=Ae.replace(z,"$&/")+"/"),it(ve,re,de,"",function(Er){return Er})):ve!=null&&(N(ve)&&(ve=C(ve,de+(ve.key==null||k&&k.key===ve.key?"":(""+ve.key).replace(z,"$&/")+"/")+Ae)),re.push(ve)),1;Ae=0;var zt=le===""?".":le+":";if(oe(k))for(var at=0;at<k.length;at++)le=k[at],Pe=zt+q(le,at),Ae+=it(le,re,de,Pe,ve);else if(at=T(k),typeof at=="function")for(k=at.call(k),at=0;!(le=k.next()).done;)le=le.value,Pe=zt+q(le,at++),Ae+=it(le,re,de,Pe,ve);else if(Pe==="object"){if(typeof k.then=="function")return it(bt(k),re,de,le,ve);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function J(k,re,de){if(k==null)return k;var le=[],ve=0;return it(k,le,"","",function(Pe){return re.call(de,Pe,ve++)}),le}function ne(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function xe(){}return Ne.Children={map:J,forEach:function(k,re,de){J(k,function(){re.apply(this,arguments)},de)},count:function(k){var re=0;return J(k,function(){re++}),re},toArray:function(k){return J(k,function(re){return re})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=R,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=Q,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ae.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cloneElement=function(k,re,de){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=x({},k.props),ve=k.key,Pe=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(Pe=void 0),re.key!==void 0&&(ve=""+re.key),re)!pe.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(le[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=de;else if(1<Ae){for(var zt=Array(Ae),at=0;at<Ae;at++)zt[at]=arguments[at+2];le.children=zt}return V(k.type,ve,void 0,void 0,Pe,le)},Ne.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Ne.createElement=function(k,re,de){var le,ve={},Pe=null;if(re!=null)for(le in re.key!==void 0&&(Pe=""+re.key),re)pe.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=re[le]);var Ae=arguments.length-2;if(Ae===1)ve.children=de;else if(1<Ae){for(var zt=Array(Ae),at=0;at<Ae;at++)zt[at]=arguments[at+2];ve.children=zt}if(k&&k.defaultProps)for(le in Ae=k.defaultProps,Ae)ve[le]===void 0&&(ve[le]=Ae[le]);return V(k,Pe,void 0,void 0,null,ve)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:f,render:k}},Ne.isValidElement=N,Ne.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:ne}},Ne.memo=function(k,re){return{$$typeof:m,type:k,compare:re===void 0?null:re}},Ne.startTransition=function(k){var re=ae.T,de={};ae.T=de;try{var le=k(),ve=ae.S;ve!==null&&ve(de,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(xe,ue)}catch(Pe){ue(Pe)}finally{ae.T=re}},Ne.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ne.use=function(k){return ae.H.use(k)},Ne.useActionState=function(k,re,de){return ae.H.useActionState(k,re,de)},Ne.useCallback=function(k,re){return ae.H.useCallback(k,re)},Ne.useContext=function(k){return ae.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,re){return ae.H.useDeferredValue(k,re)},Ne.useEffect=function(k,re,de){var le=ae.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(k,re)},Ne.useId=function(){return ae.H.useId()},Ne.useImperativeHandle=function(k,re,de){return ae.H.useImperativeHandle(k,re,de)},Ne.useInsertionEffect=function(k,re){return ae.H.useInsertionEffect(k,re)},Ne.useLayoutEffect=function(k,re){return ae.H.useLayoutEffect(k,re)},Ne.useMemo=function(k,re){return ae.H.useMemo(k,re)},Ne.useOptimistic=function(k,re){return ae.H.useOptimistic(k,re)},Ne.useReducer=function(k,re,de){return ae.H.useReducer(k,re,de)},Ne.useRef=function(k){return ae.H.useRef(k)},Ne.useState=function(k){return ae.H.useState(k)},Ne.useSyncExternalStore=function(k,re,de){return ae.H.useSyncExternalStore(k,re,de)},Ne.useTransition=function(){return ae.H.useTransition()},Ne.version="19.1.0",Ne}var bE;function zg(){return bE||(bE=1,Sm.exports=$R()),Sm.exports}var U=zg();const Ue=FR(U);var xm={exports:{}},pc={},Rm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function KR(){return wE||(wE=1,function(n){function e(J,ne){var ue=J.length;J.push(ne);e:for(;0<ue;){var xe=ue-1>>>1,k=J[xe];if(0<a(k,ne))J[xe]=ne,J[ue]=k,ue=xe;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ne=J[0],ue=J.pop();if(ue!==ne){J[0]=ue;e:for(var xe=0,k=J.length,re=k>>>1;xe<re;){var de=2*(xe+1)-1,le=J[de],ve=de+1,Pe=J[ve];if(0>a(le,ue))ve<k&&0>a(Pe,le)?(J[xe]=Pe,J[ve]=ue,xe=ve):(J[xe]=le,J[de]=ue,xe=de);else if(ve<k&&0>a(Pe,ue))J[xe]=Pe,J[ve]=ue,xe=ve;else break e}}return ne}function a(J,ne){var ue=J.sortIndex-ne.sortIndex;return ue!==0?ue:J.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],m=[],y=1,w=null,T=3,I=!1,x=!1,D=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function oe(J){for(var ne=t(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=J)i(m),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=t(m)}}function ae(J){if(D=!1,oe(J),!x)if(t(p)!==null)x=!0,pe||(pe=!0,q());else{var ne=t(m);ne!==null&&it(ae,ne.startTime-J)}}var pe=!1,V=-1,C=5,N=-1;function L(){return R?!0:!(n.unstable_now()-N<C)}function z(){if(R=!1,pe){var J=n.unstable_now();N=J;var ne=!0;try{e:{x=!1,D&&(D=!1,Q(V),V=-1),I=!0;var ue=T;try{t:{for(oe(J),w=t(p);w!==null&&!(w.expirationTime>J&&L());){var xe=w.callback;if(typeof xe=="function"){w.callback=null,T=w.priorityLevel;var k=xe(w.expirationTime<=J);if(J=n.unstable_now(),typeof k=="function"){w.callback=k,oe(J),ne=!0;break t}w===t(p)&&i(p),oe(J)}else i(p);w=t(p)}if(w!==null)ne=!0;else{var re=t(m);re!==null&&it(ae,re.startTime-J),ne=!1}}break e}finally{w=null,T=ue,I=!1}ne=void 0}}finally{ne?q():pe=!1}}}var q;if(typeof W=="function")q=function(){W(z)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,bt=M.port2;M.port1.onmessage=z,q=function(){bt.postMessage(null)}}else q=function(){P(z,0)};function it(J,ne){V=P(function(){J(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(J){switch(T){case 1:case 2:case 3:var ne=3;break;default:ne=T}var ue=T;T=ne;try{return J()}finally{T=ue}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(J,ne){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ue=T;T=J;try{return ne()}finally{T=ue}},n.unstable_scheduleCallback=function(J,ne,ue){var xe=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?xe+ue:xe):ue=xe,J){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ue+k,J={id:y++,callback:ne,priorityLevel:J,startTime:ue,expirationTime:k,sortIndex:-1},ue>xe?(J.sortIndex=ue,e(m,J),t(p)===null&&J===t(m)&&(D?(Q(V),V=-1):D=!0,it(ae,ue-xe))):(J.sortIndex=k,e(p,J),x||I||(x=!0,pe||(pe=!0,q()))),J},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(J){var ne=T;return function(){var ue=T;T=ne;try{return J.apply(this,arguments)}finally{T=ue}}}}(Cm)),Cm}var TE;function QR(){return TE||(TE=1,Rm.exports=KR()),Rm.exports}var Im={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function YR(){if(AE)return sn;AE=1;var n=zg();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:p,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},sn.flushSync=function(p){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=m,i.p=y,i.d.f()}},sn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},sn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},sn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,I=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:I}):y==="script"&&i.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:I,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},sn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},sn.requestFormReset=function(p){i.d.r(p)},sn.unstable_batchedUpdates=function(p,m){return p(m)},sn.useFormState=function(p,m,y){return u.H.useFormState(p,m,y)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var SE;function XR(){if(SE)return Im.exports;SE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Im.exports=YR(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function WR(){if(xE)return pc;xE=1;var n=QR(),e=zg(),t=XR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return f(h),r;if(g===c)return f(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=h,c=g;else{for(var b=!1,A=h.child;A;){if(A===o){b=!0,o=h,c=g;break}if(A===c){b=!0,c=h,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=h;break}if(A===c){b=!0,c=g,o=h;break}A=A.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),W=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function bt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case R:return"Profiler";case D:return"StrictMode";case ae:return"Suspense";case pe:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case I:return"Portal";case W:return(r.displayName||"Context")+".Provider";case Q:return(r._context.displayName||"Context")+".Consumer";case oe:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return s=r.displayName||null,s!==null?s:bt(r.type)||"Memo";case C:s=r._payload,r=r._init;try{return bt(r(s))}catch{}}return null}var it=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},xe=[],k=-1;function re(r){return{current:r}}function de(r){0>k||(r.current=xe[k],xe[k]=null,k--)}function le(r,s){k++,xe[k]=r.current,r.current=s}var ve=re(null),Pe=re(null),Ae=re(null),zt=re(null);function at(r,s){switch(le(Ae,s),le(Pe,r),le(ve,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?$_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=$_(s),r=K_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}de(ve),le(ve,r)}function Er(){de(ve),de(Pe),de(Ae)}function ki(r){r.memoizedState!==null&&le(zt,r);var s=ve.current,o=K_(s,r.type);s!==o&&(le(Pe,r),le(ve,o))}function $r(r){Pe.current===r&&(de(ve),de(Pe)),zt.current===r&&(de(zt),lc._currentValue=ue)}var Ds=Object.prototype.hasOwnProperty,ks=n.unstable_scheduleCallback,Os=n.unstable_cancelCallback,sl=n.unstable_shouldYield,du=n.unstable_requestPaint,qn=n.unstable_now,Af=n.unstable_getCurrentPriorityLevel,al=n.unstable_ImmediatePriority,Pa=n.unstable_UserBlockingPriority,Ps=n.unstable_NormalPriority,Sf=n.unstable_LowPriority,Ma=n.unstable_IdlePriority,ol=n.log,hu=n.unstable_setDisableYieldValue,gt=null,Xe=null;function In(r){if(typeof ol=="function"&&hu(r),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(gt,r)}catch{}}var nn=Math.clz32?Math.clz32:Ms,fu=Math.log,xf=Math.LN2;function Ms(r){return r>>>=0,r===0?32:31-(fu(r)/xf|0)|0}var Vs=256,Ls=4194304;function ar(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Va(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var h=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?h=ar(c):(b&=A,b!==0?h=ar(b):o||(o=A&~r,o!==0&&(h=ar(o))))):(A=c&~g,A!==0?h=ar(A):b!==0?h=ar(b):o||(o=c&~r,o!==0&&(h=ar(o)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:h}function Us(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ll(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var r=Vs;return Vs<<=1,(Vs&4194048)===0&&(Vs=256),r}function ul(){var r=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),r}function Kr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Qr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function dl(r,s,o,c,h,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,O=r.expirationTimes,G=r.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-nn(o),ie=1<<Z;A[Z]=0,O[Z]=-1;var $=G[Z];if($!==null)for(G[Z]=null,Z=0;Z<$.length;Z++){var K=$[Z];K!==null&&(K.lane&=-536870913)}o&=~ie}c!==0&&br(r,c,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function br(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-nn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function hl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-nn(o),h=1<<c;h&s|r[c]&s&&(r[c]|=s),o&=~h}}function Oi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function La(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pi(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:hE(r.type))}function pu(r,s){var o=ne.p;try{return ne.p=r,s()}finally{ne.p=o}}var ut=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ut,Rt="__reactProps$"+ut,Fn="__reactContainer$"+ut,fl="__reactEvents$"+ut,Rf="__reactListeners$"+ut,Mi="__reactHandles$"+ut,mu="__reactResources$"+ut,js="__reactMarker$"+ut;function Vi(r){delete r[Ot],delete r[Rt],delete r[fl],delete r[Rf],delete r[Mi]}function Yr(r){var s=r[Ot];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Fn]||o[Ot]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=W_(r);r!==null;){if(o=r[Ot])return o;r=W_(r)}return s}r=o,o=r.parentNode}return null}function wr(r){if(r=r[Ot]||r[Fn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Tr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function dn(r){var s=r[mu];return s||(s=r[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(r){r[js]=!0}var pl=new Set,Ua={};function or(r,s){Xr(r,s),Xr(r+"Capture",s)}function Xr(r,s){for(Ua[r]=s,r=0;r<s.length;r++)pl.add(s[r])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},zs={};function vu(r){return Ds.call(zs,r)?!0:Ds.call(yu,r)?!1:gu.test(r)?zs[r]=!0:(yu[r]=!0,!1)}function Li(r,s,o){if(vu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ar(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Qt(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var Bs,_u;function Wr(r){if(Bs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Bs=s&&s[1]||"",_u=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+r+_u}var ja=!1;function za(r,s){if(!r||ja)return"";ja=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(K){var $=K}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(K){$=K}r.call(ie.prototype)}}else{try{throw Error()}catch(K){$=K}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var O=b.split(`
`),G=A.split(`
`);for(h=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(c===O.length||h===G.length)for(c=O.length-1,h=G.length-1;1<=c&&0<=h&&O[c]!==G[h];)h--;for(;1<=c&&0<=h;c--,h--)if(O[c]!==G[h]){if(c!==1||h!==1)do if(c--,h--,0>h||O[c]!==G[h]){var Z=`
`+O[c].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=c&&0<=h);break}}}finally{ja=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Wr(o):""}function ml(r){switch(r.tag){case 26:case 27:case 5:return Wr(r.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return za(r.type,!1);case 11:return za(r.type.render,!1);case 1:return za(r.type,!0);case 31:return Wr("Activity");default:return""}}function Ba(r){try{var s="";do s+=ml(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function gl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Cf(r){var s=gl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function qa(r){r._valueTracker||(r._valueTracker=Cf(r))}function yl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=gl(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function qs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var If=/[\n"\\]/g;function Ct(r){return r.replace(If,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nn(r,s,o,c,h,g,b,A){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+hn(s)):r.value!==""+hn(s)&&(r.value=""+hn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Ui(r,b,hn(s)):o!=null?Ui(r,b,hn(o)):c!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+hn(A):r.removeAttribute("name")}function Fs(r,s,o,c,h,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+hn(o):"",s=s!=null?""+hn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=A?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Ui(r,s,o){s==="number"&&qs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Jr(r,s,o,c){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+hn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function et(r,s,o){if(s!=null&&(s=""+hn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+hn(o):""}function Hs(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(it(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=hn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Hn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Gs.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function vl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&o[h]!==c&&Eu(r,h,c)}else for(var g in s)s.hasOwnProperty(g)&&Eu(r,g,s[g])}function _l(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(r){return Df.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Zr=null;function Gn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ei=null,ti=null;function El(r){var s=wr(r);if(s&&(r=s.stateNode)){var o=r[Rt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Nn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var h=c[Rt]||null;if(!h)throw Error(i(90));Nn(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&yl(c)}break e;case"textarea":et(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Jr(r,!!o.multiple,s,!1)}}}var Sr=!1;function bu(r,s,o){if(Sr)return r(s,o);Sr=!0;try{var c=r(s);return c}finally{if(Sr=!1,(ei!==null||ti!==null)&&(pd(),ei&&(s=ei,r=ti,ti=ei=null,El(s),r)))for(s=0;s<r.length;s++)El(r[s])}}function $s(r,s){var o=r.stateNode;if(o===null)return null;var c=o[Rt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(lr)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){$n=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{$n=!1}var xr=null,ji=null,ni=null;function bl(){if(ni)return ni;var r,s=ji,o=s.length,c,h="value"in xr?xr.value:xr.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var b=o-r;for(c=1;c<=b&&s[o-c]===h[g-c];c++);return ni=h.slice(r,1<c?1-c:void 0)}function Rr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Cr(){return!0}function wl(){return!1}function Bt(r){function s(o,c,h,g,b){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cr:wl,this.isPropagationStopped=wl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),s}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Bt(Qe),Qs=y({},Qe,{view:0,detail:0}),wu=Bt(Qs),Ga,$a,Ir,Ys=y({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ir&&(Ir&&r.type==="mousemove"?(Ga=r.screenX-Ir.screenX,$a=r.screenY-Ir.screenY):$a=Ga=0,Ir=r),Ga)},movementY:function(r){return"movementY"in r?r.movementY:$a}}),Kn=Bt(Ys),Tu=y({},Ys,{dataTransfer:0}),kf=Bt(Tu),Xs=y({},Qs,{relatedTarget:0}),Ka=Bt(Xs),Tl=y({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=Bt(Tl),Au=y({},Qe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ya=Bt(Au),Of=y({},Qe,{data:0}),Al=Bt(Of),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=xu[r])?!!s[r]:!1}function Js(){return Sl}var Ru=y({},Qs,{key:function(r){if(r.key){var s=Ws[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Rr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Su[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(r){return r.type==="keypress"?Rr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Rr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xa=Bt(Ru),Cu=y({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=Bt(Cu),ri=y({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),Iu=Bt(ri),Nu=y({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=Bt(Nu),ku=y({},Ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=Bt(ku),fn=y({},Qe,{newState:0,oldState:0}),Ou=Bt(fn),Pu=[9,13,27,32],Nr=lr&&"CompositionEvent"in window,d=null;lr&&"documentMode"in document&&(d=document.documentMode);var _=lr&&"TextEvent"in window&&!d,E=lr&&(!Nr||d&&8<d&&11>=d),S=" ",F=!1;function Y(r,s){switch(r){case"keyup":return Pu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Be=!1;function Pt(r,s){switch(r){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(F=!0,S);case"textInput":return r=s.data,r===S&&F?null:r;default:return null}}function qe(r,s){if(Be)return r==="compositionend"||!Nr&&Y(r,s)?(r=bl(),ni=ji=xr=null,Be=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!qt[r.type]:s==="textarea"}function ii(r,s,o,c){ei?ti?ti.push(c):ti=[c]:ei=c,s=Ed(s,"onChange"),0<s.length&&(o=new Ha("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Yt=null,Dr=null;function Rl(r){B_(r,0)}function Mu(r){var s=Tr(r);if(yl(s))return r}function l0(r,s){if(r==="change")return s}var c0=!1;if(lr){var Pf;if(lr){var Mf="oninput"in document;if(!Mf){var u0=document.createElement("div");u0.setAttribute("oninput","return;"),Mf=typeof u0.oninput=="function"}Pf=Mf}else Pf=!1;c0=Pf&&(!document.documentMode||9<document.documentMode)}function d0(){Yt&&(Yt.detachEvent("onpropertychange",h0),Dr=Yt=null)}function h0(r){if(r.propertyName==="value"&&Mu(Dr)){var s=[];ii(s,Dr,r,Gn(r)),bu(Rl,s)}}function _x(r,s,o){r==="focusin"?(d0(),Yt=s,Dr=o,Yt.attachEvent("onpropertychange",h0)):r==="focusout"&&d0()}function Ex(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Mu(Dr)}function bx(r,s){if(r==="click")return Mu(s)}function wx(r,s){if(r==="input"||r==="change")return Mu(s)}function Tx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Dn=typeof Object.is=="function"?Object.is:Tx;function Cl(r,s){if(Dn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!Ds.call(s,h)||!Dn(r[h],s[h]))return!1}return!0}function f0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function p0(r,s){var o=f0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=f0(o)}}function m0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?m0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function g0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=qs(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=qs(r.document)}return s}function Vf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Ax=lr&&"documentMode"in document&&11>=document.documentMode,Ja=null,Lf=null,Il=null,Uf=!1;function y0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uf||Ja==null||Ja!==qs(c)||(c=Ja,"selectionStart"in c&&Vf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Il&&Cl(Il,c)||(Il=c,c=Ed(Lf,"onSelect"),0<c.length&&(s=new Ha("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Ja)))}function Zs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Za={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},jf={},v0={};lr&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function ea(r){if(jf[r])return jf[r];if(!Za[r])return r;var s=Za[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in v0)return jf[r]=s[o];return r}var _0=ea("animationend"),E0=ea("animationiteration"),b0=ea("animationstart"),Sx=ea("transitionrun"),xx=ea("transitionstart"),Rx=ea("transitioncancel"),w0=ea("transitionend"),T0=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function cr(r,s){T0.set(r,s),or(s,[r])}var A0=new WeakMap;function Qn(r,s){if(typeof r=="object"&&r!==null){var o=A0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ba(s)},A0.set(r,s),s)}return{value:r,source:s,stack:Ba(s)}}var Yn=[],eo=0,Bf=0;function Vu(){for(var r=eo,s=Bf=eo=0;s<r;){var o=Yn[s];Yn[s++]=null;var c=Yn[s];Yn[s++]=null;var h=Yn[s];Yn[s++]=null;var g=Yn[s];if(Yn[s++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}g!==0&&S0(o,h,g)}}function Lu(r,s,o,c){Yn[eo++]=r,Yn[eo++]=s,Yn[eo++]=o,Yn[eo++]=c,Bf|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function qf(r,s,o,c){return Lu(r,s,o,c),Uu(r)}function to(r,s){return Lu(r,null,null,s),Uu(r)}function S0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&s!==null&&(h=31-nn(o),r=g.hiddenUpdates,c=r[h],c===null?r[h]=[s]:c.push(s),s.lane=o|536870912),g):null}function Uu(r){if(50<ec)throw ec=0,Qp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var no={};function Cx(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,o,c){return new Cx(r,s,o,c)}function Ff(r){return r=r.prototype,!(!r||!r.isReactComponent)}function si(r,s){var o=r.alternate;return o===null?(o=kn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function x0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ju(r,s,o,c,h,g){var b=0;if(c=r,typeof r=="function")Ff(r)&&(b=1);else if(typeof r=="string")b=NR(r,o,ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=kn(31,o,s,h),r.elementType=N,r.lanes=g,r;case x:return ta(o.children,h,g,s);case D:b=8,h|=24;break;case R:return r=kn(12,o,s,h|2),r.elementType=R,r.lanes=g,r;case ae:return r=kn(13,o,s,h),r.elementType=ae,r.lanes=g,r;case pe:return r=kn(19,o,s,h),r.elementType=pe,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:case W:b=10;break e;case Q:b=9;break e;case oe:b=11;break e;case V:b=14;break e;case C:b=16,c=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=kn(b,o,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function ta(r,s,o,c){return r=kn(7,r,c,s),r.lanes=o,r}function Hf(r,s,o){return r=kn(6,r,null,s),r.lanes=o,r}function Gf(r,s,o){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ro=[],io=0,zu=null,Bu=0,Xn=[],Wn=0,na=null,ai=1,oi="";function ra(r,s){ro[io++]=Bu,ro[io++]=zu,zu=r,Bu=s}function R0(r,s,o){Xn[Wn++]=ai,Xn[Wn++]=oi,Xn[Wn++]=na,na=r;var c=ai;r=oi;var h=32-nn(c)-1;c&=~(1<<h),o+=1;var g=32-nn(s)+h;if(30<g){var b=h-h%5;g=(c&(1<<b)-1).toString(32),c>>=b,h-=b,ai=1<<32-nn(s)+h|o<<h|c,oi=g+r}else ai=1<<g|o<<h|c,oi=r}function $f(r){r.return!==null&&(ra(r,1),R0(r,1,0))}function Kf(r){for(;r===zu;)zu=ro[--io],ro[io]=null,Bu=ro[--io],ro[io]=null;for(;r===na;)na=Xn[--Wn],Xn[Wn]=null,oi=Xn[--Wn],Xn[Wn]=null,ai=Xn[--Wn],Xn[Wn]=null}var pn=null,yt=null,Ke=!1,ia=null,kr=!1,Qf=Error(i(519));function sa(r){var s=Error(i(418,""));throw kl(Qn(s,r)),Qf}function C0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Ot]=r,s[Rt]=c,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<nc.length;o++)Le(nc[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Fs(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),qa(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),Hs(s,c.value,c.defaultValue,c.children),qa(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||G_(s.textContent,o)?(c.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),c.onScroll!=null&&Le("scroll",s),c.onScrollEnd!=null&&Le("scrollend",s),c.onClick!=null&&(s.onclick=bd),s=!0):s=!1,s||sa(r)}function I0(r){for(pn=r.return;pn;)switch(pn.tag){case 5:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:pn=pn.return}}function Nl(r){if(r!==pn)return!1;if(!Ke)return I0(r),Ke=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||um(r.type,r.memoizedProps)),o=!o),o&&yt&&sa(r),I0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){yt=dr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}yt=null}}else s===27?(s=yt,ts(r.type)?(r=pm,pm=null,yt=r):yt=s):yt=pn?dr(r.stateNode.nextSibling):null;return!0}function Dl(){yt=pn=null,Ke=!1}function N0(){var r=ia;return r!==null&&(bn===null?bn=r:bn.push.apply(bn,r),ia=null),r}function kl(r){ia===null?ia=[r]:ia.push(r)}var Yf=re(null),aa=null,li=null;function zi(r,s,o){le(Yf,s._currentValue),s._currentValue=o}function ci(r){r._currentValue=Yf.current,de(Yf)}function Xf(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Wf(r,s,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var b=h.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=h;for(var O=0;O<s.length;O++)if(A.context===s[O]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Xf(g.return,o,r),c||(b=null);break e}g=A.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Xf(b,o,r),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===r){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Ol(r,s,o,c){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=h.type;Dn(h.pendingProps.value,b.value)||(r!==null?r.push(A):r=[A])}}else if(h===zt.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(lc):r=[lc])}h=h.return}r!==null&&Wf(s,r,o,c),s.flags|=262144}function qu(r){for(r=r.firstContext;r!==null;){if(!Dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function oa(r){aa=r,li=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return D0(aa,r)}function Fu(r,s){return aa===null&&oa(r),D0(r,s)}function D0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},li===null){if(r===null)throw Error(i(308));li=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else li=li.next=s;return o}var Ix=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},Nx=n.unstable_scheduleCallback,Dx=n.unstable_NormalPriority,Vt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new Ix,data:new Map,refCount:0}}function Pl(r){r.refCount--,r.refCount===0&&Nx(Dx,function(){r.controller.abort()})}var Ml=null,Zf=0,so=0,ao=null;function kx(r,s){if(Ml===null){var o=Ml=[];Zf=0,so=tm(),ao={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Zf++,s.then(k0,k0),s}function k0(){if(--Zf===0&&Ml!==null){ao!==null&&(ao.status="fulfilled");var r=Ml;Ml=null,so=0,ao=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Ox(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var O0=J.S;J.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&kx(r,s),O0!==null&&O0(r,s)};var la=re(null);function ep(){var r=la.current;return r!==null?r:ot.pooledCache}function Hu(r,s){s===null?le(la,la.current):le(la,s.pool)}function P0(){var r=ep();return r===null?null:{parent:Vt._currentValue,pool:r}}var Vl=Error(i(460)),M0=Error(i(474)),Gu=Error(i(542)),tp={then:function(){}};function V0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $u(){}function L0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then($u,$u),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,j0(r),r;default:if(typeof s.status=="string")s.then($u,$u);else{if(r=ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,j0(r),r}throw Ll=s,Vl}}var Ll=null;function U0(){if(Ll===null)throw Error(i(459));var r=Ll;return Ll=null,r}function j0(r){if(r===Vl||r===Gu)throw Error(i(483))}var Bi=!1;function np(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function qi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Fi(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Uu(r),S0(r,null,o),s}return Lu(r,c,s,o),Uu(r)}function Ul(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,hl(r,o)}}function ip(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var sp=!1;function jl(){if(sp){var r=ao;if(r!==null)throw r}}function zl(r,s,o,c){sp=!1;var h=r.updateQueue;Bi=!1;var g=h.firstBaseUpdate,b=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var O=A,G=O.next;O.next=null,b===null?g=G:b.next=G,b=O;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==b&&(A===null?Z.firstBaseUpdate=G:A.next=G,Z.lastBaseUpdate=O))}if(g!==null){var ie=h.baseState;b=0,Z=G=O=null,A=g;do{var $=A.lane&-536870913,K=$!==A.lane;if(K?(Fe&$)===$:(c&$)===$){$!==0&&$===so&&(sp=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=r,_e=A;$=s;var rt=o;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){ie=Te.call(rt,ie,$);break e}ie=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,$=typeof Te=="function"?Te.call(rt,ie,$):Te,$==null)break e;ie=y({},ie,$);break e;case 2:Bi=!0}}$=A.callback,$!==null&&(r.flags|=64,K&&(r.flags|=8192),K=h.callbacks,K===null?h.callbacks=[$]:K.push($))}else K={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(G=Z=K,O=ie):Z=Z.next=K,b|=$;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;K=A,A=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(O=ie),h.baseState=O,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,g===null&&(h.shared.lanes=0),Wi|=b,r.lanes=b,r.memoizedState=ie}}function z0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function B0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)z0(o[r],s)}var oo=re(null),Ku=re(0);function q0(r,s){r=gi,le(Ku,r),le(oo,s),gi=r|s.baseLanes}function ap(){le(Ku,gi),le(oo,oo.current)}function op(){gi=Ku.current,de(oo),de(Ku)}var Hi=0,De=null,tt=null,It=null,Qu=!1,lo=!1,ca=!1,Yu=0,Bl=0,co=null,Px=0;function Tt(){throw Error(i(321))}function lp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Dn(r[o],s[o]))return!1;return!0}function cp(r,s,o,c,h,g){return Hi=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=r===null||r.memoizedState===null?Sv:xv,ca=!1,g=o(c,h),ca=!1,lo&&(g=H0(s,o,c,h)),F0(r),g}function F0(r){J.H=td;var s=tt!==null&&tt.next!==null;if(Hi=0,It=tt=De=null,Qu=!1,Bl=0,co=null,s)throw Error(i(300));r===null||Ft||(r=r.dependencies,r!==null&&qu(r)&&(Ft=!0))}function H0(r,s,o,c){De=r;var h=0;do{if(lo&&(co=null),Bl=0,lo=!1,25<=h)throw Error(i(301));if(h+=1,It=tt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=Bx,g=s(o,c)}while(lo);return g}function Mx(){var r=J.H,s=r.useState()[0];return s=typeof s.then=="function"?ql(s):s,r=r.useState()[0],(tt!==null?tt.memoizedState:null)!==r&&(De.flags|=1024),s}function up(){var r=Yu!==0;return Yu=0,r}function dp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function hp(r){if(Qu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qu=!1}Hi=0,It=tt=De=null,lo=!1,Bl=Yu=0,co=null}function _n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?De.memoizedState=It=r:It=It.next=r,It}function Nt(){if(tt===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=tt.next;var s=It===null?De.memoizedState:It.next;if(s!==null)It=s,tt=r;else{if(r===null)throw De.alternate===null?Error(i(467)):Error(i(310));tt=r,r={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?De.memoizedState=It=r:It=It.next=r}return It}function fp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(r){var s=Bl;return Bl+=1,co===null&&(co=[]),r=L0(co,r,s),s=De,(It===null?s.memoizedState:It.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?Sv:xv),r}function Xu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ql(r);if(r.$$typeof===W)return rn(r)}throw Error(i(438,String(r)))}function pp(r){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=fp(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=L;return s.index++,o}function ui(r,s){return typeof s=="function"?s(r):s}function Wu(r){var s=Nt();return mp(s,tt,r)}function mp(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var h=r.baseQueue,g=c.pending;if(g!==null){if(h!==null){var b=h.next;h.next=g.next,g.next=b}s.baseQueue=h=g,c.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var A=b=null,O=null,G=s,Z=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(Fe&ie)===ie:(Hi&ie)===ie){var $=G.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===so&&(Z=!0);else if((Hi&$)===$){G=G.next,$===so&&(Z=!0);continue}else ie={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(A=O=ie,b=g):O=O.next=ie,De.lanes|=$,Wi|=$;ie=G.action,ca&&o(g,ie),g=G.hasEagerState?G.eagerState:o(g,ie)}else $={lane:ie,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(A=O=$,b=g):O=O.next=$,De.lanes|=ie,Wi|=ie;G=G.next}while(G!==null&&G!==s);if(O===null?b=g:O.next=A,!Dn(g,r.memoizedState)&&(Ft=!0,Z&&(o=ao,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=O,c.lastRenderedState=g}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function gp(r){var s=Nt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do g=r(g,b.action),b=b.next;while(b!==h);Dn(g,s.memoizedState)||(Ft=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function G0(r,s,o){var c=De,h=Nt(),g=Ke;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!Dn((tt||h).memoizedState,o);b&&(h.memoizedState=o,Ft=!0),h=h.queue;var A=Q0.bind(null,c,h,r);if(Fl(2048,8,A,[r]),h.getSnapshot!==s||b||It!==null&&It.memoizedState.tag&1){if(c.flags|=2048,uo(9,Ju(),K0.bind(null,c,h,o,s),null),ot===null)throw Error(i(349));g||(Hi&124)!==0||$0(c,s,o)}return o}function $0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=fp(),De.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function K0(r,s,o,c){s.value=o,s.getSnapshot=c,Y0(s)&&X0(r)}function Q0(r,s,o){return o(function(){Y0(s)&&X0(r)})}function Y0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Dn(r,o)}catch{return!0}}function X0(r){var s=to(r,2);s!==null&&Ln(s,r,2)}function yp(r){var s=_n();if(typeof r=="function"){var o=r;if(r=o(),ca){In(!0);try{o()}finally{In(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:r},s}function W0(r,s,o,c){return r.baseState=o,mp(r,tt,typeof c=="function"?c:ui)}function Vx(r,s,o,c,h){if(ed(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};J.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,J0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function J0(r,s){var o=s.action,c=s.payload,h=r.state;if(s.isTransition){var g=J.T,b={};J.T=b;try{var A=o(h,c),O=J.S;O!==null&&O(b,A),Z0(r,s,A)}catch(G){vp(r,s,G)}finally{J.T=g}}else try{g=o(h,c),Z0(r,s,g)}catch(G){vp(r,s,G)}}function Z0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ev(r,s,c)},function(c){return vp(r,s,c)}):ev(r,s,o)}function ev(r,s,o){s.status="fulfilled",s.value=o,tv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,J0(r,o)))}function vp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,tv(s),s=s.next;while(s!==c)}r.action=null}function tv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function nv(r,s){return s}function rv(r,s){if(Ke){var o=ot.formState;if(o!==null){e:{var c=De;if(Ke){if(yt){t:{for(var h=yt,g=kr;h.nodeType!==8;){if(!g){h=null;break t}if(h=dr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){yt=dr(h.nextSibling),c=h.data==="F!";break e}}sa(c)}c=!1}c&&(s=o[0])}}return o=_n(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nv,lastRenderedState:s},o.queue=c,o=wv.bind(null,De,c),c.dispatch=o,c=yp(!1),g=Tp.bind(null,De,!1,c.queue),c=_n(),h={state:s,dispatch:null,action:r,pending:null},c.queue=h,o=Vx.bind(null,De,h,g,o),h.dispatch=o,c.memoizedState=r,[s,o,!1]}function iv(r){var s=Nt();return sv(s,tt,r)}function sv(r,s,o){if(s=mp(r,s,nv)[0],r=Wu(ui)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ql(s)}catch(b){throw b===Vl?Gu:b}else c=s;s=Nt();var h=s.queue,g=h.dispatch;return o!==s.memoizedState&&(De.flags|=2048,uo(9,Ju(),Lx.bind(null,h,o),null)),[c,g,r]}function Lx(r,s){r.action=s}function av(r){var s=Nt(),o=tt;if(o!==null)return sv(s,o,r);Nt(),s=s.memoizedState,o=Nt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function uo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=De.updateQueue,s===null&&(s=fp(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Ju(){return{destroy:void 0,resource:void 0}}function ov(){return Nt().memoizedState}function Zu(r,s,o,c){var h=_n();c=c===void 0?null:c,De.flags|=r,h.memoizedState=uo(1|s,Ju(),o,c)}function Fl(r,s,o,c){var h=Nt();c=c===void 0?null:c;var g=h.memoizedState.inst;tt!==null&&c!==null&&lp(c,tt.memoizedState.deps)?h.memoizedState=uo(s,g,o,c):(De.flags|=r,h.memoizedState=uo(1|s,g,o,c))}function lv(r,s){Zu(8390656,8,r,s)}function cv(r,s){Fl(2048,8,r,s)}function uv(r,s){return Fl(4,2,r,s)}function dv(r,s){return Fl(4,4,r,s)}function hv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function fv(r,s,o){o=o!=null?o.concat([r]):null,Fl(4,4,hv.bind(null,s,r),o)}function _p(){}function pv(r,s){var o=Nt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&lp(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function mv(r,s){var o=Nt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&lp(s,c[1]))return c[0];if(c=r(),ca){In(!0);try{r()}finally{In(!1)}}return o.memoizedState=[c,s],c}function Ep(r,s,o){return o===void 0||(Hi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=v_(),De.lanes|=r,Wi|=r,o)}function gv(r,s,o,c){return Dn(o,s)?o:oo.current!==null?(r=Ep(r,o,c),Dn(r,s)||(Ft=!0),r):(Hi&42)===0?(Ft=!0,r.memoizedState=o):(r=v_(),De.lanes|=r,Wi|=r,s)}function yv(r,s,o,c,h){var g=ne.p;ne.p=g!==0&&8>g?g:8;var b=J.T,A={};J.T=A,Tp(r,!1,s,o);try{var O=h(),G=J.S;if(G!==null&&G(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=Ox(O,c);Hl(r,s,Z,Vn(r))}else Hl(r,s,c,Vn(r))}catch(ie){Hl(r,s,{then:function(){},status:"rejected",reason:ie},Vn())}finally{ne.p=g,J.T=b}}function Ux(){}function bp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var h=vv(r).queue;yv(r,h,s,ue,o===null?Ux:function(){return _v(r),o(c)})}function vv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:ue},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function _v(r){var s=vv(r).next.queue;Hl(r,s,{},Vn())}function wp(){return rn(lc)}function Ev(){return Nt().memoizedState}function bv(){return Nt().memoizedState}function jx(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Vn();r=qi(o);var c=Fi(s,r,o);c!==null&&(Ln(c,s,o),Ul(c,s,o)),s={cache:Jf()},r.payload=s;return}s=s.return}}function zx(r,s,o){var c=Vn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ed(r)?Tv(s,o):(o=qf(r,s,o,c),o!==null&&(Ln(o,r,c),Av(o,s,c)))}function wv(r,s,o){var c=Vn();Hl(r,s,o,c)}function Hl(r,s,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ed(r))Tv(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,A=g(b,o);if(h.hasEagerState=!0,h.eagerState=A,Dn(A,b))return Lu(r,s,h,0),ot===null&&Vu(),!1}catch{}finally{}if(o=qf(r,s,h,c),o!==null)return Ln(o,r,c),Av(o,s,c),!0}return!1}function Tp(r,s,o,c){if(c={lane:2,revertLane:tm(),action:c,hasEagerState:!1,eagerState:null,next:null},ed(r)){if(s)throw Error(i(479))}else s=qf(r,o,c,2),s!==null&&Ln(s,r,2)}function ed(r){var s=r.alternate;return r===De||s!==null&&s===De}function Tv(r,s){lo=Qu=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Av(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,hl(r,o)}}var td={readContext:rn,use:Xu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Sv={readContext:rn,use:Xu,useCallback:function(r,s){return _n().memoizedState=[r,s===void 0?null:s],r},useContext:rn,useEffect:lv,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Zu(4194308,4,hv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Zu(4194308,4,r,s)},useInsertionEffect:function(r,s){Zu(4,2,r,s)},useMemo:function(r,s){var o=_n();s=s===void 0?null:s;var c=r();if(ca){In(!0);try{r()}finally{In(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=_n();if(o!==void 0){var h=o(s);if(ca){In(!0);try{o(s)}finally{In(!1)}}}else h=s;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=zx.bind(null,De,r),[c.memoizedState,r]},useRef:function(r){var s=_n();return r={current:r},s.memoizedState=r},useState:function(r){r=yp(r);var s=r.queue,o=wv.bind(null,De,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:_p,useDeferredValue:function(r,s){var o=_n();return Ep(o,r,s)},useTransition:function(){var r=yp(!1);return r=yv.bind(null,De,r.queue,!0,!1),_n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=De,h=_n();if(Ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ot===null)throw Error(i(349));(Fe&124)!==0||$0(c,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,lv(Q0.bind(null,c,g,r),[r]),c.flags|=2048,uo(9,Ju(),K0.bind(null,c,g,o,s),null),o},useId:function(){var r=_n(),s=ot.identifierPrefix;if(Ke){var o=oi,c=ai;o=(c&~(1<<32-nn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Yu++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=Px++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:wp,useFormState:rv,useActionState:rv,useOptimistic:function(r){var s=_n();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Tp.bind(null,De,!0,o),o.dispatch=s,[r,s]},useMemoCache:pp,useCacheRefresh:function(){return _n().memoizedState=jx.bind(null,De)}},xv={readContext:rn,use:Xu,useCallback:pv,useContext:rn,useEffect:cv,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:Wu,useRef:ov,useState:function(){return Wu(ui)},useDebugValue:_p,useDeferredValue:function(r,s){var o=Nt();return gv(o,tt.memoizedState,r,s)},useTransition:function(){var r=Wu(ui)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:ql(r),s]},useSyncExternalStore:G0,useId:Ev,useHostTransitionStatus:wp,useFormState:iv,useActionState:iv,useOptimistic:function(r,s){var o=Nt();return W0(o,tt,r,s)},useMemoCache:pp,useCacheRefresh:bv},Bx={readContext:rn,use:Xu,useCallback:pv,useContext:rn,useEffect:cv,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:gp,useRef:ov,useState:function(){return gp(ui)},useDebugValue:_p,useDeferredValue:function(r,s){var o=Nt();return tt===null?Ep(o,r,s):gv(o,tt.memoizedState,r,s)},useTransition:function(){var r=gp(ui)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:ql(r),s]},useSyncExternalStore:G0,useId:Ev,useHostTransitionStatus:wp,useFormState:av,useActionState:av,useOptimistic:function(r,s){var o=Nt();return tt!==null?W0(o,tt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:pp,useCacheRefresh:bv},ho=null,Gl=0;function nd(r){var s=Gl;return Gl+=1,ho===null&&(ho=[]),L0(ho,r,s)}function $l(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function rd(r,s){throw s.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Rv(r){var s=r._init;return s(r._payload)}function Cv(r){function s(B,j){if(r){var H=B.deletions;H===null?(B.deletions=[j],B.flags|=16):H.push(j)}}function o(B,j){if(!r)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function c(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function h(B,j){return B=si(B,j),B.index=0,B.sibling=null,B}function g(B,j,H){return B.index=H,r?(H=B.alternate,H!==null?(H=H.index,H<j?(B.flags|=67108866,j):H):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function b(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function A(B,j,H,te){return j===null||j.tag!==6?(j=Hf(H,B.mode,te),j.return=B,j):(j=h(j,H),j.return=B,j)}function O(B,j,H,te){var me=H.type;return me===x?Z(B,j,H.props.children,te,H.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Rv(me)===j.type)?(j=h(j,H.props),$l(j,H),j.return=B,j):(j=ju(H.type,H.key,H.props,null,B.mode,te),$l(j,H),j.return=B,j)}function G(B,j,H,te){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Gf(H,B.mode,te),j.return=B,j):(j=h(j,H.children||[]),j.return=B,j)}function Z(B,j,H,te,me){return j===null||j.tag!==7?(j=ta(H,B.mode,te,me),j.return=B,j):(j=h(j,H),j.return=B,j)}function ie(B,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Hf(""+j,B.mode,H),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return H=ju(j.type,j.key,j.props,null,B.mode,H),$l(H,j),H.return=B,H;case I:return j=Gf(j,B.mode,H),j.return=B,j;case C:var te=j._init;return j=te(j._payload),ie(B,j,H)}if(it(j)||q(j))return j=ta(j,B.mode,H,null),j.return=B,j;if(typeof j.then=="function")return ie(B,nd(j),H);if(j.$$typeof===W)return ie(B,Fu(B,j),H);rd(B,j)}return null}function $(B,j,H,te){var me=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:A(B,j,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===me?O(B,j,H,te):null;case I:return H.key===me?G(B,j,H,te):null;case C:return me=H._init,H=me(H._payload),$(B,j,H,te)}if(it(H)||q(H))return me!==null?null:Z(B,j,H,te,null);if(typeof H.then=="function")return $(B,j,nd(H),te);if(H.$$typeof===W)return $(B,j,Fu(B,H),te);rd(B,H)}return null}function K(B,j,H,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(H)||null,A(j,B,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return B=B.get(te.key===null?H:te.key)||null,O(j,B,te,me);case I:return B=B.get(te.key===null?H:te.key)||null,G(j,B,te,me);case C:var Me=te._init;return te=Me(te._payload),K(B,j,H,te,me)}if(it(te)||q(te))return B=B.get(H)||null,Z(j,B,te,me,null);if(typeof te.then=="function")return K(B,j,H,nd(te),me);if(te.$$typeof===W)return K(B,j,H,Fu(j,te),me);rd(j,te)}return null}function Te(B,j,H,te){for(var me=null,Me=null,ge=j,Ee=j=0,Gt=null;ge!==null&&Ee<H.length;Ee++){ge.index>Ee?(Gt=ge,ge=null):Gt=ge.sibling;var $e=$(B,ge,H[Ee],te);if($e===null){ge===null&&(ge=Gt);break}r&&ge&&$e.alternate===null&&s(B,ge),j=g($e,j,Ee),Me===null?me=$e:Me.sibling=$e,Me=$e,ge=Gt}if(Ee===H.length)return o(B,ge),Ke&&ra(B,Ee),me;if(ge===null){for(;Ee<H.length;Ee++)ge=ie(B,H[Ee],te),ge!==null&&(j=g(ge,j,Ee),Me===null?me=ge:Me.sibling=ge,Me=ge);return Ke&&ra(B,Ee),me}for(ge=c(ge);Ee<H.length;Ee++)Gt=K(ge,B,Ee,H[Ee],te),Gt!==null&&(r&&Gt.alternate!==null&&ge.delete(Gt.key===null?Ee:Gt.key),j=g(Gt,j,Ee),Me===null?me=Gt:Me.sibling=Gt,Me=Gt);return r&&ge.forEach(function(as){return s(B,as)}),Ke&&ra(B,Ee),me}function _e(B,j,H,te){if(H==null)throw Error(i(151));for(var me=null,Me=null,ge=j,Ee=j=0,Gt=null,$e=H.next();ge!==null&&!$e.done;Ee++,$e=H.next()){ge.index>Ee?(Gt=ge,ge=null):Gt=ge.sibling;var as=$(B,ge,$e.value,te);if(as===null){ge===null&&(ge=Gt);break}r&&ge&&as.alternate===null&&s(B,ge),j=g(as,j,Ee),Me===null?me=as:Me.sibling=as,Me=as,ge=Gt}if($e.done)return o(B,ge),Ke&&ra(B,Ee),me;if(ge===null){for(;!$e.done;Ee++,$e=H.next())$e=ie(B,$e.value,te),$e!==null&&(j=g($e,j,Ee),Me===null?me=$e:Me.sibling=$e,Me=$e);return Ke&&ra(B,Ee),me}for(ge=c(ge);!$e.done;Ee++,$e=H.next())$e=K(ge,B,Ee,$e.value,te),$e!==null&&(r&&$e.alternate!==null&&ge.delete($e.key===null?Ee:$e.key),j=g($e,j,Ee),Me===null?me=$e:Me.sibling=$e,Me=$e);return r&&ge.forEach(function(qR){return s(B,qR)}),Ke&&ra(B,Ee),me}function rt(B,j,H,te){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var me=H.key;j!==null;){if(j.key===me){if(me=H.type,me===x){if(j.tag===7){o(B,j.sibling),te=h(j,H.props.children),te.return=B,B=te;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Rv(me)===j.type){o(B,j.sibling),te=h(j,H.props),$l(te,H),te.return=B,B=te;break e}o(B,j);break}else s(B,j);j=j.sibling}H.type===x?(te=ta(H.props.children,B.mode,te,H.key),te.return=B,B=te):(te=ju(H.type,H.key,H.props,null,B.mode,te),$l(te,H),te.return=B,B=te)}return b(B);case I:e:{for(me=H.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){o(B,j.sibling),te=h(j,H.children||[]),te.return=B,B=te;break e}else{o(B,j);break}else s(B,j);j=j.sibling}te=Gf(H,B.mode,te),te.return=B,B=te}return b(B);case C:return me=H._init,H=me(H._payload),rt(B,j,H,te)}if(it(H))return Te(B,j,H,te);if(q(H)){if(me=q(H),typeof me!="function")throw Error(i(150));return H=me.call(H),_e(B,j,H,te)}if(typeof H.then=="function")return rt(B,j,nd(H),te);if(H.$$typeof===W)return rt(B,j,Fu(B,H),te);rd(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(o(B,j.sibling),te=h(j,H),te.return=B,B=te):(o(B,j),te=Hf(H,B.mode,te),te.return=B,B=te),b(B)):o(B,j)}return function(B,j,H,te){try{Gl=0;var me=rt(B,j,H,te);return ho=null,me}catch(ge){if(ge===Vl||ge===Gu)throw ge;var Me=kn(29,ge,null,B.mode);return Me.lanes=te,Me.return=B,Me}finally{}}}var fo=Cv(!0),Iv=Cv(!1),Jn=re(null),Or=null;function Gi(r){var s=r.alternate;le(Lt,Lt.current&1),le(Jn,r),Or===null&&(s===null||oo.current!==null||s.memoizedState!==null)&&(Or=r)}function Nv(r){if(r.tag===22){if(le(Lt,Lt.current),le(Jn,r),Or===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Or=r)}}else $i()}function $i(){le(Lt,Lt.current),le(Jn,Jn.current)}function di(r){de(Jn),Or===r&&(Or=null),de(Lt)}var Lt=re(0);function id(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||fm(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ap(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Sp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Vn(),h=qi(c);h.payload=s,o!=null&&(h.callback=o),s=Fi(r,h,c),s!==null&&(Ln(s,r,c),Ul(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Vn(),h=qi(c);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Fi(r,h,c),s!==null&&(Ln(s,r,c),Ul(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Vn(),c=qi(o);c.tag=2,s!=null&&(c.callback=s),s=Fi(r,c,o),s!==null&&(Ln(s,r,o),Ul(s,r,o))}};function Dv(r,s,o,c,h,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!Cl(o,c)||!Cl(h,g):!0}function kv(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Sp.enqueueReplaceState(s,s.state,null)}function ua(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var sd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ov(r){sd(r)}function Pv(r){console.error(r)}function Mv(r){sd(r)}function ad(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Vv(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xp(r,s,o){return o=qi(o),o.tag=3,o.payload={element:null},o.callback=function(){ad(r,s)},o}function Lv(r){return r=qi(r),r.tag=3,r}function Uv(r,s,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;r.payload=function(){return h(g)},r.callback=function(){Vv(s,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){Vv(s,o,c),typeof h!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function qx(r,s,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Ol(s,o,h,!0),o=Jn.current,o!==null){switch(o.tag){case 13:return Or===null?Xp():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===tp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Jp(r,c,h)),!1;case 22:return o.flags|=65536,c===tp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Jp(r,c,h)),!1}throw Error(i(435,o.tag))}return Jp(r,c,h),Xp(),!1}if(Ke)return s=Jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==Qf&&(r=Error(i(422),{cause:c}),kl(Qn(r,o)))):(c!==Qf&&(s=Error(i(423),{cause:c}),kl(Qn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=Qn(c,o),h=xp(r.stateNode,c,h),ip(r,h),vt!==4&&(vt=2)),!1;var g=Error(i(520),{cause:c});if(g=Qn(g,o),Zl===null?Zl=[g]:Zl.push(g),vt!==4&&(vt=2),s===null)return!0;c=Qn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=xp(o.stateNode,c,r),ip(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ji===null||!Ji.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Lv(h),Uv(h,r,o,c),ip(o,h),!1}o=o.return}while(o!==null);return!1}var jv=Error(i(461)),Ft=!1;function Xt(r,s,o,c){s.child=r===null?Iv(s,null,o,c):fo(s,r.child,o,c)}function zv(r,s,o,c,h){o=o.render;var g=s.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return oa(s),c=cp(r,s,o,b,g,h),A=up(),r!==null&&!Ft?(dp(r,s,h),hi(r,s,h)):(Ke&&A&&$f(s),s.flags|=1,Xt(r,s,c,h),s.child)}function Bv(r,s,o,c,h){if(r===null){var g=o.type;return typeof g=="function"&&!Ff(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,qv(r,s,g,c,h)):(r=ju(o.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Pp(r,h)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Cl,o(b,c)&&r.ref===s.ref)return hi(r,s,h)}return s.flags|=1,r=si(g,c),r.ref=s.ref,r.return=s,s.child=r}function qv(r,s,o,c,h){if(r!==null){var g=r.memoizedProps;if(Cl(g,c)&&r.ref===s.ref)if(Ft=!1,s.pendingProps=c=g,Pp(r,h))(r.flags&131072)!==0&&(Ft=!0);else return s.lanes=r.lanes,hi(r,s,h)}return Rp(r,s,o,c,h)}function Fv(r,s,o){var c=s.pendingProps,h=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return Hv(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hu(s,g!==null?g.cachePool:null),g!==null?q0(s,g):ap(),Nv(s);else return s.lanes=s.childLanes=536870912,Hv(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Hu(s,g.cachePool),q0(s,g),$i(),s.memoizedState=null):(r!==null&&Hu(s,null),ap(),$i());return Xt(r,s,h,o),s.child}function Hv(r,s,o,c){var h=ep();return h=h===null?null:{parent:Vt._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Hu(s,null),ap(),Nv(s),r!==null&&Ol(r,s,c,!0),null}function od(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Rp(r,s,o,c,h){return oa(s),o=cp(r,s,o,c,void 0,h),c=up(),r!==null&&!Ft?(dp(r,s,h),hi(r,s,h)):(Ke&&c&&$f(s),s.flags|=1,Xt(r,s,o,h),s.child)}function Gv(r,s,o,c,h,g){return oa(s),s.updateQueue=null,o=H0(s,c,o,h),F0(r),c=up(),r!==null&&!Ft?(dp(r,s,g),hi(r,s,g)):(Ke&&c&&$f(s),s.flags|=1,Xt(r,s,o,g),s.child)}function $v(r,s,o,c,h){if(oa(s),s.stateNode===null){var g=no,b=o.contextType;typeof b=="object"&&b!==null&&(g=rn(b)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Sp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},np(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?rn(b):no,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Ap(s,o,b,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Sp.enqueueReplaceState(g,g.state,null),zl(s,c,g,h),jl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,O=ua(o,A);g.props=O;var G=g.context,Z=o.contextType;b=no,typeof Z=="object"&&Z!==null&&(b=rn(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||G!==b)&&kv(s,g,c,b),Bi=!1;var $=s.memoizedState;g.state=$,zl(s,c,g,h),jl(),G=s.memoizedState,A||$!==G||Bi?(typeof ie=="function"&&(Ap(s,o,ie,c),G=s.memoizedState),(O=Bi||Dv(s,o,O,c,$,G,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=G),g.props=c,g.state=G,g.context=b,c=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,rp(r,s),b=s.memoizedProps,Z=ua(o,b),g.props=Z,ie=s.pendingProps,$=g.context,G=o.contextType,O=no,typeof G=="object"&&G!==null&&(O=rn(G)),A=o.getDerivedStateFromProps,(G=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ie||$!==O)&&kv(s,g,c,O),Bi=!1,$=s.memoizedState,g.state=$,zl(s,c,g,h),jl();var K=s.memoizedState;b!==ie||$!==K||Bi||r!==null&&r.dependencies!==null&&qu(r.dependencies)?(typeof A=="function"&&(Ap(s,o,A,c),K=s.memoizedState),(Z=Bi||Dv(s,o,Z,c,$,K,O)||r!==null&&r.dependencies!==null&&qu(r.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,K,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,K,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=O,c=Z):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,od(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=fo(s,r.child,null,h),s.child=fo(s,null,o,h)):Xt(r,s,o,h),s.memoizedState=g.state,r=s.child):r=hi(r,s,h),r}function Kv(r,s,o,c){return Dl(),s.flags|=256,Xt(r,s,o,c),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ip(r){return{baseLanes:r,cachePool:P0()}}function Np(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Zn),r}function Qv(r,s,o){var c=s.pendingProps,h=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Lt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ke){if(h?Gi(s):$i(),Ke){var A=yt,O;if(O=A){e:{for(O=A,A=kr;O.nodeType!==8;){if(!A){A=null;break e}if(O=dr(O.nextSibling),O===null){A=null;break e}}A=O}A!==null?(s.memoizedState={dehydrated:A,treeContext:na!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},O=kn(18,null,null,0),O.stateNode=A,O.return=s,s.child=O,pn=s,yt=null,O=!0):O=!1}O||sa(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return fm(A)?s.lanes=32:s.lanes=536870912,null;di(s)}return A=c.children,c=c.fallback,h?($i(),h=s.mode,A=ld({mode:"hidden",children:A},h),c=ta(c,h,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,h=s.child,h.memoizedState=Ip(o),h.childLanes=Np(r,b,o),s.memoizedState=Cp,c):(Gi(s),Dp(s,A))}if(O=r.memoizedState,O!==null&&(A=O.dehydrated,A!==null)){if(g)s.flags&256?(Gi(s),s.flags&=-257,s=kp(r,s,o)):s.memoizedState!==null?($i(),s.child=r.child,s.flags|=128,s=null):($i(),h=c.fallback,A=s.mode,c=ld({mode:"visible",children:c.children},A),h=ta(h,A,o,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,fo(s,r.child,null,o),c=s.child,c.memoizedState=Ip(o),c.childLanes=Np(r,b,o),s.memoizedState=Cp,s=h);else if(Gi(s),fm(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var G=b.dgst;b=G,c=Error(i(419)),c.stack="",c.digest=b,kl({value:c,source:null,stack:null}),s=kp(r,s,o)}else if(Ft||Ol(r,s,o,!1),b=(o&r.childLanes)!==0,Ft||b){if(b=ot,b!==null&&(c=o&-o,c=(c&42)!==0?1:Oi(c),c=(c&(b.suspendedLanes|o))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,to(r,c),Ln(b,r,c),jv;A.data==="$?"||Xp(),s=kp(r,s,o)}else A.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=O.treeContext,yt=dr(A.nextSibling),pn=s,Ke=!0,ia=null,kr=!1,r!==null&&(Xn[Wn++]=ai,Xn[Wn++]=oi,Xn[Wn++]=na,ai=r.id,oi=r.overflow,na=s),s=Dp(s,c.children),s.flags|=4096);return s}return h?($i(),h=c.fallback,A=s.mode,O=r.child,G=O.sibling,c=si(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,G!==null?h=si(G,h):(h=ta(h,A,o,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,A=r.child.memoizedState,A===null?A=Ip(o):(O=A.cachePool,O!==null?(G=Vt._currentValue,O=O.parent!==G?{parent:G,pool:G}:O):O=P0(),A={baseLanes:A.baseLanes|o,cachePool:O}),h.memoizedState=A,h.childLanes=Np(r,b,o),s.memoizedState=Cp,c):(Gi(s),o=r.child,r=o.sibling,o=si(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Dp(r,s){return s=ld({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function ld(r,s){return r=kn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function kp(r,s,o){return fo(s,r.child,null,o),r=Dp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Yv(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Xf(r.return,s,o)}function Op(r,s,o,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=h)}function Xv(r,s,o){var c=s.pendingProps,h=c.revealOrder,g=c.tail;if(Xt(r,s,c.children,o),c=Lt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Yv(r,o,s);else if(r.tag===19)Yv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(le(Lt,c),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&id(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Op(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&id(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Op(s,!0,o,null,g);break;case"together":Op(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Wi|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ol(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=si(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=si(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Pp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&qu(r)))}function Fx(r,s,o){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),zi(s,Vt,r.memoizedState.cache),Dl();break;case 27:case 5:ki(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:zi(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Gi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Qv(r,s,o):(Gi(s),r=hi(r,s,o),r!==null?r.sibling:null);Gi(s);break;case 19:var h=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Ol(r,s,o,!1),c=(o&s.childLanes)!==0),h){if(c)return Xv(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Lt,Lt.current),c)break;return null;case 22:case 23:return s.lanes=0,Fv(r,s,o);case 24:zi(s,Vt,r.memoizedState.cache)}return hi(r,s,o)}function Wv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ft=!0;else{if(!Pp(r,o)&&(s.flags&128)===0)return Ft=!1,Fx(r,s,o);Ft=(r.flags&131072)!==0}else Ft=!1,Ke&&(s.flags&1048576)!==0&&R0(s,Bu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,h=c._init;if(c=h(c._payload),s.type=c,typeof c=="function")Ff(c)?(r=ua(c,r),s.tag=1,s=$v(null,s,c,r,o)):(s.tag=0,s=Rp(null,s,c,r,o));else{if(c!=null){if(h=c.$$typeof,h===oe){s.tag=11,s=zv(null,s,c,r,o);break e}else if(h===V){s.tag=14,s=Bv(null,s,c,r,o);break e}}throw s=bt(c)||c,Error(i(306,s,""))}}return s;case 0:return Rp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,h=ua(c,s.pendingProps),$v(r,s,c,h,o);case 3:e:{if(at(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;h=g.element,rp(r,s),zl(s,c,null,o);var b=s.memoizedState;if(c=b.cache,zi(s,Vt,c),c!==g.cache&&Wf(s,[Vt],o,!0),jl(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Kv(r,s,c,o);break e}else if(c!==h){h=Qn(Error(i(424)),s),kl(h),s=Kv(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(yt=dr(r.firstChild),pn=s,Ke=!0,ia=null,kr=!0,o=Iv(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Dl(),c===h){s=hi(r,s,o);break e}Xt(r,s,c,o)}s=s.child}return s;case 26:return od(r,s),r===null?(o=tE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ke||(o=s.type,r=s.pendingProps,c=wd(Ae.current).createElement(o),c[Ot]=s,c[Rt]=r,Jt(c,o,r),wt(c),s.stateNode=c):s.memoizedState=tE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ki(s),r===null&&Ke&&(c=s.stateNode=J_(s.type,s.pendingProps,Ae.current),pn=s,kr=!0,h=yt,ts(s.type)?(pm=h,yt=dr(c.firstChild)):yt=h),Xt(r,s,s.pendingProps.children,o),od(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ke&&((h=c=yt)&&(c=yR(c,s.type,s.pendingProps,kr),c!==null?(s.stateNode=c,pn=s,yt=dr(c.firstChild),kr=!1,h=!0):h=!1),h||sa(s)),ki(s),h=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,c=g.children,um(h,g)?c=null:b!==null&&um(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=cp(r,s,Mx,null,null,o),lc._currentValue=h),od(r,s),Xt(r,s,c,o),s.child;case 6:return r===null&&Ke&&((r=o=yt)&&(o=vR(o,s.pendingProps,kr),o!==null?(s.stateNode=o,pn=s,yt=null,r=!0):r=!1),r||sa(s)),null;case 13:return Qv(r,s,o);case 4:return at(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=fo(s,null,c,o):Xt(r,s,c,o),s.child;case 11:return zv(r,s,s.type,s.pendingProps,o);case 7:return Xt(r,s,s.pendingProps,o),s.child;case 8:return Xt(r,s,s.pendingProps.children,o),s.child;case 12:return Xt(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,zi(s,s.type,c.value),Xt(r,s,c.children,o),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,oa(s),h=rn(h),c=c(h),s.flags|=1,Xt(r,s,c,o),s.child;case 14:return Bv(r,s,s.type,s.pendingProps,o);case 15:return qv(r,s,s.type,s.pendingProps,o);case 19:return Xv(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=ld(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=si(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Fv(r,s,o);case 24:return oa(s),c=rn(Vt),r===null?(h=ep(),h===null&&(h=ot,g=Jf(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:c,cache:h},np(s),zi(s,Vt,h)):((r.lanes&o)!==0&&(rp(r,s),zl(s,null,null,o),jl()),h=r.memoizedState,g=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),zi(s,Vt,c)):(c=g.cache,zi(s,Vt,c),c!==h.cache&&Wf(s,[Vt],o,!0))),Xt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function fi(r){r.flags|=4}function Jv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!aE(s)){if(s=Jn.current,s!==null&&((Fe&4194048)===Fe?Or!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==Or))throw Ll=tp,M0;r.flags|=8192}}function cd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?ul():536870912,r.lanes|=s,yo|=s)}function Kl(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function pt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function Hx(r,s,o){var c=s.pendingProps;switch(Kf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ci(Vt),Er(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Nl(s)?fi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,N0())),pt(s),null;case 26:return o=s.memoizedState,r===null?(fi(s),o!==null?(pt(s),Jv(s,o)):(pt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(fi(s),pt(s),Jv(s,o)):(pt(s),s.flags&=-16777217):(r.memoizedProps!==c&&fi(s),pt(s),s.flags&=-16777217),null;case 27:$r(s),o=Ae.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&fi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}r=ve.current,Nl(s)?C0(s):(r=J_(h,c,o),s.stateNode=r,fi(s))}return pt(s),null;case 5:if($r(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&fi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}if(r=ve.current,Nl(s))C0(s);else{switch(h=wd(Ae.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}r[Ot]=s,r[Rt]=c;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(Jt(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&fi(s)}}return pt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&fi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ae.current,Nl(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,h=pn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Ot]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||G_(r.nodeValue,o)),r||sa(s)}else r=wd(r).createTextNode(c),r[Ot]=s,s.stateNode=r}return pt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Nl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Ot]=s}else Dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),h=!1}else h=N0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(di(s),s):(di(s),null)}if(di(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),cd(s,s.updateQueue),pt(s),null;case 4:return Er(),r===null&&sm(s.stateNode.containerInfo),pt(s),null;case 10:return ci(s.type),pt(s),null;case 19:if(de(Lt),h=s.memoizedState,h===null)return pt(s),null;if(c=(s.flags&128)!==0,g=h.rendering,g===null)if(c)Kl(h,!1);else{if(vt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=id(r),g!==null){for(s.flags|=128,Kl(h,!1),r=g.updateQueue,s.updateQueue=r,cd(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)x0(o,r),o=o.sibling;return le(Lt,Lt.current&1|2),s.child}r=r.sibling}h.tail!==null&&qn()>hd&&(s.flags|=128,c=!0,Kl(h,!1),s.lanes=4194304)}else{if(!c)if(r=id(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,cd(s,r),Kl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Ke)return pt(s),null}else 2*qn()-h.renderingStartTime>hd&&o!==536870912&&(s.flags|=128,c=!0,Kl(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=qn(),s.sibling=null,r=Lt.current,le(Lt,c?r&1|2:r&1),s):(pt(s),null);case 22:case 23:return di(s),op(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),o=s.updateQueue,o!==null&&cd(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&de(la),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ci(Vt),pt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Gx(r,s){switch(Kf(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ci(Vt),Er(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return $r(s),null;case 13:if(di(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Dl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return de(Lt),null;case 4:return Er(),null;case 10:return ci(s.type),null;case 22:case 23:return di(s),op(),r!==null&&de(la),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ci(Vt),null;case 25:return null;default:return null}}function Zv(r,s){switch(Kf(s),s.tag){case 3:ci(Vt),Er();break;case 26:case 27:case 5:$r(s);break;case 4:Er();break;case 13:di(s);break;case 19:de(Lt);break;case 10:ci(s.type);break;case 22:case 23:di(s),op(),r!==null&&de(la);break;case 24:ci(Vt)}}function Ql(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==h)}}catch(A){st(s,s.return,A)}}function Ki(r,s,o){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&r)===r){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,h=s;var O=o,G=A;try{G()}catch(Z){st(h,O,Z)}}}c=c.next}while(c!==g)}}catch(Z){st(s,s.return,Z)}}function e_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{B0(s,o)}catch(c){st(r,r.return,c)}}}function t_(r,s,o){o.props=ua(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){st(r,s,c)}}function Yl(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(h){st(r,s,h)}}function Pr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){st(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){st(r,s,h)}else o.current=null}function n_(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){st(r,r.return,h)}}function Mp(r,s,o){try{var c=r.stateNode;hR(c,r.type,o,s),c[Rt]=s}catch(h){st(r,r.return,h)}}function r_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ts(r.type)||r.tag===4}function Vp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||r_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ts(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=bd));else if(c!==4&&(c===27&&ts(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Lp(r,s,o),r=r.sibling;r!==null;)Lp(r,s,o),r=r.sibling}function ud(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&ts(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(ud(r,s,o),r=r.sibling;r!==null;)ud(r,s,o),r=r.sibling}function i_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Jt(s,c,o),s[Ot]=r,s[Rt]=o}catch(g){st(r,r.return,g)}}var pi=!1,At=!1,Up=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function $x(r,s){if(r=r.containerInfo,lm=Cd,r=g0(r),Vf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,O=-1,G=0,Z=0,ie=r,$=null;t:for(;;){for(var K;ie!==o||h!==0&&ie.nodeType!==3||(A=b+h),ie!==g||c!==0&&ie.nodeType!==3||(O=b+c),ie.nodeType===3&&(b+=ie.nodeValue.length),(K=ie.firstChild)!==null;)$=ie,ie=K;for(;;){if(ie===r)break t;if($===o&&++G===h&&(A=b),$===g&&++Z===c&&(O=b),(K=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=K}o=A===-1||O===-1?null:{start:A,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(cm={focusedElem:r,selectionRange:o},Cd=!1,Ht=s;Ht!==null;)if(s=Ht,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Ht=r;else for(;Ht!==null;){switch(s=Ht,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Te=ua(o.type,h,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Te,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(_e){st(o,o.return,_e)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)hm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":hm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Ht=r;break}Ht=s.return}}function a_(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Qi(r,o),c&4&&Ql(5,o);break;case 1:if(Qi(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){st(o,o.return,b)}else{var h=ua(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){st(o,o.return,b)}}c&64&&e_(o),c&512&&Yl(o,o.return);break;case 3:if(Qi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{B0(r,s)}catch(b){st(o,o.return,b)}}break;case 27:s===null&&c&4&&i_(o);case 26:case 5:Qi(r,o),s===null&&c&4&&n_(o),c&512&&Yl(o,o.return);break;case 12:Qi(r,o);break;case 13:Qi(r,o),c&4&&c_(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=tR.bind(null,o),_R(r,o))));break;case 22:if(c=o.memoizedState!==null||pi,!c){s=s!==null&&s.memoizedState!==null||At,h=pi;var g=At;pi=c,(At=s)&&!g?Yi(r,o,(o.subtreeFlags&8772)!==0):Qi(r,o),pi=h,At=g}break;case 30:break;default:Qi(r,o)}}function o_(r){var s=r.alternate;s!==null&&(r.alternate=null,o_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Vi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dt=null,En=!1;function mi(r,s,o){for(o=o.child;o!==null;)l_(r,s,o),o=o.sibling}function l_(r,s,o){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(gt,o)}catch{}switch(o.tag){case 26:At||Pr(o,s),mi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||Pr(o,s);var c=dt,h=En;ts(o.type)&&(dt=o.stateNode,En=!1),mi(r,s,o),ic(o.stateNode),dt=c,En=h;break;case 5:At||Pr(o,s);case 6:if(c=dt,h=En,dt=null,mi(r,s,o),dt=c,En=h,dt!==null)if(En)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(g){st(o,s,g)}else try{dt.removeChild(o.stateNode)}catch(g){st(o,s,g)}break;case 18:dt!==null&&(En?(r=dt,X_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),hc(r)):X_(dt,o.stateNode));break;case 4:c=dt,h=En,dt=o.stateNode.containerInfo,En=!0,mi(r,s,o),dt=c,En=h;break;case 0:case 11:case 14:case 15:At||Ki(2,o,s),At||Ki(4,o,s),mi(r,s,o);break;case 1:At||(Pr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&t_(o,s,c)),mi(r,s,o);break;case 21:mi(r,s,o);break;case 22:At=(c=At)||o.memoizedState!==null,mi(r,s,o),At=c;break;default:mi(r,s,o)}}function c_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{hc(r)}catch(o){st(s,s.return,o)}}function Kx(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new s_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new s_),s;default:throw Error(i(435,r.tag))}}function jp(r,s){var o=Kx(r);s.forEach(function(c){var h=nR.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}function On(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],g=r,b=s,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(ts(A.type)){dt=A.stateNode,En=!1;break e}break;case 5:dt=A.stateNode,En=!1;break e;case 3:case 4:dt=A.stateNode.containerInfo,En=!0;break e}A=A.return}if(dt===null)throw Error(i(160));l_(g,b,h),dt=null,En=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)u_(s,r),s=s.sibling}var ur=null;function u_(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:On(s,r),Pn(r),c&4&&(Ki(3,r,r.return),Ql(3,r),Ki(5,r,r.return));break;case 1:On(s,r),Pn(r),c&512&&(At||o===null||Pr(o,o.return)),c&64&&pi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=ur;if(On(s,r),Pn(r),c&512&&(At||o===null||Pr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[js]||g[Ot]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),Jt(g,c,o),g[Ot]=r,wt(g),c=g;break e;case"link":var b=iE("link","href",h).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=h.createElement(c),Jt(g,c,o),h.head.appendChild(g);break;case"meta":if(b=iE("meta","content",h).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=h.createElement(c),Jt(g,c,o),h.head.appendChild(g);break;default:throw Error(i(468,c))}g[Ot]=r,wt(g),c=g}r.stateNode=c}else sE(h,r.type,r.stateNode);else r.stateNode=rE(h,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?sE(h,r.type,r.stateNode):rE(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Mp(r,r.memoizedProps,o.memoizedProps)}break;case 27:On(s,r),Pn(r),c&512&&(At||o===null||Pr(o,o.return)),o!==null&&c&4&&Mp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(On(s,r),Pn(r),c&512&&(At||o===null||Pr(o,o.return)),r.flags&32){h=r.stateNode;try{Hn(h,"")}catch(K){st(r,r.return,K)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,Mp(r,h,o!==null?o.memoizedProps:h)),c&1024&&(Up=!0);break;case 6:if(On(s,r),Pn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(K){st(r,r.return,K)}}break;case 3:if(Sd=null,h=ur,ur=Td(s.containerInfo),On(s,r),ur=h,Pn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{hc(s.containerInfo)}catch(K){st(r,r.return,K)}Up&&(Up=!1,d_(r));break;case 4:c=ur,ur=Td(r.stateNode.containerInfo),On(s,r),Pn(r),ur=c;break;case 12:On(s,r),Pn(r);break;case 13:On(s,r),Pn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gp=qn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,jp(r,c)));break;case 22:h=r.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,G=pi,Z=At;if(pi=G||h,At=Z||O,On(s,r),At=Z,pi=G,Pn(r),c&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||O||pi||At||da(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){O=o=s;try{if(g=O.stateNode,h)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=O.stateNode;var ie=O.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){st(O,O.return,K)}}}else if(s.tag===6){if(o===null){O=s;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(K){st(O,O.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,jp(r,o))));break;case 19:On(s,r),Pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,jp(r,c)));break;case 30:break;case 21:break;default:On(s,r),Pn(r)}}function Pn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(r_(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=Vp(r);ud(r,g,h);break;case 5:var b=o.stateNode;o.flags&32&&(Hn(b,""),o.flags&=-33);var A=Vp(r);ud(r,A,b);break;case 3:case 4:var O=o.stateNode.containerInfo,G=Vp(r);Lp(r,G,O);break;default:throw Error(i(161))}}catch(Z){st(r,r.return,Z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function d_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;d_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Qi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)a_(r,s.alternate,s),s=s.sibling}function da(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ki(4,s,s.return),da(s);break;case 1:Pr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&t_(s,s.return,o),da(s);break;case 27:ic(s.stateNode);case 26:case 5:Pr(s,s.return),da(s);break;case 22:s.memoizedState===null&&da(s);break;case 30:da(s);break;default:da(s)}r=r.sibling}}function Yi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Yi(h,g,o),Ql(4,g);break;case 1:if(Yi(h,g,o),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){st(c,c.return,G)}if(c=g,h=c.updateQueue,h!==null){var A=c.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)z0(O[h],A)}catch(G){st(c,c.return,G)}}o&&b&64&&e_(g),Yl(g,g.return);break;case 27:i_(g);case 26:case 5:Yi(h,g,o),o&&c===null&&b&4&&n_(g),Yl(g,g.return);break;case 12:Yi(h,g,o);break;case 13:Yi(h,g,o),o&&b&4&&c_(h,g);break;case 22:g.memoizedState===null&&Yi(h,g,o),Yl(g,g.return);break;case 30:break;default:Yi(h,g,o)}s=s.sibling}}function zp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Pl(o))}function Bp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Pl(r))}function Mr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)h_(r,s,o,c),s=s.sibling}function h_(r,s,o,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Mr(r,s,o,c),h&2048&&Ql(9,s);break;case 1:Mr(r,s,o,c);break;case 3:Mr(r,s,o,c),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Pl(r)));break;case 12:if(h&2048){Mr(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){st(s,s.return,O)}}else Mr(r,s,o,c);break;case 13:Mr(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Mr(r,s,o,c):Xl(r,s):g._visibility&2?Mr(r,s,o,c):(g._visibility|=2,po(r,s,o,c,(s.subtreeFlags&10256)!==0)),h&2048&&zp(b,s);break;case 24:Mr(r,s,o,c),h&2048&&Bp(s.alternate,s);break;default:Mr(r,s,o,c)}}function po(r,s,o,c,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,A=o,O=c,G=b.flags;switch(b.tag){case 0:case 11:case 15:po(g,b,A,O,h),Ql(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?po(g,b,A,O,h):Xl(g,b):(Z._visibility|=2,po(g,b,A,O,h)),h&&G&2048&&zp(b.alternate,b);break;case 24:po(g,b,A,O,h),h&&G&2048&&Bp(b.alternate,b);break;default:po(g,b,A,O,h)}s=s.sibling}}function Xl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,h=c.flags;switch(c.tag){case 22:Xl(o,c),h&2048&&zp(c.alternate,c);break;case 24:Xl(o,c),h&2048&&Bp(c.alternate,c);break;default:Xl(o,c)}s=s.sibling}}var Wl=8192;function mo(r){if(r.subtreeFlags&Wl)for(r=r.child;r!==null;)f_(r),r=r.sibling}function f_(r){switch(r.tag){case 26:mo(r),r.flags&Wl&&r.memoizedState!==null&&kR(ur,r.memoizedState,r.memoizedProps);break;case 5:mo(r);break;case 3:case 4:var s=ur;ur=Td(r.stateNode.containerInfo),mo(r),ur=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Wl,Wl=16777216,mo(r),Wl=s):mo(r));break;default:mo(r)}}function p_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Jl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Ht=c,g_(c,r)}p_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m_(r),r=r.sibling}function m_(r){switch(r.tag){case 0:case 11:case 15:Jl(r),r.flags&2048&&Ki(9,r,r.return);break;case 3:Jl(r);break;case 12:Jl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,dd(r)):Jl(r);break;default:Jl(r)}}function dd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Ht=c,g_(c,r)}p_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ki(8,s,s.return),dd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,dd(s));break;default:dd(s)}r=r.sibling}}function g_(r,s){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:Ki(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Pl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Ht=c;else e:for(o=r;Ht!==null;){c=Ht;var h=c.sibling,g=c.return;if(o_(c),c===o){Ht=null;break e}if(h!==null){h.return=g,Ht=h;break e}Ht=g}}}var Qx={getCacheForType:function(r){var s=rn(Vt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},Yx=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,Ve=null,Fe=0,Je=0,Mn=null,Xi=!1,go=!1,qp=!1,gi=0,vt=0,Wi=0,ha=0,Fp=0,Zn=0,yo=0,Zl=null,bn=null,Hp=!1,Gp=0,hd=1/0,fd=null,Ji=null,Wt=0,Zi=null,vo=null,_o=0,$p=0,Kp=null,y_=null,ec=0,Qp=null;function Vn(){if((We&2)!==0&&Fe!==0)return Fe&-Fe;if(J.T!==null){var r=so;return r!==0?r:tm()}return Pi()}function v_(){Zn===0&&(Zn=(Fe&536870912)===0||Ke?cl():536870912);var r=Jn.current;return r!==null&&(r.flags|=32),Zn}function Ln(r,s,o){(r===ot&&(Je===2||Je===9)||r.cancelPendingCommit!==null)&&(Eo(r,0),es(r,Fe,Zn,!1)),Qr(r,o),((We&2)===0||r!==ot)&&(r===ot&&((We&2)===0&&(ha|=o),vt===4&&es(r,Fe,Zn,!1)),Vr(r))}function __(r,s,o){if((We&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Us(r,s),h=c?Jx(r,s):Wp(r,s,!0),g=c;do{if(h===0){go&&!c&&es(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!Xx(o)){h=Wp(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var A=r;h=Zl;var O=A.current.memoizedState.isDehydrated;if(O&&(Eo(A,b).flags|=256),b=Wp(A,b,!1),b!==2){if(qp&&!O){A.errorRecoveryDisabledLanes|=g,ha|=g,h=4;break e}g=bn,bn=h,g!==null&&(bn===null?bn=g:bn.push.apply(bn,g))}h=b}if(g=!1,h!==2)continue}}if(h===1){Eo(r,0),es(r,s,0,!0);break}e:{switch(c=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:es(c,s,Zn,!Xi);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Gp+300-qn(),10<h)){if(es(c,s,Zn,!Xi),Va(c,0,!0)!==0)break e;c.timeoutHandle=Q_(E_.bind(null,c,o,bn,fd,Hp,s,Zn,ha,yo,Xi,g,2,-0,0),h);break e}E_(c,o,bn,fd,Hp,s,Zn,ha,yo,Xi,g,0,-0,0)}}break}while(!0);Vr(r)}function E_(r,s,o,c,h,g,b,A,O,G,Z,ie,$,K){if(r.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(oc={stylesheets:null,count:0,unsuspend:DR},f_(s),ie=OR(),ie!==null)){r.cancelPendingCommit=ie(R_.bind(null,r,s,g,o,c,h,b,A,O,Z,1,$,K)),es(r,g,b,!G);return}R_(r,s,g,o,c,h,b,A,O)}function Xx(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!Dn(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function es(r,s,o,c){s&=~Fp,s&=~ha,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var h=s;0<h;){var g=31-nn(h),b=1<<g;c[g]=-1,h&=~b}o!==0&&br(r,o,s)}function pd(){return(We&6)===0?(tc(0),!1):!0}function Yp(){if(Ve!==null){if(Je===0)var r=Ve.return;else r=Ve,li=aa=null,hp(r),ho=null,Gl=0,r=Ve;for(;r!==null;)Zv(r.alternate,r),r=r.return;Ve=null}}function Eo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,pR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Yp(),ot=r,Ve=o=si(r.current,null),Fe=s,Je=0,Mn=null,Xi=!1,go=Us(r,s),qp=!1,yo=Zn=Fp=ha=Wi=vt=0,bn=Zl=null,Hp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var h=31-nn(c),g=1<<h;s|=r[h],c&=~g}return gi=s,Vu(),o}function b_(r,s){De=null,J.H=td,s===Vl||s===Gu?(s=U0(),Je=3):s===M0?(s=U0(),Je=4):Je=s===jv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Mn=s,Ve===null&&(vt=1,ad(r,Qn(s,r.current)))}function w_(){var r=J.H;return J.H=td,r===null?td:r}function T_(){var r=J.A;return J.A=Qx,r}function Xp(){vt=4,Xi||(Fe&4194048)!==Fe&&Jn.current!==null||(go=!0),(Wi&134217727)===0&&(ha&134217727)===0||ot===null||es(ot,Fe,Zn,!1)}function Wp(r,s,o){var c=We;We|=2;var h=w_(),g=T_();(ot!==r||Fe!==s)&&(fd=null,Eo(r,s)),s=!1;var b=vt;e:do try{if(Je!==0&&Ve!==null){var A=Ve,O=Mn;switch(Je){case 8:Yp(),b=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(s=!0);var G=Je;if(Je=0,Mn=null,bo(r,A,O,G),o&&go){b=0;break e}break;default:G=Je,Je=0,Mn=null,bo(r,A,O,G)}}Wx(),b=vt;break}catch(Z){b_(r,Z)}while(!0);return s&&r.shellSuspendCounter++,li=aa=null,We=c,J.H=h,J.A=g,Ve===null&&(ot=null,Fe=0,Vu()),b}function Wx(){for(;Ve!==null;)A_(Ve)}function Jx(r,s){var o=We;We|=2;var c=w_(),h=T_();ot!==r||Fe!==s?(fd=null,hd=qn()+500,Eo(r,s)):go=Us(r,s);e:do try{if(Je!==0&&Ve!==null){s=Ve;var g=Mn;t:switch(Je){case 1:Je=0,Mn=null,bo(r,s,g,1);break;case 2:case 9:if(V0(g)){Je=0,Mn=null,S_(s);break}s=function(){Je!==2&&Je!==9||ot!==r||(Je=7),Vr(r)},g.then(s,s);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:V0(g)?(Je=0,Mn=null,S_(s)):(Je=0,Mn=null,bo(r,s,g,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var A=Ve;if(!b||aE(b)){Je=0,Mn=null;var O=A.sibling;if(O!==null)Ve=O;else{var G=A.return;G!==null?(Ve=G,md(G)):Ve=null}break t}}Je=0,Mn=null,bo(r,s,g,5);break;case 6:Je=0,Mn=null,bo(r,s,g,6);break;case 8:Yp(),vt=6;break e;default:throw Error(i(462))}}Zx();break}catch(Z){b_(r,Z)}while(!0);return li=aa=null,J.H=c,J.A=h,We=o,Ve!==null?0:(ot=null,Fe=0,Vu(),vt)}function Zx(){for(;Ve!==null&&!sl();)A_(Ve)}function A_(r){var s=Wv(r.alternate,r,gi);r.memoizedProps=r.pendingProps,s===null?md(r):Ve=s}function S_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Gv(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=Gv(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:hp(s);default:Zv(o,s),s=Ve=x0(s,gi),s=Wv(o,s,gi)}r.memoizedProps=r.pendingProps,s===null?md(r):Ve=s}function bo(r,s,o,c){li=aa=null,hp(s),ho=null,Gl=0;var h=s.return;try{if(qx(r,h,s,o,Fe)){vt=1,ad(r,Qn(o,r.current)),Ve=null;return}}catch(g){if(h!==null)throw Ve=h,g;vt=1,ad(r,Qn(o,r.current)),Ve=null;return}s.flags&32768?(Ke||c===1?r=!0:go||(Fe&536870912)!==0?r=!1:(Xi=r=!0,(c===2||c===9||c===3||c===6)&&(c=Jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),x_(s,r)):md(s)}function md(r){var s=r;do{if((s.flags&32768)!==0){x_(s,Xi);return}r=s.return;var o=Hx(s.alternate,s,gi);if(o!==null){Ve=o;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=r}while(s!==null);vt===0&&(vt=5)}function x_(r,s){do{var o=Gx(r.alternate,r);if(o!==null){o.flags&=32767,Ve=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ve=r;return}Ve=r=o}while(r!==null);vt=6,Ve=null}function R_(r,s,o,c,h,g,b,A,O){r.cancelPendingCommit=null;do gd();while(Wt!==0);if((We&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Bf,dl(r,o,g,b,A,O),r===ot&&(Ve=ot=null,Fe=0),vo=s,Zi=r,_o=o,$p=g,Kp=h,y_=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rR(Ps,function(){return k_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,h=ne.p,ne.p=2,b=We,We|=4;try{$x(r,s,o)}finally{We=b,ne.p=h,J.T=c}}Wt=1,C_(),I_(),N_()}}function C_(){if(Wt===1){Wt=0;var r=Zi,s=vo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=ne.p;ne.p=2;var h=We;We|=4;try{u_(s,r);var g=cm,b=g0(r.containerInfo),A=g.focusedElem,O=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&m0(A.ownerDocument.documentElement,A)){if(O!==null&&Vf(A)){var G=O.start,Z=O.end;if(Z===void 0&&(Z=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(Z,A.value.length);else{var ie=A.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var K=$.getSelection(),Te=A.textContent.length,_e=Math.min(O.start,Te),rt=O.end===void 0?_e:Math.min(O.end,Te);!K.extend&&_e>rt&&(b=rt,rt=_e,_e=b);var B=p0(A,_e),j=p0(A,rt);if(B&&j&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==j.node||K.focusOffset!==j.offset)){var H=ie.createRange();H.setStart(B.node,B.offset),K.removeAllRanges(),_e>rt?(K.addRange(H),K.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),K.addRange(H))}}}}for(ie=[],K=A;K=K.parentNode;)K.nodeType===1&&ie.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var te=ie[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Cd=!!lm,cm=lm=null}finally{We=h,ne.p=c,J.T=o}}r.current=s,Wt=2}}function I_(){if(Wt===2){Wt=0;var r=Zi,s=vo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=ne.p;ne.p=2;var h=We;We|=4;try{a_(r,s.alternate,s)}finally{We=h,ne.p=c,J.T=o}}Wt=3}}function N_(){if(Wt===4||Wt===3){Wt=0,du();var r=Zi,s=vo,o=_o,c=y_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,vo=Zi=null,D_(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Ji=null),La(o),s=s.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(gt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=J.T,h=ne.p,ne.p=2,J.T=null;try{for(var g=r.onRecoverableError,b=0;b<c.length;b++){var A=c[b];g(A.value,{componentStack:A.stack})}}finally{J.T=s,ne.p=h}}(_o&3)!==0&&gd(),Vr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Qp?ec++:(ec=0,Qp=r):ec=0,tc(0)}}function D_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Pl(s)))}function gd(r){return C_(),I_(),N_(),k_()}function k_(){if(Wt!==5)return!1;var r=Zi,s=$p;$p=0;var o=La(_o),c=J.T,h=ne.p;try{ne.p=32>o?32:o,J.T=null,o=Kp,Kp=null;var g=Zi,b=_o;if(Wt=0,vo=Zi=null,_o=0,(We&6)!==0)throw Error(i(331));var A=We;if(We|=4,m_(g.current),h_(g,g.current,b,o),We=A,tc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(gt,g)}catch{}return!0}finally{ne.p=h,J.T=c,D_(r,s)}}function O_(r,s,o){s=Qn(o,s),s=xp(r.stateNode,s,2),r=Fi(r,s,2),r!==null&&(Qr(r,2),Vr(r))}function st(r,s,o){if(r.tag===3)O_(r,r,o);else for(;s!==null;){if(s.tag===3){O_(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ji===null||!Ji.has(c))){r=Qn(o,r),o=Lv(2),c=Fi(s,o,2),c!==null&&(Uv(o,c,s,r),Qr(c,2),Vr(c));break}}s=s.return}}function Jp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new Yx;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(qp=!0,h.add(o),r=eR.bind(null,r,s,o),s.then(r,r))}function eR(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ot===r&&(Fe&o)===o&&(vt===4||vt===3&&(Fe&62914560)===Fe&&300>qn()-Gp?(We&2)===0&&Eo(r,0):Fp|=o,yo===Fe&&(yo=0)),Vr(r)}function P_(r,s){s===0&&(s=ul()),r=to(r,s),r!==null&&(Qr(r,s),Vr(r))}function tR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),P_(r,o)}function nR(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),P_(r,o)}function rR(r,s){return ks(r,s)}var yd=null,wo=null,Zp=!1,vd=!1,em=!1,fa=0;function Vr(r){r!==wo&&r.next===null&&(wo===null?yd=wo=r:wo=wo.next=r),vd=!0,Zp||(Zp=!0,sR())}function tc(r,s){if(!em&&vd){em=!0;do for(var o=!1,c=yd;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-nn(42|r)+1)-1,g&=h&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,U_(c,g))}else g=Fe,g=Va(c,c===ot?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Us(c,g)||(o=!0,U_(c,g));c=c.next}while(o);em=!1}}function iR(){M_()}function M_(){vd=Zp=!1;var r=0;fa!==0&&(fR()&&(r=fa),fa=0);for(var s=qn(),o=null,c=yd;c!==null;){var h=c.next,g=V_(c,s);g===0?(c.next=null,o===null?yd=h:o.next=h,h===null&&(wo=o)):(o=c,(r!==0||(g&3)!==0)&&(vd=!0)),c=h}tc(r)}function V_(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-nn(g),A=1<<b,O=h[b];O===-1?((A&o)===0||(A&c)!==0)&&(h[b]=ll(A,s)):O<=s&&(r.expiredLanes|=A),g&=~A}if(s=ot,o=Fe,o=Va(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(Je===2||Je===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Os(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Us(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Os(c),La(o)){case 2:case 8:o=Pa;break;case 32:o=Ps;break;case 268435456:o=Ma;break;default:o=Ps}return c=L_.bind(null,r),o=ks(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Os(c),r.callbackPriority=2,r.callbackNode=null,2}function L_(r,s){if(Wt!==0&&Wt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(gd()&&r.callbackNode!==o)return null;var c=Fe;return c=Va(r,r===ot?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(__(r,c,s),V_(r,qn()),r.callbackNode!=null&&r.callbackNode===o?L_.bind(null,r):null)}function U_(r,s){if(gd())return null;__(r,s,!0)}function sR(){mR(function(){(We&6)!==0?ks(al,iR):M_()})}function tm(){return fa===0&&(fa=cl()),fa}function j_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fa(""+r)}function z_(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function aR(r,s,o,c,h){if(s==="submit"&&o&&o.stateNode===h){var g=j_((h[Rt]||null).action),b=c.submitter;b&&(s=(s=b[Rt]||null)?j_(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var A=new Ha("action","action",null,c,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(fa!==0){var O=b?z_(h,b):new FormData(h);bp(o,{pending:!0,data:O,method:h.method,action:g},null,O)}}else typeof g=="function"&&(A.preventDefault(),O=b?z_(h,b):new FormData(h),bp(o,{pending:!0,data:O,method:h.method,action:g},g,O))},currentTarget:h}]})}}for(var nm=0;nm<zf.length;nm++){var rm=zf[nm],oR=rm.toLowerCase(),lR=rm[0].toUpperCase()+rm.slice(1);cr(oR,"on"+lR)}cr(_0,"onAnimationEnd"),cr(E0,"onAnimationIteration"),cr(b0,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(Sx,"onTransitionRun"),cr(xx,"onTransitionStart"),cr(Rx,"onTransitionCancel"),cr(w0,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nc));function B_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var A=c[b],O=A.instance,G=A.currentTarget;if(A=A.listener,O!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=G;try{g(h)}catch(Z){sd(Z)}h.currentTarget=null,g=O}else for(b=0;b<c.length;b++){if(A=c[b],O=A.instance,G=A.currentTarget,A=A.listener,O!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=G;try{g(h)}catch(Z){sd(Z)}h.currentTarget=null,g=O}}}}function Le(r,s){var o=s[fl];o===void 0&&(o=s[fl]=new Set);var c=r+"__bubble";o.has(c)||(q_(s,r,2,!1),o.add(c))}function im(r,s,o){var c=0;s&&(c|=4),q_(o,r,c,s)}var _d="_reactListening"+Math.random().toString(36).slice(2);function sm(r){if(!r[_d]){r[_d]=!0,pl.forEach(function(o){o!=="selectionchange"&&(cR.has(o)||im(o,!1,r),im(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[_d]||(s[_d]=!0,im("selectionchange",!1,s))}}function q_(r,s,o,c){switch(hE(s)){case 2:var h=VR;break;case 8:h=LR;break;default:h=_m}o=h.bind(null,s,o,r),h=void 0,!$n||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function am(r,s,o,c,h){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===h)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;A!==null;){if(b=Yr(A),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){c=g=b;continue e}A=A.parentNode}}c=c.return}bu(function(){var G=g,Z=Gn(o),ie=[];e:{var $=T0.get(r);if($!==void 0){var K=Ha,Te=r;switch(r){case"keypress":if(Rr(o)===0)break e;case"keydown":case"keyup":K=Xa;break;case"focusin":Te="focus",K=Ka;break;case"focusout":Te="blur",K=Ka;break;case"beforeblur":case"afterblur":K=Ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Iu;break;case _0:case E0:case b0:K=Qa;break;case w0:K=Du;break;case"scroll":case"scrollend":K=wu;break;case"wheel":K=Wa;break;case"copy":case"cut":case"paste":K=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=xl;break;case"toggle":case"beforetoggle":K=Ou}var _e=(s&4)!==0,rt=!_e&&(r==="scroll"||r==="scrollend"),B=_e?$!==null?$+"Capture":null:$;_e=[];for(var j=G,H;j!==null;){var te=j;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||B===null||(te=$s(j,B),te!=null&&_e.push(rc(j,te,H))),rt)break;j=j.return}0<_e.length&&($=new K($,Te,null,o,Z),ie.push({event:$,listeners:_e}))}}if((s&7)===0){e:{if($=r==="mouseover"||r==="pointerover",K=r==="mouseout"||r==="pointerout",$&&o!==Zr&&(Te=o.relatedTarget||o.fromElement)&&(Yr(Te)||Te[Fn]))break e;if((K||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Te=o.relatedTarget||o.toElement,K=G,Te=Te?Yr(Te):null,Te!==null&&(rt=l(Te),_e=Te.tag,Te!==rt||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(K=null,Te=G),K!==Te)){if(_e=Kn,te="onMouseLeave",B="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(_e=xl,te="onPointerLeave",B="onPointerEnter",j="pointer"),rt=K==null?$:Tr(K),H=Te==null?$:Tr(Te),$=new _e(te,j+"leave",K,o,Z),$.target=rt,$.relatedTarget=H,te=null,Yr(Z)===G&&(_e=new _e(B,j+"enter",Te,o,Z),_e.target=H,_e.relatedTarget=rt,te=_e),rt=te,K&&Te)t:{for(_e=K,B=Te,j=0,H=_e;H;H=To(H))j++;for(H=0,te=B;te;te=To(te))H++;for(;0<j-H;)_e=To(_e),j--;for(;0<H-j;)B=To(B),H--;for(;j--;){if(_e===B||B!==null&&_e===B.alternate)break t;_e=To(_e),B=To(B)}_e=null}else _e=null;K!==null&&F_(ie,$,K,_e,!1),Te!==null&&rt!==null&&F_(ie,rt,Te,_e,!0)}}e:{if($=G?Tr(G):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var me=l0;else if(Mt($))if(c0)me=wx;else{me=Ex;var Me=_x}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&_l(G.elementType)&&(me=l0):me=bx;if(me&&(me=me(r,G))){ii(ie,me,o,Z);break e}Me&&Me(r,$,G),r==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Ui($,"number",$.value)}switch(Me=G?Tr(G):window,r){case"focusin":(Mt(Me)||Me.contentEditable==="true")&&(Ja=Me,Lf=G,Il=null);break;case"focusout":Il=Lf=Ja=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,y0(ie,o,Z);break;case"selectionchange":if(Ax)break;case"keydown":case"keyup":y0(ie,o,Z)}var ge;if(Nr)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Be?Y(r,o)&&(Ee="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(E&&o.locale!=="ko"&&(Be||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Be&&(ge=bl()):(xr=Z,ji="value"in xr?xr.value:xr.textContent,Be=!0)),Me=Ed(G,Ee),0<Me.length&&(Ee=new Al(Ee,r,null,o,Z),ie.push({event:Ee,listeners:Me}),ge?Ee.data=ge:(ge=ce(o),ge!==null&&(Ee.data=ge)))),(ge=_?Pt(r,o):qe(r,o))&&(Ee=Ed(G,"onBeforeInput"),0<Ee.length&&(Me=new Al("onBeforeInput","beforeinput",null,o,Z),ie.push({event:Me,listeners:Ee}),Me.data=ge)),aR(ie,r,G,o,Z)}B_(ie,s)})}function rc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Ed(r,s){for(var o=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=$s(r,o),h!=null&&c.unshift(rc(r,h,g)),h=$s(r,s),h!=null&&c.push(rc(r,h,g))),r.tag===3)return c;r=r.return}return[]}function To(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function F_(r,s,o,c,h){for(var g=s._reactName,b=[];o!==null&&o!==c;){var A=o,O=A.alternate,G=A.stateNode;if(A=A.tag,O!==null&&O===c)break;A!==5&&A!==26&&A!==27||G===null||(O=G,h?(G=$s(o,g),G!=null&&b.unshift(rc(o,G,O))):h||(G=$s(o,g),G!=null&&b.push(rc(o,G,O)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var uR=/\r\n?/g,dR=/\u0000|\uFFFD/g;function H_(r){return(typeof r=="string"?r:""+r).replace(uR,`
`).replace(dR,"")}function G_(r,s){return s=H_(s),H_(r)===s}function bd(){}function nt(r,s,o,c,h,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Hn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Hn(r,""+c);break;case"className":Ar(r,"class",c);break;case"tabIndex":Ar(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(r,o,c);break;case"style":vl(r,c,g);break;case"data":if(s!=="object"){Ar(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Fa(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&nt(r,s,"name",h.name,h,null),nt(r,s,"formEncType",h.formEncType,h,null),nt(r,s,"formMethod",h.formMethod,h,null),nt(r,s,"formTarget",h.formTarget,h,null)):(nt(r,s,"encType",h.encType,h,null),nt(r,s,"method",h.method,h,null),nt(r,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Fa(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=bd);break;case"onScroll":c!=null&&Le("scroll",r);break;case"onScrollEnd":c!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Fa(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Le("beforetoggle",r),Le("toggle",r),Li(r,"popover",c);break;case"xlinkActuate":Qt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Qt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Qt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Qt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Qt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Qt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Qt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Qt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Qt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Li(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nf.get(o)||o,Li(r,o,c))}}function om(r,s,o,c,h,g){switch(o){case"style":vl(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Hn(r,c):(typeof c=="number"||typeof c=="bigint")&&Hn(r,""+c);break;case"onScroll":c!=null&&Le("scroll",r);break;case"onScrollEnd":c!=null&&Le("scrollend",r);break;case"onClick":c!=null&&(r.onclick=bd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[Rt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Li(r,o,c)}}}function Jt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var c=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:nt(r,s,g,b,o,null)}}h&&nt(r,s,"srcSet",o.srcSet,o,null),c&&nt(r,s,"src",o.src,o,null);return;case"input":Le("invalid",r);var A=g=b=h=null,O=null,G=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":h=Z;break;case"type":b=Z;break;case"checked":O=Z;break;case"defaultChecked":G=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:nt(r,s,c,Z,o,null)}}Fs(r,g,A,O,G,b,h,!1),qa(r);return;case"select":Le("invalid",r),c=b=g=null;for(h in o)if(o.hasOwnProperty(h)&&(A=o[h],A!=null))switch(h){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:nt(r,s,h,A,o,null)}s=g,o=b,r.multiple=!!c,s!=null?Jr(r,!!c,s,!1):o!=null&&Jr(r,!!c,o,!0);return;case"textarea":Le("invalid",r),g=h=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":h=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:nt(r,s,b,A,o,null)}Hs(r,c,h,g),qa(r);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(r,s,O,c,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(c=0;c<nc.length;c++)Le(nc[c],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:nt(r,s,G,c,o,null)}return;default:if(_l(s)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&om(r,s,Z,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&nt(r,s,A,c,o,null))}function hR(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,b=null,A=null,O=null,G=null,Z=null;for(K in o){var ie=o[K];if(o.hasOwnProperty(K)&&ie!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=ie;default:c.hasOwnProperty(K)||nt(r,s,K,null,c,ie)}}for(var $ in c){var K=c[$];if(ie=o[$],c.hasOwnProperty($)&&(K!=null||ie!=null))switch($){case"type":g=K;break;case"name":h=K;break;case"checked":G=K;break;case"defaultChecked":Z=K;break;case"value":b=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==ie&&nt(r,s,$,K,c,ie)}}Nn(r,b,A,O,G,Z,g,h);return;case"select":K=b=A=$=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":K=O;default:c.hasOwnProperty(g)||nt(r,s,g,null,c,O)}for(h in c)if(g=c[h],O=o[h],c.hasOwnProperty(h)&&(g!=null||O!=null))switch(h){case"value":$=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==O&&nt(r,s,h,g,c,O)}s=A,o=b,c=K,$!=null?Jr(r,!!o,$,!1):!!c!=!!o&&(s!=null?Jr(r,!!o,s,!0):Jr(r,!!o,o?[]:"",!1));return;case"textarea":K=$=null;for(A in o)if(h=o[A],o.hasOwnProperty(A)&&h!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:nt(r,s,A,null,c,h)}for(b in c)if(h=c[b],g=o[b],c.hasOwnProperty(b)&&(h!=null||g!=null))switch(b){case"value":$=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&nt(r,s,b,h,c,g)}et(r,$,K);return;case"option":for(var Te in o)if($=o[Te],o.hasOwnProperty(Te)&&$!=null&&!c.hasOwnProperty(Te))switch(Te){case"selected":r.selected=!1;break;default:nt(r,s,Te,null,c,$)}for(O in c)if($=c[O],K=o[O],c.hasOwnProperty(O)&&$!==K&&($!=null||K!=null))switch(O){case"selected":r.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:nt(r,s,O,$,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)$=o[_e],o.hasOwnProperty(_e)&&$!=null&&!c.hasOwnProperty(_e)&&nt(r,s,_e,null,c,$);for(G in c)if($=c[G],K=o[G],c.hasOwnProperty(G)&&$!==K&&($!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:nt(r,s,G,$,c,K)}return;default:if(_l(s)){for(var rt in o)$=o[rt],o.hasOwnProperty(rt)&&$!==void 0&&!c.hasOwnProperty(rt)&&om(r,s,rt,void 0,c,$);for(Z in c)$=c[Z],K=o[Z],!c.hasOwnProperty(Z)||$===K||$===void 0&&K===void 0||om(r,s,Z,$,c,K);return}}for(var B in o)$=o[B],o.hasOwnProperty(B)&&$!=null&&!c.hasOwnProperty(B)&&nt(r,s,B,null,c,$);for(ie in c)$=c[ie],K=o[ie],!c.hasOwnProperty(ie)||$===K||$==null&&K==null||nt(r,s,ie,$,c,K)}var lm=null,cm=null;function wd(r){return r.nodeType===9?r:r.ownerDocument}function $_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function um(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dm=null;function fR(){var r=window.event;return r&&r.type==="popstate"?r===dm?!1:(dm=r,!0):(dm=null,!1)}var Q_=typeof setTimeout=="function"?setTimeout:void 0,pR=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(r){return Y_.resolve(null).then(r).catch(gR)}:Q_;function gR(r){setTimeout(function(){throw r})}function ts(r){return r==="head"}function X_(r,s){var o=s,c=0,h=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var b=r.ownerDocument;if(o&1&&ic(b.documentElement),o&2&&ic(b.body),o&4)for(o=b.head,ic(o),b=o.firstChild;b;){var A=b.nextSibling,O=b.nodeName;b[js]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=A}}if(h===0){r.removeChild(g),hc(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);hc(s)}function hm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hm(o),Vi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function yR(r,s,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[js])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=dr(r.nextSibling),r===null)break}return null}function vR(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=dr(r.nextSibling),r===null))return null;return r}function fm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function _R(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function dr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var pm=null;function W_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function J_(r,s,o){switch(s=wd(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function ic(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Vi(r)}var er=new Map,Z_=new Set;function Td(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var yi=ne.d;ne.d={f:ER,r:bR,D:wR,C:TR,L:AR,m:SR,X:RR,S:xR,M:CR};function ER(){var r=yi.f(),s=pd();return r||s}function bR(r){var s=wr(r);s!==null&&s.tag===5&&s.type==="form"?_v(s):yi.r(r)}var Ao=typeof document>"u"?null:document;function eE(r,s,o){var c=Ao;if(c&&typeof s=="string"&&s){var h=Ct(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Z_.has(h)||(Z_.add(h),r={rel:r,crossOrigin:o,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),Jt(s,"link",r),wt(s),c.head.appendChild(s)))}}function wR(r){yi.D(r),eE("dns-prefetch",r,null)}function TR(r,s){yi.C(r,s),eE("preconnect",r,s)}function AR(r,s,o){yi.L(r,s,o);var c=Ao;if(c&&r&&s){var h='link[rel="preload"][as="'+Ct(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Ct(o.imageSizes)+'"]')):h+='[href="'+Ct(r)+'"]';var g=h;switch(s){case"style":g=So(r);break;case"script":g=xo(r)}er.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),er.set(g,r),c.querySelector(h)!==null||s==="style"&&c.querySelector(sc(g))||s==="script"&&c.querySelector(ac(g))||(s=c.createElement("link"),Jt(s,"link",r),wt(s),c.head.appendChild(s)))}}function SR(r,s){yi.m(r,s);var o=Ao;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Ct(c)+'"][href="'+Ct(r)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=xo(r)}if(!er.has(g)&&(r=y({rel:"modulepreload",href:r},s),er.set(g,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ac(g)))return}c=o.createElement("link"),Jt(c,"link",r),wt(c),o.head.appendChild(c)}}}function xR(r,s,o){yi.S(r,s,o);var c=Ao;if(c&&r){var h=dn(c).hoistableStyles,g=So(r);s=s||"default";var b=h.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(sc(g)))A.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=er.get(g))&&mm(r,o);var O=b=c.createElement("link");wt(O),Jt(O,"link",r),O._p=new Promise(function(G,Z){O.onload=G,O.onerror=Z}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ad(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:A},h.set(g,b)}}}function RR(r,s){yi.X(r,s);var o=Ao;if(o&&r){var c=dn(o).hoistableScripts,h=xo(r),g=c.get(h);g||(g=o.querySelector(ac(h)),g||(r=y({src:r,async:!0},s),(s=er.get(h))&&gm(r,s),g=o.createElement("script"),wt(g),Jt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function CR(r,s){yi.M(r,s);var o=Ao;if(o&&r){var c=dn(o).hoistableScripts,h=xo(r),g=c.get(h);g||(g=o.querySelector(ac(h)),g||(r=y({src:r,async:!0,type:"module"},s),(s=er.get(h))&&gm(r,s),g=o.createElement("script"),wt(g),Jt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function tE(r,s,o,c){var h=(h=Ae.current)?Td(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=So(o.href),o=dn(h).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=So(o.href);var g=dn(h).hoistableStyles,b=g.get(r);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=h.querySelector(sc(r)))&&!g._p&&(b.instance=g,b.state.loading=5),er.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},er.set(r,o),g||IR(h,r,o,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xo(o),o=dn(h).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function So(r){return'href="'+Ct(r)+'"'}function sc(r){return'link[rel="stylesheet"]['+r+"]"}function nE(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function IR(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Jt(s,"link",o),wt(s),r.head.appendChild(s))}function xo(r){return'[src="'+Ct(r)+'"]'}function ac(r){return"script[async]"+r}function rE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(c)return s.instance=c,wt(c),c;var h=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),wt(c),Jt(c,"style",h),Ad(c,o.precedence,r),s.instance=c;case"stylesheet":h=So(o.href);var g=r.querySelector(sc(h));if(g)return s.state.loading|=4,s.instance=g,wt(g),g;c=nE(o),(h=er.get(h))&&mm(c,h),g=(r.ownerDocument||r).createElement("link"),wt(g);var b=g;return b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),Jt(g,"link",c),s.state.loading|=4,Ad(g,o.precedence,r),s.instance=g;case"script":return g=xo(o.src),(h=r.querySelector(ac(g)))?(s.instance=h,wt(h),h):(c=o,(h=er.get(g))&&(c=y({},o),gm(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),wt(h),Jt(h,"link",c),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Ad(c,o.precedence,r));return s.instance}function Ad(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===s)g=A;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function mm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function gm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Sd=null;function iE(r,s,o){if(Sd===null){var c=new Map,h=Sd=new Map;h.set(o,c)}else h=Sd,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[js]||g[Ot]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function sE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function NR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function aE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var oc=null;function DR(){}function kR(r,s,o){if(oc===null)throw Error(i(475));var c=oc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=So(o.href),g=r.querySelector(sc(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=xd.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,wt(g);return}g=r.ownerDocument||r,o=nE(o),(h=er.get(h))&&mm(o,h),g=g.createElement("link"),wt(g);var b=g;b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),Jt(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=xd.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function OR(){if(oc===null)throw Error(i(475));var r=oc;return r.stylesheets&&r.count===0&&ym(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&ym(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function xd(){if(this.count--,this.count===0){if(this.stylesheets)ym(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Rd=null;function ym(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Rd=new Map,s.forEach(PR,r),Rd=null,xd.call(r))}function PR(r,s){if(!(s.state.loading&4)){var o=Rd.get(r);if(o)var c=o.get(null);else{o=new Map,Rd.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var b=h[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}h=s.instance,b=h.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,h),o.set(b,h),this.count++,c=xd.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var lc={$$typeof:W,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function MR(r,s,o,c,h,g,b,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function oE(r,s,o,c,h,g,b,A,O,G,Z,ie){return r=new MR(r,s,o,b,A,O,G,ie),s=1,g===!0&&(s|=24),g=kn(3,null,null,s),r.current=g,g.stateNode=r,s=Jf(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},np(g),r}function lE(r){return r?(r=no,r):no}function cE(r,s,o,c,h,g){h=lE(h),c.context===null?c.context=h:c.pendingContext=h,c=qi(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Fi(r,c,s),o!==null&&(Ln(o,r,s),Ul(o,r,s))}function uE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function vm(r,s){uE(r,s),(r=r.alternate)&&uE(r,s)}function dE(r){if(r.tag===13){var s=to(r,67108864);s!==null&&Ln(s,r,67108864),vm(r,67108864)}}var Cd=!0;function VR(r,s,o,c){var h=J.T;J.T=null;var g=ne.p;try{ne.p=2,_m(r,s,o,c)}finally{ne.p=g,J.T=h}}function LR(r,s,o,c){var h=J.T;J.T=null;var g=ne.p;try{ne.p=8,_m(r,s,o,c)}finally{ne.p=g,J.T=h}}function _m(r,s,o,c){if(Cd){var h=Em(c);if(h===null)am(r,s,c,Id,o),fE(r,c);else if(jR(h,r,s,o,c))c.stopPropagation();else if(fE(r,c),s&4&&-1<UR.indexOf(r)){for(;h!==null;){var g=wr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=ar(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var O=1<<31-nn(b);A.entanglements[1]|=O,b&=~O}Vr(g),(We&6)===0&&(hd=qn()+500,tc(0))}}break;case 13:A=to(g,2),A!==null&&Ln(A,g,2),pd(),vm(g,2)}if(g=Em(c),g===null&&am(r,s,c,Id,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else am(r,s,c,null,o)}}function Em(r){return r=Gn(r),bm(r)}var Id=null;function bm(r){if(Id=null,r=Yr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Id=r,null}function hE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Af()){case al:return 2;case Pa:return 8;case Ps:case Sf:return 32;case Ma:return 268435456;default:return 32}default:return 32}}var wm=!1,ns=null,rs=null,is=null,cc=new Map,uc=new Map,ss=[],UR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fE(r,s){switch(r){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":cc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(s.pointerId)}}function dc(r,s,o,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=wr(s),s!==null&&dE(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function jR(r,s,o,c,h){switch(s){case"focusin":return ns=dc(ns,r,s,o,c,h),!0;case"dragenter":return rs=dc(rs,r,s,o,c,h),!0;case"mouseover":return is=dc(is,r,s,o,c,h),!0;case"pointerover":var g=h.pointerId;return cc.set(g,dc(cc.get(g)||null,r,s,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,uc.set(g,dc(uc.get(g)||null,r,s,o,c,h)),!0}return!1}function pE(r){var s=Yr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,pu(r.priority,function(){if(o.tag===13){var c=Vn();c=Oi(c);var h=to(o,c);h!==null&&Ln(h,o,c),vm(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Nd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Em(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Zr=c,o.target.dispatchEvent(c),Zr=null}else return s=wr(o),s!==null&&dE(s),r.blockedOn=o,!1;s.shift()}return!0}function mE(r,s,o){Nd(r)&&o.delete(s)}function zR(){wm=!1,ns!==null&&Nd(ns)&&(ns=null),rs!==null&&Nd(rs)&&(rs=null),is!==null&&Nd(is)&&(is=null),cc.forEach(mE),uc.forEach(mE)}function Dd(r,s){r.blockedOn===s&&(r.blockedOn=null,wm||(wm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zR)))}var kd=null;function gE(r){kd!==r&&(kd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kd===r&&(kd=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],h=r[s+2];if(typeof c!="function"){if(bm(c||o)===null)continue;break}var g=wr(o);g!==null&&(r.splice(s,3),s-=3,bp(g,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function hc(r){function s(O){return Dd(O,r)}ns!==null&&Dd(ns,r),rs!==null&&Dd(rs,r),is!==null&&Dd(is,r),cc.forEach(s),uc.forEach(s);for(var o=0;o<ss.length;o++){var c=ss[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ss.length&&(o=ss[0],o.blockedOn===null);)pE(o),o.blockedOn===null&&ss.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],b=h[Rt]||null;if(typeof g=="function")b||gE(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(h=g,b=g[Rt]||null)A=b.formAction;else if(bm(h)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),gE(o)}}}function Tm(r){this._internalRoot=r}Od.prototype.render=Tm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Vn();cE(o,c,r,s,null,null)},Od.prototype.unmount=Tm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;cE(r.current,2,null,r,null,null),pd(),s[Fn]=null}};function Od(r){this._internalRoot=r}Od.prototype.unstable_scheduleHydration=function(r){if(r){var s=Pi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ss.length&&s!==0&&s<ss[o].priority;o++);ss.splice(o,0,r),o===0&&pE(r)}};var yE=e.version;if(yE!=="19.1.0")throw Error(i(527,yE,"19.1.0"));ne.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var BR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{gt=Pd.inject(BR),Xe=Pd}catch{}}return pc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",h=Ov,g=Pv,b=Mv,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=oE(r,1,!1,null,null,o,c,h,g,b,A,null),r[Fn]=s.current,sm(r),new Tm(s)},pc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,h="",g=Ov,b=Pv,A=Mv,O=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),s=oE(r,1,!0,s,o??null,c,h,g,b,A,O,G),s.context=lE(null),o=s.current,c=Vn(),c=Oi(c),h=qi(c),h.callback=null,Fi(o,h,c),o=c,s.current.lanes=o,Qr(s,o),Vr(s),r[Fn]=s.current,sm(r),new Od(s)},pc.version="19.1.0",pc}var RE;function JR(){if(RE)return xm.exports;RE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xm.exports=WR(),xm.exports}var ZR=JR();const eC="modulepreload",tC=function(n){return"/"+n},CE={},Ge=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let p=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=p(t.map(m=>{if(m=tC(m),m in CE)return;CE[m]=!0;const y=m.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":eC,y||(T.as="script"),T.crossOrigin="",T.href=m,f&&T.setAttribute("nonce",f),document.head.appendChild(T),y)return new Promise((I,x)=>{T.addEventListener("load",I),T.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var mc={},IE;function nC(){if(IE)return mc;IE=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.parse=u,mc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,I){const x=new l,D=T.length;if(D<2)return x;const R=I?.decode||y;let P=0;do{const Q=T.indexOf("=",P);if(Q===-1)break;const W=T.indexOf(";",P),oe=W===-1?D:W;if(Q>oe){P=T.lastIndexOf(";",Q-1)+1;continue}const ae=f(T,P,Q),pe=p(T,Q,ae),V=T.slice(ae,pe);if(x[V]===void 0){let C=f(T,Q+1,oe),N=p(T,oe,C);const L=R(T.slice(C,N));x[V]=L}P=oe+1}while(P<D);return x}function f(T,I,x){do{const D=T.charCodeAt(I);if(D!==32&&D!==9)return I}while(++I<x);return x}function p(T,I,x){for(;I>x;){const D=T.charCodeAt(--I);if(D!==32&&D!==9)return I+1}return x}function m(T,I,x){const D=x?.encode||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const R=D(I);if(!e.test(R))throw new TypeError(`argument val is invalid: ${I}`);let P=T+"="+R;if(!x)return P;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);P+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);P+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);P+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);P+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(P+="; HttpOnly"),x.secure&&(P+="; Secure"),x.partitioned&&(P+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return P}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return a.call(T)==="[object Date]"}return mc}nC();var NE="popstate";function rC(n={}){function e(i,a){let{pathname:l,search:u,hash:f}=i.location;return Jm("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Uc(a)}return sC(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iC(){return Math.random().toString(36).substring(2,10)}function DE(n,e){return{usr:n.state,key:n.key,idx:e}}function Jm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ko(e):e,state:t,key:e&&e.key||i||iC()}}function Uc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ko(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function sC(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",p=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function w(){f="POP";let R=y(),P=R==null?null:R-m;m=R,p&&p({action:f,location:D.location,delta:P})}function T(R,P){f="PUSH";let Q=Jm(D.location,R,P);m=y()+1;let W=DE(Q,m),oe=D.createHref(Q);try{u.pushState(W,"",oe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(oe)}l&&p&&p({action:f,location:D.location,delta:1})}function I(R,P){f="REPLACE";let Q=Jm(D.location,R,P);m=y();let W=DE(Q,m),oe=D.createHref(Q);u.replaceState(W,"",oe),l&&p&&p({action:f,location:D.location,delta:0})}function x(R){return aC(R)}let D={get action(){return f},get location(){return n(a,u)},listen(R){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(NE,w),p=R,()=>{a.removeEventListener(NE,w),p=null}},createHref(R){return e(a,R)},createURL:x,encodeLocation(R){let P=x(R);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:T,replace:I,go(R){return u.go(R)}};return D}function aC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Uc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function eT(n,e,t="/"){return oC(n,e,t,!1)}function oC(n,e,t,i){let a=typeof e=="string"?Ko(e):e,l=Ai(a.pathname||"/",t);if(l==null)return null;let u=tT(n);lC(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let m=_C(l);f=yC(u[p],m,i)}return f}function tT(n,e=[],t=[],i=""){let a=(l,u,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=bi([i,p.relativePath]),y=t.concat(p);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),tT(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:mC(m,l.index),routesMeta:y})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let f of nT(l.path))a(l,u,f)}),e}function nT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=nT(i.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function lC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var cC=/^:[\w-]+$/,uC=3,dC=2,hC=1,fC=10,pC=-2,kE=n=>n==="*";function mC(n,e){let t=n.split("/"),i=t.length;return t.some(kE)&&(i+=pC),e&&(i+=dC),t.filter(a=>!kE(a)).reduce((a,l)=>a+(cC.test(l)?uC:l===""?hC:fC),i)}function gC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function yC(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",u=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",w=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),T=p.route;if(!w&&m&&t&&!i[i.length-1].route.index&&(w=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:bi([l,w.pathname]),pathnameBase:TC(bi([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=bi([l,w.pathnameBase]))}return u}function ah(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=vC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:w},T)=>{if(y==="*"){let x=f[T]||"";u=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const I=f[T];return w&&!I?m[y]=void 0:m[y]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:n}}function vC(n,e=!1,t=!0){pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function _C(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ai(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function EC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Ko(n):n;return{pathname:t?t.startsWith("/")?t:bC(t,e):e,search:AC(i),hash:SC(a)}}function bC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Nm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bg(n){let e=wC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function qg(n,e,t,i=!1){let a;typeof n=="string"?a=Ko(n):(a={...n},ft(!a.pathname||!a.pathname.includes("?"),Nm("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),Nm("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),Nm("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=t;else{let w=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;a.pathname=T.join("/")}f=w>=0?e[w]:"/"}let p=EC(a,f),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var bi=n=>n.join("/").replace(/\/\/+/g,"/"),TC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,SC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rT=["POST","PUT","PATCH","DELETE"];new Set(rT);var RC=["GET",...rT];new Set(RC);var Qo=U.createContext(null);Qo.displayName="DataRouter";var Mh=U.createContext(null);Mh.displayName="DataRouterState";var iT=U.createContext({isTransitioning:!1});iT.displayName="ViewTransition";var CC=U.createContext(new Map);CC.displayName="Fetchers";var IC=U.createContext(null);IC.displayName="Await";var yr=U.createContext(null);yr.displayName="Navigation";var Yc=U.createContext(null);Yc.displayName="Location";var vr=U.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Fg=U.createContext(null);Fg.displayName="RouteError";function NC(n,{relative:e}={}){ft(Yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(yr),{hash:a,pathname:l,search:u}=Xc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:bi([t,l])),i.createHref({pathname:f,search:u,hash:a})}function Yo(){return U.useContext(Yc)!=null}function Ii(){return ft(Yo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Yc).location}var sT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aT(n){U.useContext(yr).static||U.useLayoutEffect(n)}function Vh(){let{isDataRoute:n}=U.useContext(vr);return n?FC():DC()}function DC(){ft(Yo(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(Qo),{basename:e,navigator:t}=U.useContext(yr),{matches:i}=U.useContext(vr),{pathname:a}=Ii(),l=JSON.stringify(Bg(i)),u=U.useRef(!1);return aT(()=>{u.current=!0}),U.useCallback((p,m={})=>{if(pr(u.current,sT),!u.current)return;if(typeof p=="number"){t.go(p);return}let y=qg(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:bi([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,a,n])}U.createContext(null);function I3(){let{matches:n}=U.useContext(vr),e=n[n.length-1];return e?e.params:{}}function Xc(n,{relative:e}={}){let{matches:t}=U.useContext(vr),{pathname:i}=Ii(),a=JSON.stringify(Bg(t));return U.useMemo(()=>qg(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function kC(n,e){return oT(n,e)}function oT(n,e,t,i){ft(Yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(yr),{matches:l}=U.useContext(vr),u=l[l.length-1],f=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let P=y&&y.path||"";lT(p,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=Ii(),T;if(e){let P=typeof e=="string"?Ko(e):e;ft(m==="/"||P.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),T=P}else T=w;let I=T.pathname||"/",x=I;if(m!=="/"){let P=m.replace(/^\//,"").split("/");x="/"+I.replace(/^\//,"").split("/").slice(P.length).join("/")}let D=eT(n,{pathname:x});pr(y||D!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),pr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=LC(D&&D.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:bi([m,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:bi([m,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,t,i);return e&&R?U.createElement(Yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},R):R}function OC(){let n=qC(),e=xC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:a},t):null,u)}var PC=U.createElement(OC,null),MC=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(vr.Provider,{value:this.props.routeContext},U.createElement(Fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VC({routeContext:n,match:e,children:t}){let i=U.useContext(Qo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(vr.Provider,{value:n},t)}function LC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:w}=t,T=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||T){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let w,T=!1,I=null,x=null;t&&(w=l&&m.route.id?l[m.route.id]:void 0,I=m.route.errorElement||PC,u&&(f<0&&y===0?(lT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):f===y&&(T=!0,x=m.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),R=()=>{let P;return w?P=I:T?P=x:m.route.Component?P=U.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,U.createElement(VC,{match:m,routeContext:{outlet:p,matches:D,isDataRoute:t!=null},children:P})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?U.createElement(MC,{location:t.location,revalidation:t.revalidation,component:I,error:w,children:R(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):R()},null)}function Hg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UC(n){let e=U.useContext(Qo);return ft(e,Hg(n)),e}function jC(n){let e=U.useContext(Mh);return ft(e,Hg(n)),e}function zC(n){let e=U.useContext(vr);return ft(e,Hg(n)),e}function Gg(n){let e=zC(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BC(){return Gg("useRouteId")}function qC(){let n=U.useContext(Fg),e=jC("useRouteError"),t=Gg("useRouteError");return n!==void 0?n:e.errors?.[t]}function FC(){let{router:n}=UC("useNavigate"),e=Gg("useNavigate"),t=U.useRef(!1);return aT(()=>{t.current=!0}),U.useCallback(async(a,l={})=>{pr(t.current,sT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var OE={};function lT(n,e,t){!e&&!OE[n]&&(OE[n]=!0,pr(!1,t))}U.memo(HC);function HC({routes:n,future:e,state:t}){return oT(n,void 0,t,e)}function oh({to:n,replace:e,state:t,relative:i}){ft(Yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=U.useContext(yr);pr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(vr),{pathname:u}=Ii(),f=Vh(),p=qg(n,Bg(l),u,i==="path"),m=JSON.stringify(p);return U.useEffect(()=>{f(JSON.parse(m),{replace:e,state:t,relative:i})},[f,m,i,e,t]),null}function Re(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){ft(!Yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=Ko(t));let{pathname:p="/",search:m="",hash:y="",state:w=null,key:T="default"}=t,I=U.useMemo(()=>{let x=Ai(p,u);return x==null?null:{location:{pathname:x,search:m,hash:y,state:w,key:T},navigationType:i}},[u,p,m,y,w,T,i]);return pr(I!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:U.createElement(yr.Provider,{value:f},U.createElement(Yc.Provider,{children:e,value:I}))}function $C({children:n,location:e}){return kC(Zm(n),e)}function Zm(n,e=[]){let t=[];return U.Children.forEach(n,(i,a)=>{if(!U.isValidElement(i))return;let l=[...e,a];if(i.type===U.Fragment){t.push.apply(t,Zm(i.props.children,l));return}ft(i.type===Re,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Zm(i.props.children,l)),t.push(u)}),t}var Gd="get",$d="application/x-www-form-urlencoded";function Lh(n){return n!=null&&typeof n.tagName=="string"}function KC(n){return Lh(n)&&n.tagName.toLowerCase()==="button"}function QC(n){return Lh(n)&&n.tagName.toLowerCase()==="form"}function YC(n){return Lh(n)&&n.tagName.toLowerCase()==="input"}function XC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WC(n,e){return n.button===0&&(!e||e==="_self")&&!XC(n)}var Md=null;function JC(){if(Md===null)try{new FormData(document.createElement("form"),0),Md=!1}catch{Md=!0}return Md}var ZC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(n){return n!=null&&!ZC.has(n)?(pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$d}"`),null):n}function eI(n,e){let t,i,a,l,u;if(QC(n)){let f=n.getAttribute("action");i=f?Ai(f,e):null,t=n.getAttribute("method")||Gd,a=Dm(n.getAttribute("enctype"))||$d,l=new FormData(n)}else if(KC(n)||YC(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?Ai(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Gd,a=Dm(n.getAttribute("formenctype"))||Dm(f.getAttribute("enctype"))||$d,l=new FormData(f,n),!JC()){let{name:m,type:y,value:w}=n;if(y==="image"){let T=m?`${m}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else m&&l.append(m,w)}}else{if(Lh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gd,i=null,a=$d,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:u}}function $g(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function tI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function rI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await tI(l,t);return u.links?u.links():[]}return[]}));return oI(i.flat(1).filter(nI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function PE(n,e,t,i,a,l){let u=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>u(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function iI(n,e,{includeHydrateFallback:t}={}){return sI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function sI(n){return[...new Set(n)]}function aI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function oI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(aI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lI=new Set([100,101,204,205]);function cI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ai(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function cT(){let n=U.useContext(Qo);return $g(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function uI(){let n=U.useContext(Mh);return $g(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kg=U.createContext(void 0);Kg.displayName="FrameworkContext";function uT(){let n=U.useContext(Kg);return $g(n,"You must render this element inside a <HydratedRouter> element"),n}function dI(n,e){let t=U.useContext(Kg),[i,a]=U.useState(!1),[l,u]=U.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=e,T=U.useRef(null);U.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=P=>{P.forEach(Q=>{u(Q.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return T.current&&R.observe(T.current),()=>{R.disconnect()}}},[n]),U.useEffect(()=>{if(i){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[i]);let I=()=>{a(!0)},x=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:gc(f,I),onBlur:gc(p,x),onMouseEnter:gc(m,I),onMouseLeave:gc(y,x),onTouchStart:gc(w,I)}]:[!1,T,{}]}function gc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function hI({page:n,...e}){let{router:t}=cT(),i=U.useMemo(()=>eT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(pI,{page:n,matches:i,...e}):null}function fI(n){let{manifest:e,routeModules:t}=uT(),[i,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return rI(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),i}function pI({page:n,matches:e,...t}){let i=Ii(),{manifest:a,routeModules:l}=uT(),{basename:u}=cT(),{loaderData:f,matches:p}=uI(),m=U.useMemo(()=>PE(n,e,p,a,i,"data"),[n,e,p,a,i]),y=U.useMemo(()=>PE(n,e,p,a,i,"assets"),[n,e,p,a,i]),w=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,D=!1;if(e.forEach(P=>{let Q=a.routes[P.route.id];!Q||!Q.hasLoader||(!m.some(W=>W.route.id===P.route.id)&&P.route.id in f&&l[P.route.id]?.shouldRevalidate||Q.hasClientLoader?D=!0:x.add(P.route.id))}),x.size===0)return[];let R=cI(n,u);return D&&x.size>0&&R.searchParams.set("_routes",e.filter(P=>x.has(P.route.id)).map(P=>P.route.id).join(",")),[R.pathname+R.search]},[u,f,i,a,m,e,n,l]),T=U.useMemo(()=>iI(y,a),[y,a]),I=fI(y);return U.createElement(U.Fragment,null,w.map(x=>U.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),T.map(x=>U.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),I.map(({key:x,link:D})=>U.createElement("link",{key:x,...D})))}function mI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dT&&(window.__reactRouterVersion="7.6.3")}catch{}function gI({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=rC({window:t,v5Compat:!0}));let a=i.current,[l,u]=U.useState({action:a.action,location:a.location}),f=U.useCallback(p=>{U.startTransition(()=>u(p))},[u]);return U.useLayoutEffect(()=>a.listen(f),[a,f]),U.createElement(GC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:m,preventScrollReset:y,viewTransition:w,...T},I){let{basename:x}=U.useContext(yr),D=typeof m=="string"&&hT.test(m),R,P=!1;if(typeof m=="string"&&D&&(R=m,dT))try{let N=new URL(window.location.href),L=m.startsWith("//")?new URL(N.protocol+m):new URL(m),z=Ai(L.pathname,x);L.origin===N.origin&&z!=null?m=z+L.search+L.hash:P=!0}catch{pr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=NC(m,{relative:a}),[W,oe,ae]=dI(i,T),pe=_I(m,{replace:u,state:f,target:p,preventScrollReset:y,relative:a,viewTransition:w});function V(N){e&&e(N),N.defaultPrevented||pe(N)}let C=U.createElement("a",{...T,...ae,href:R||Q,onClick:P||l?e:V,ref:mI(I,oe),target:p,"data-discover":!D&&t==="render"?"true":void 0});return W&&!D?U.createElement(U.Fragment,null,C,U.createElement(hI,{page:Q})):C});gn.displayName="Link";var fT=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...m},y){let w=Xc(u,{relative:m.relative}),T=Ii(),I=U.useContext(Mh),{navigator:x,basename:D}=U.useContext(yr),R=I!=null&&AI(w)&&f===!0,P=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,Q=T.pathname,W=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),W=W?W.toLowerCase():null,P=P.toLowerCase()),W&&D&&(W=Ai(W,D)||W);const oe=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let ae=Q===P||!a&&Q.startsWith(P)&&Q.charAt(oe)==="/",pe=W!=null&&(W===P||!a&&W.startsWith(P)&&W.charAt(P.length)==="/"),V={isActive:ae,isPending:pe,isTransitioning:R},C=ae?e:void 0,N;typeof i=="function"?N=i(V):N=[i,ae?"active":null,pe?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(V):l;return U.createElement(gn,{...m,"aria-current":C,className:N,ref:y,style:L,to:u,viewTransition:f},typeof p=="function"?p(V):p)});fT.displayName="NavLink";var yI=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:u=Gd,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:w,...T},I)=>{let x=wI(),D=TI(f,{relative:m}),R=u.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&hT.test(f),Q=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let oe=W.nativeEvent.submitter,ae=oe?.getAttribute("formmethod")||u;x(oe||W.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:w})};return U.createElement("form",{ref:I,method:R,action:D,onSubmit:i?p:Q,...T,"data-discover":!P&&n==="render"?"true":void 0})});yI.displayName="Form";function vI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(n){let e=U.useContext(Qo);return ft(e,vI(n)),e}function _I(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=Vh(),p=Ii(),m=Xc(n,{relative:l});return U.useCallback(y=>{if(WC(y,e)){y.preventDefault();let w=t!==void 0?t:Uc(p)===Uc(m);f(n,{replace:w,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,f,m,t,i,e,n,a,l,u])}var EI=0,bI=()=>`__${String(++EI)}__`;function wI(){let{router:n}=pT("useSubmit"),{basename:e}=U.useContext(yr),t=BC();return U.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:p,body:m}=eI(i,e);if(a.navigate===!1){let y=a.fetcherKey||bI();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function TI(n,{relative:e}={}){let{basename:t}=U.useContext(yr),i=U.useContext(vr);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Xc(n||".",{relative:e})},u=Ii();if(n==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:bi([t,l.pathname])),Uc(l)}function AI(n,e={}){let t=U.useContext(iT);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pT("useViewTransitionState"),a=Xc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ai(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Ai(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ah(a.pathname,u)!=null||ah(a.pathname,l)!=null}[...lI];const SI=()=>{};var ME={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},xI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],f=n[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,y=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|m>>6,I=m&63;p||(I=64,u||(T=64)),i.push(t[y],t[w],t[T],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const w=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||w==null)throw new RI;const T=l<<2|f>>4;if(i.push(T),m!==64){const I=f<<4&240|m>>2;if(i.push(I),w!==64){const x=m<<6&192|w;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CI=function(n){const e=mT(n);return gT.encodeByteArray(e,!0)},lh=function(n){return CI(n).replace(/\./g,"")},yT=function(n){try{return gT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=()=>II().__FIREBASE_DEFAULTS__,DI=()=>{if(typeof process>"u"||typeof ME>"u")return;const n=ME.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yT(n[1]);return e&&JSON.parse(e)},Uh=()=>{try{return SI()||NI()||DI()||kI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vT=n=>{var e,t;return(t=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_T=n=>{const e=vT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ET=()=>{var n;return(n=Uh())===null||n===void 0?void 0:n.config},bT=n=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(n){return n.endsWith(".cloudworkstations.dev")}async function Qg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lh(JSON.stringify(t)),lh(JSON.stringify(u)),""].join(".")}const Nc={};function PI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Nc))Nc[e]?n.emulator.push(e):n.prod.push(e);return n}function MI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let VE=!1;function Yg(n,e){if(typeof window>"u"||typeof document>"u"||!Ss(window.location.host)||Nc[n]===e||Nc[n]||VE)return;Nc[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=PI().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{VE=!0,u()},T}function y(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=MI(i),I=t("text"),x=document.getElementById(I)||document.createElement("span"),D=t("learnmore"),R=document.getElementById(D)||document.createElement("a"),P=t("preprendIcon"),Q=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const W=T.element;f(W),y(R,D);const oe=m();p(Q,P),W.append(Q,x,R,oe),document.body.appendChild(W)}l?(x.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function LI(){var n;const e=(n=Uh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zI(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BI(){return!LI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AT(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function qI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="FirebaseError";class sr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=FI,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?HI(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new sr(a,f,i)}}function HI(n,e){return n.replace(GI,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const GI=/\{\$([^}]+)}/g;function $I(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(LE(l)&&LE(u)){if(!vs(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function LE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Tc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ac(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function KI(n,e){const t=new QI(n,e);return t.subscribe.bind(t)}class QI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");YI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=km),a.error===void 0&&(a.error=km),a.complete===void 0&&(a.complete=km);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function km(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=1e3,WI=2,JI=4*60*60*1e3,ZI=.5;function UE(n,e=XI,t=WI){const i=e*Math.pow(t,n),a=Math.round(ZI*i*(Math.random()-.5)*2);return Math.min(JI,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(n){return n&&n._delegate?n._delegate:n}class nr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new OI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n2(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:t2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t2(n){return n===pa?void 0:n}function n2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new e2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const i2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},s2=je.INFO,a2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},o2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=a2[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jh{constructor(e){this.name=e,this._logLevel=s2,this._logHandler=o2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const l2=(n,e)=>e.some(t=>n instanceof t);let jE,zE;function c2(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u2(){return zE||(zE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xT=new WeakMap,eg=new WeakMap,RT=new WeakMap,Om=new WeakMap,Xg=new WeakMap;function d2(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(ps(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&xT.set(t,n)}).catch(()=>{}),Xg.set(e,n),e}function h2(n){if(eg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});eg.set(n,e)}let tg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function f2(n){tg=n(tg)}function p2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Pm(this),e,...t);return RT.set(i,e.sort?e.sort():[e]),ps(i)}:u2().includes(n)?function(...e){return n.apply(Pm(this),e),ps(xT.get(this))}:function(...e){return ps(n.apply(Pm(this),e))}}function m2(n){return typeof n=="function"?p2(n):(n instanceof IDBTransaction&&h2(n),l2(n,c2())?new Proxy(n,tg):n)}function ps(n){if(n instanceof IDBRequest)return d2(n);if(Om.has(n))return Om.get(n);const e=m2(n);return e!==n&&(Om.set(n,e),Xg.set(e,n)),e}const Pm=n=>Xg.get(n);function CT(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),f=ps(u);return i&&u.addEventListener("upgradeneeded",p=>{i(ps(u.result),p.oldVersion,p.newVersion,ps(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const g2=["get","getKey","getAll","getAllKeys","count"],y2=["put","add","delete","clear"],Mm=new Map;function BE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=y2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||g2.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&p.done]))[0]};return Mm.set(e,l),l}f2(n=>({...n,get:(e,t,i)=>BE(e,t)||n.get(e,t,i),has:(e,t)=>!!BE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function _2(n){const e=n.getComponent();return e?.type==="VERSION"}const ng="@firebase/app",qE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new jh("@firebase/app"),E2="@firebase/app-compat",b2="@firebase/analytics-compat",w2="@firebase/analytics",T2="@firebase/app-check-compat",A2="@firebase/app-check",S2="@firebase/auth",x2="@firebase/auth-compat",R2="@firebase/database",C2="@firebase/data-connect",I2="@firebase/database-compat",N2="@firebase/functions",D2="@firebase/functions-compat",k2="@firebase/installations",O2="@firebase/installations-compat",P2="@firebase/messaging",M2="@firebase/messaging-compat",V2="@firebase/performance",L2="@firebase/performance-compat",U2="@firebase/remote-config",j2="@firebase/remote-config-compat",z2="@firebase/storage",B2="@firebase/storage-compat",q2="@firebase/firestore",F2="@firebase/ai",H2="@firebase/firestore-compat",G2="firebase",$2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",K2={[ng]:"fire-core",[E2]:"fire-core-compat",[w2]:"fire-analytics",[b2]:"fire-analytics-compat",[A2]:"fire-app-check",[T2]:"fire-app-check-compat",[S2]:"fire-auth",[x2]:"fire-auth-compat",[R2]:"fire-rtdb",[C2]:"fire-data-connect",[I2]:"fire-rtdb-compat",[N2]:"fire-fn",[D2]:"fire-fn-compat",[k2]:"fire-iid",[O2]:"fire-iid-compat",[P2]:"fire-fcm",[M2]:"fire-fcm-compat",[V2]:"fire-perf",[L2]:"fire-perf-compat",[U2]:"fire-rc",[j2]:"fire-rc-compat",[z2]:"fire-gcs",[B2]:"fire-gcs-compat",[q2]:"fire-fst",[H2]:"fire-fst-compat",[F2]:"fire-vertex","fire-js":"fire-js",[G2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,Q2=new Map,ig=new Map;function FE(n,e){try{n.container.addComponent(e)}catch(t){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mr(n){const e=n.name;if(ig.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;ig.set(e,n);for(const t of ch.values())FE(t,n);for(const t of Q2.values())FE(t,n);return!0}function xs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new Ia("app","Firebase",Y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=$2;function IT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:rg,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw ms.create("bad-app-name",{appName:String(a)});if(t||(t=ET()),!t)throw ms.create("no-options");const l=ch.get(a);if(l){if(vs(t,l.options)&&vs(i,l.config))return l;throw ms.create("duplicate-app",{appName:a})}const u=new r2(a);for(const p of ig.values())u.addComponent(p);const f=new X2(t,i,u);return ch.set(a,f),f}function zh(n=rg){const e=ch.get(n);if(!e&&n===rg&&ET())return IT();if(!e)throw ms.create("no-app",{appName:n});return e}function Sn(n,e,t){var i;let a=(i=K2[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(f.join(" "));return}mr(new nr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firebase-heartbeat-database",J2=1,jc="firebase-heartbeat-store";let Vm=null;function NT(){return Vm||(Vm=CT(W2,J2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ms.create("idb-open",{originalErrorMessage:n.message})})),Vm}async function Z2(n){try{const t=(await NT()).transaction(jc),i=await t.objectStore(jc).get(DT(n));return await t.done,i}catch(e){if(e instanceof sr)Si.warn(e.message);else{const t=ms.create("idb-get",{originalErrorMessage:e?.message});Si.warn(t.message)}}}async function HE(n,e){try{const i=(await NT()).transaction(jc,"readwrite");await i.objectStore(jc).put(e,DT(n)),await i.done}catch(t){if(t instanceof sr)Si.warn(t.message);else{const i=ms.create("idb-set",{originalErrorMessage:t?.message});Si.warn(i.message)}}}function DT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=1024,tN=30;class nN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=GE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>tN){const u=sN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Si.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=GE(),{heartbeatsToSend:i,unsentEntries:a}=rN(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Si.warn(t),""}}}function GE(){return new Date().toISOString().substring(0,10)}function rN(n,e=eN){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),$E(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),$E(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class iN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AT()?ST().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Z2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return HE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return HE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $E(n){return lh(JSON.stringify({version:2,heartbeats:n})).length}function sN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){mr(new nr("platform-logger",e=>new v2(e),"PRIVATE")),mr(new nr("heartbeat",e=>new nN(e),"PRIVATE")),Sn(ng,qE,n),Sn(ng,qE,"esm2017"),Sn("fire-js","")}aN("");function Wg(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function kT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oN=kT,OT=new Ia("auth","Firebase",kT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new jh("@firebase/auth");function lN(n,...e){uh.logLevel<=je.WARN&&uh.warn(`Auth (${Na}): ${n}`,...e)}function Kd(n,...e){uh.logLevel<=je.ERROR&&uh.error(`Auth (${Na}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,...e){throw Zg(n,...e)}function fr(n,...e){return Zg(n,...e)}function Jg(n,e,t){const i=Object.assign(Object.assign({},oN()),{[e]:t});return new Ia("auth","Firebase",i).create(e,{appName:n.name})}function wi(n){return Jg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cN(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&rr(n,"argument-error"),Jg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return OT.create(n,...e)}function be(n,e,...t){if(!n)throw Zg(e,...t)}function _i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Kd(e),new Error(e)}function xi(n,e){n||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uN(){return KE()==="http:"||KE()==="https:"}function KE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uN()||TT()||"connection"in navigator)?navigator.onLine:!0}function hN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=VI()||jI()}get(){return dN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mN=new Jc(3e4,6e4);function Ni(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gr(n,e,t,i,a={}){return MT(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=Wc(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},l);return UI()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ss(n.emulatorConfig.host)&&(m.credentials="include"),PT.fetch()(await VT(n,n.config.apiHost,t,f),m)})}async function MT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},fN),e);try{const a=new yN(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Vd(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vd(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Vd(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Vd(n,"user-disabled",u);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Jg(n,y,m);rr(n,y)}}catch(a){if(a instanceof sr)throw a;rr(n,"network-request-failed",{message:String(a)})}}async function Zc(n,e,t,i,a={}){const l=await Gr(n,e,t,i,a);return"mfaPendingCredential"in l&&rr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function VT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,u=l.config.emulator?ey(n.config,a):`${n.config.apiScheme}://${a}`;return pN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function gN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(fr(this.auth,"network-request-failed")),mN.get())})}}function Vd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=fr(n,e,i);return a.customData._tokenResponse=t,a}function QE(n){return n!==void 0&&n.enterprise!==void 0}class vN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _N(n,e){return Gr(n,"GET","/v2/recaptchaConfig",Ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,e){return Gr(n,"POST","/v1/accounts:delete",e)}async function dh(n,e){return Gr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bN(n,e=!1){const t=Ze(n),i=await t.getIdToken(e),a=ty(i);be(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Dc(Lm(a.auth_time)),issuedAtTime:Dc(Lm(a.iat)),expirationTime:Dc(Lm(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Lm(n){return Number(n)*1e3}function ty(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const a=yT(t);return a?JSON.parse(a):(Kd("Failed to decode base64 JWT payload"),null)}catch(a){return Kd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function YE(n){const e=ty(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof sr&&wN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function wN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Uo(n,dh(t,{idToken:i}));be(a?.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?LT(l.providerUserInfo):[],f=SN(n.providerData,u),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!f?.length,y=p?m:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ag(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function AN(n){const e=Ze(n);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SN(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function LT(n){return n.map(e=>{var{providerId:t}=e,i=Wg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e){const t=await MT(n,{},async()=>{const i=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await VT(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&Ss(n.emulatorConfig.host)&&(p.credentials="include"),PT.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RN(n,e){return Gr(n,"POST","/v2/accounts:revokeToken",Ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=YE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await xN(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new Oo;return i&&(be(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(be(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ag(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bN(this,e)}reload(){return AN(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await hh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await Uo(this,EN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,u,f,p,m,y;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,x=(u=t.photoURL)!==null&&u!==void 0?u:void 0,D=(f=t.tenantId)!==null&&f!==void 0?f:void 0,R=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,P=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Q=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:W,emailVerified:oe,isAnonymous:ae,providerData:pe,stsTokenManager:V}=t;be(W&&V,e,"internal-error");const C=Oo.fromJSON(this.name,V);be(typeof W=="string",e,"internal-error"),os(w,e.name),os(T,e.name),be(typeof oe=="boolean",e,"internal-error"),be(typeof ae=="boolean",e,"internal-error"),os(I,e.name),os(x,e.name),os(D,e.name),os(R,e.name),os(P,e.name),os(Q,e.name);const N=new hr({uid:W,auth:e,email:T,emailVerified:oe,displayName:w,isAnonymous:ae,photoURL:x,phoneNumber:I,tenantId:D,stsTokenManager:C,createdAt:P,lastLoginAt:Q});return pe&&Array.isArray(pe)&&(N.providerData=pe.map(L=>Object.assign({},L))),R&&(N._redirectEventId=R),N}static async _fromIdTokenResponse(e,t,i=!1){const a=new Oo;a.updateFromServerResponse(t);const l=new hr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await hh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?LT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new Oo;f.updateFromIdToken(i);const p=new hr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ag(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function Ei(n){xi(n instanceof Function,"Expected a class definition");let e=XE.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}UT.type="NONE";const WE=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n,e,t){return`firebase:${n}:${e}:${t}`}class Po{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Qd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Qd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await dh(this.auth,{idToken:e}).catch(()=>{});return t?hr._fromGetAccountInfoResponse(this.auth,t,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Po(Ei(WE),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Ei(WE);const u=Qd(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const y=await m._get(u);if(y){let w;if(typeof y=="string"){const T=await dh(e,{idToken:y}).catch(()=>{});if(!T)break;w=await hr._fromGetAccountInfoResponse(e,T,y)}else w=hr._fromJSON(e,y);m!==l&&(f=w),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Po(l,e,i):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Po(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HT(e))return"Blackberry";if(GT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(FT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function jT(n=un()){return/firefox\//i.test(n)}function zT(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(n=un()){return/crios\//i.test(n)}function qT(n=un()){return/iemobile/i.test(n)}function FT(n=un()){return/android/i.test(n)}function HT(n=un()){return/blackberry/i.test(n)}function GT(n=un()){return/webos/i.test(n)}function ny(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CN(n=un()){var e;return ny(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IN(){return zI()&&document.documentMode===10}function $T(n=un()){return ny(n)||FT(n)||GT(n)||HT(n)||/windows phone/i.test(n)||qT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(n,e=[]){let t;switch(n){case"Browser":t=JE(un());break;case"Worker":t=`${JE(un())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Na}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(n,e={}){return Gr(n,"GET","/v2/passwordPolicy",Ni(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=6;class ON{constructor(e){var t,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:kN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,u,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZE(this),this.idTokenSubscription=new ZE(this),this.beforeStateQueue=new NN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dh(this,{idToken:e}),i=await hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(wi(this));const t=e?Ze(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DN(this),t=new ON(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await RN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ei(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&lN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rs(n){return Ze(n)}class ZE{constructor(e){this.auth=e,this.observer=null,this.addObserver=KI(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MN(n){Bh=n}function QT(n){return Bh.loadJS(n)}function VN(){return Bh.recaptchaEnterpriseScript}function LN(){return Bh.gapiScript}function UN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jN{constructor(){this.enterprise=new zN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class zN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const BN="recaptcha-enterprise",YT="NO_RECAPTCHA";class qN{constructor(e){this.type=BN,this.auth=Rs(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{_N(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new vN(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(p=>{f(p)})})}function a(l,u,f){const p=window.grecaptcha;QE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(YT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jN().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!t&&QE(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VN();p.length!==0&&(p+=f),QT(p).then(()=>{a(f,l,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function eb(n,e,t,i=!1,a=!1){const l=new qN(n);let u;if(a)u=YT;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function og(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await eb(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await eb(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n,e){const t=xs(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(vs(l,e??{}))return a;rr(a,"already-initialized")}return t.initialize({options:e})}function HN(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ei);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function GN(n,e,t){const i=Rs(n);be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=XT(e),{host:u,port:f}=$N(e),p=f===null?"":`:${f}`,m={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(vs(m,i.config.emulator)&&vs(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Ss(u)?(Qg(`${l}//${u}${p}`),Yg("Auth",!0)):KN()}function XT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $N(n){const e=XT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:tb(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:tb(u)}}}function tb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function KN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,t){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function QN(n,e){return Gr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e){return Zc(n,"POST","/v1/accounts:signInWithPassword",Ni(n,e))}async function XN(n,e){return Gr(n,"POST","/v1/accounts:sendOobCode",Ni(n,e))}async function WN(n,e){return XN(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Ni(n,e))}async function ZN(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends ry{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new zc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new zc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,t,"signInWithPassword",YN);case"emailLink":return JN(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,i,"signUpPassword",QN);case"emailLink":return ZN(e,{idToken:t,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e){return Zc(n,"POST","/v1/accounts:signInWithIdp",Ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="http://localhost";class ba extends ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Wg(t,["providerId","signInMethod"]);if(!i||!a)return null;const u=new ba(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Mo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Mo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mo(e,t)}buildRequest(){const e={requestUri:eD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nD(n){const e=Tc(Ac(n)).link,t=e?Tc(Ac(e)).deep_link_id:null,i=Tc(Ac(n)).deep_link_id;return(i?Tc(Ac(i)).link:null)||i||t||e||n}class iy{constructor(e){var t,i,a,l,u,f;const p=Tc(Ac(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,y=(i=p.oobCode)!==null&&i!==void 0?i:null,w=tD((a=p.mode)!==null&&a!==void 0?a:null);be(m&&y&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=y,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=nD(e);try{return new iy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,t){return zc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=iy.parseLink(t);return be(i,"argument-error"),zc._fromEmailAndCode(e,i.code,i.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends eu{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vi.credential(t,i)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends eu{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends eu{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return us.credential(t,i)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(n,e){return Zc(n,"POST","/v1/accounts:signUp",Ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await hr._fromIdTokenResponse(e,i,a),u=nb(i);return new wa({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=nb(i);return new wa({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function nb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends sr{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new fh(e,t,i,a)}}function WT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(n,l,e,i):l})}async function iD(n,e,t=!1){const i=await Uo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e,t=!1){const{auth:i}=n;if(Tn(i.app))return Promise.reject(wi(i));const a="reauthenticate";try{const l=await Uo(n,WT(i,a,e,n),t);be(l.idToken,i,"internal-error");const u=ty(l.idToken);be(u,i,"internal-error");const{sub:f}=u;return be(n.uid===f,i,"user-mismatch"),wa._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&rr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(n,e,t=!1){if(Tn(n.app))return Promise.reject(wi(n));const i="signIn",a=await WT(n,i,e),l=await wa._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function aD(n,e){return JT(Rs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(n){const e=Rs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oD(n,e,t){if(Tn(n.app))return Promise.reject(wi(n));const i=Rs(n),u=await og(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ZT(n),p}),f=await wa._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function lD(n,e,t){return Tn(n.app)?Promise.reject(wi(n)):aD(Ze(n),Xo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ZT(n),i})}async function N3(n,e){const t=Ze(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await WN(t.auth,a);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e){return Gr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Ze(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Uo(i,cD(i.auth,l));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const f=i.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function uD(n,e,t,i){return Ze(n).onIdTokenChanged(e,t,i)}function dD(n,e,t){return Ze(n).beforeAuthStateChanged(e,t)}function hD(n,e,t,i){return Ze(n).onAuthStateChanged(e,t,i)}function fD(n){return Ze(n).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=1e3,mD=10;class t1 extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);IN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,mD):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}t1.type="LOCAL";const gD=t1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}n1.type="SESSION";const r1=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new qh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async m=>m(t.origin,l)),p=await yD(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const m=ay("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function _D(n){Br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function ED(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bD(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function wD(){return i1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebaseLocalStorageDb",TD=1,mh="firebaseLocalStorage",a1="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fh(n,e){return n.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function AD(){const n=indexedDB.deleteDatabase(s1);return new tu(n).toPromise()}function lg(){const n=indexedDB.open(s1,TD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(mh,{keyPath:a1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(mh)?e(i):(i.close(),await AD(),e(await lg()))})})}async function rb(n,e,t){const i=Fh(n,!0).put({[a1]:e,value:t});return new tu(i).toPromise()}async function SD(n,e){const t=Fh(n,!1).get(e),i=await new tu(t).toPromise();return i===void 0?null:i.value}function ib(n,e){const t=Fh(n,!0).delete(e);return new tu(t).toPromise()}const xD=800,RD=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>RD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(wD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ED(),!this.activeServiceWorker)return;this.sender=new vD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await rb(e,ph,"1"),await ib(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>SD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ib(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Fh(a,!1).getAll();return new tu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const CD=o1;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n,e){return e?Ei(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ID(n){return JT(n.auth,new oy(n),n.bypassAuthState)}function ND(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),sD(t,new oy(n),n.bypassAuthState)}async function DD(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),iD(t,new oy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ID;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return ND;default:rr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Jc(2e3,1e4);async function OD(n,e,t){if(Tn(n.app))return Promise.reject(fr(n,"operation-not-supported-in-this-environment"));const i=Rs(n);cN(n,e,sy);const a=l1(i,t);return new ma(i,"signInViaPopup",e,a).executeNotNull()}class ma extends c1{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kD.get())};e()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="pendingRedirect",Yd=new Map;class MD extends c1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Yd.get(this.auth._key());if(!e){try{const i=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Yd.set(this.auth._key(),e)}return this.bypassAuthState||Yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(n,e){const t=jD(e),i=UD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function LD(n,e){Yd.set(n._key(),e)}function UD(n){return Ei(n._redirectPersistence)}function jD(n){return Qd(PD,n.config.apiKey,n.name)}async function zD(n,e,t=!1){if(Tn(n.app))return Promise.reject(wi(n));const i=Rs(n),a=l1(i,e),u=await new MD(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=10*60*1e3;class qD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!u1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(fr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BD&&this.cachedEventUids.clear(),this.cachedEventUids.has(sb(e))}saveEventToCache(e){this.cachedEventUids.add(sb(e)),this.lastProcessedEventTime=Date.now()}}function sb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function u1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,e={}){return Gr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$D=/^https?/;async function KD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await HD(n);for(const t of e)try{if(QD(t))return}catch{}rr(n,"unauthorized-domain")}function QD(n){const e=sg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!$D.test(t))return!1;if(GD.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Jc(3e4,6e4);function ab(){const n=Br().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XD(n){return new Promise((e,t)=>{var i,a,l;function u(){ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ab(),t(fr(n,"network-request-failed"))},timeout:YD.get()})}if(!((a=(i=Br().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Br().gapi)===null||l===void 0)&&l.load)u();else{const f=UN("iframefcb");return Br()[f]=()=>{gapi.load?u():t(fr(n,"network-request-failed"))},QT(`${LN()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Xd=null,e})}let Xd=null;function WD(n){return Xd=Xd||XD(n),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Jc(5e3,15e3),ZD="__/auth/iframe",ek="emulator/auth/iframe",tk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rk(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ey(e,ek):`https://${n.config.authDomain}/${ZD}`,i={apiKey:e.apiKey,appName:n.name,v:Na},a=nk.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Wc(i).slice(1)}`}async function ik(n){const e=await WD(n),t=Br().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:rk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=fr(n,"network-request-failed"),f=Br().setTimeout(()=>{l(u)},JD.get());function p(){Br().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ak=500,ok=600,lk="_blank",ck="http://localhost";class ob{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uk(n,e,t,i=ak,a=ok){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},sk),{width:i.toString(),height:a.toString(),top:l,left:u}),m=un().toLowerCase();t&&(f=BT(m)?lk:t),jT(m)&&(e=e||ck,p.scrollbars="yes");const y=Object.entries(p).reduce((T,[I,x])=>`${T}${I}=${x},`,"");if(CN(m)&&f!=="_self")return dk(e||"",f),new ob(null);const w=window.open(e||"",f,y);be(w,n,"popup-blocked");try{w.focus()}catch{}return new ob(w)}function dk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="__/auth/handler",fk="emulator/auth/handler",pk=encodeURIComponent("fac");async function lb(n,e,t,i,a,l){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Na,eventId:a};if(e instanceof sy){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",$I(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof eu){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await n._getAppCheckToken(),m=p?`#${pk}=${encodeURIComponent(p)}`:"";return`${mk(n)}?${Wc(f).slice(1)}${m}`}function mk({config:n}){return n.emulator?ey(n,fk):`https://${n.authDomain}/${hk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r1,this._completeRedirectFn=zD,this._overrideRedirectResult=LD}async _openPopup(e,t,i,a){var l;xi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await lb(e,t,i,sg(),a);return uk(e,u,ay())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await lb(e,t,i,sg(),a);return _D(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ik(e),i=new qD(e);return t.register("authEvent",a=>(be(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Um,{type:Um},a=>{var l;const u=(l=a?.[0])===null||l===void 0?void 0:l[Um];u!==void 0&&t(!!u),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $T()||zT()||ny()}}const yk=gk;var cb="@firebase/auth",ub="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ek(n){mr(new nr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(n)},m=new PN(i,a,l,p);return HN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),mr(new nr("auth-internal",e=>{const t=Rs(e.getProvider("auth").getImmediate());return(i=>new vk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(cb,ub,_k(n)),Sn(cb,ub,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=5*60,wk=bT("authIdTokenMaxAge")||bk;let db=null;const Tk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>wk)return;const a=t?.token;db!==a&&(db=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Ak(n=zh()){const e=xs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=FN(n,{popupRedirectResolver:yk,persistence:[CD,gD,r1]}),i=bT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=Tk(l.toString());dD(t,u,()=>u(t.currentUser)),uD(t,f=>u(f))}}const a=vT("auth");return a&&GN(t,`http://${a}`),t}function Sk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}MN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=fr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",Sk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ek("Browser");var hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,d1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,C){function N(){}N.prototype=C.prototype,V.D=C.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(L,z,q){for(var M=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)M[bt-2]=arguments[bt];return C.prototype[z].apply(L,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,C,N){N||(N=0);var L=Array(16);if(typeof C=="string")for(var z=0;16>z;++z)L[z]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(z=0;16>z;++z)L[z]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=V.g[0],N=V.g[1],z=V.g[2];var q=V.g[3],M=C+(q^N&(z^q))+L[0]+3614090360&4294967295;C=N+(M<<7&4294967295|M>>>25),M=q+(z^C&(N^z))+L[1]+3905402710&4294967295,q=C+(M<<12&4294967295|M>>>20),M=z+(N^q&(C^N))+L[2]+606105819&4294967295,z=q+(M<<17&4294967295|M>>>15),M=N+(C^z&(q^C))+L[3]+3250441966&4294967295,N=z+(M<<22&4294967295|M>>>10),M=C+(q^N&(z^q))+L[4]+4118548399&4294967295,C=N+(M<<7&4294967295|M>>>25),M=q+(z^C&(N^z))+L[5]+1200080426&4294967295,q=C+(M<<12&4294967295|M>>>20),M=z+(N^q&(C^N))+L[6]+2821735955&4294967295,z=q+(M<<17&4294967295|M>>>15),M=N+(C^z&(q^C))+L[7]+4249261313&4294967295,N=z+(M<<22&4294967295|M>>>10),M=C+(q^N&(z^q))+L[8]+1770035416&4294967295,C=N+(M<<7&4294967295|M>>>25),M=q+(z^C&(N^z))+L[9]+2336552879&4294967295,q=C+(M<<12&4294967295|M>>>20),M=z+(N^q&(C^N))+L[10]+4294925233&4294967295,z=q+(M<<17&4294967295|M>>>15),M=N+(C^z&(q^C))+L[11]+2304563134&4294967295,N=z+(M<<22&4294967295|M>>>10),M=C+(q^N&(z^q))+L[12]+1804603682&4294967295,C=N+(M<<7&4294967295|M>>>25),M=q+(z^C&(N^z))+L[13]+4254626195&4294967295,q=C+(M<<12&4294967295|M>>>20),M=z+(N^q&(C^N))+L[14]+2792965006&4294967295,z=q+(M<<17&4294967295|M>>>15),M=N+(C^z&(q^C))+L[15]+1236535329&4294967295,N=z+(M<<22&4294967295|M>>>10),M=C+(z^q&(N^z))+L[1]+4129170786&4294967295,C=N+(M<<5&4294967295|M>>>27),M=q+(N^z&(C^N))+L[6]+3225465664&4294967295,q=C+(M<<9&4294967295|M>>>23),M=z+(C^N&(q^C))+L[11]+643717713&4294967295,z=q+(M<<14&4294967295|M>>>18),M=N+(q^C&(z^q))+L[0]+3921069994&4294967295,N=z+(M<<20&4294967295|M>>>12),M=C+(z^q&(N^z))+L[5]+3593408605&4294967295,C=N+(M<<5&4294967295|M>>>27),M=q+(N^z&(C^N))+L[10]+38016083&4294967295,q=C+(M<<9&4294967295|M>>>23),M=z+(C^N&(q^C))+L[15]+3634488961&4294967295,z=q+(M<<14&4294967295|M>>>18),M=N+(q^C&(z^q))+L[4]+3889429448&4294967295,N=z+(M<<20&4294967295|M>>>12),M=C+(z^q&(N^z))+L[9]+568446438&4294967295,C=N+(M<<5&4294967295|M>>>27),M=q+(N^z&(C^N))+L[14]+3275163606&4294967295,q=C+(M<<9&4294967295|M>>>23),M=z+(C^N&(q^C))+L[3]+4107603335&4294967295,z=q+(M<<14&4294967295|M>>>18),M=N+(q^C&(z^q))+L[8]+1163531501&4294967295,N=z+(M<<20&4294967295|M>>>12),M=C+(z^q&(N^z))+L[13]+2850285829&4294967295,C=N+(M<<5&4294967295|M>>>27),M=q+(N^z&(C^N))+L[2]+4243563512&4294967295,q=C+(M<<9&4294967295|M>>>23),M=z+(C^N&(q^C))+L[7]+1735328473&4294967295,z=q+(M<<14&4294967295|M>>>18),M=N+(q^C&(z^q))+L[12]+2368359562&4294967295,N=z+(M<<20&4294967295|M>>>12),M=C+(N^z^q)+L[5]+4294588738&4294967295,C=N+(M<<4&4294967295|M>>>28),M=q+(C^N^z)+L[8]+2272392833&4294967295,q=C+(M<<11&4294967295|M>>>21),M=z+(q^C^N)+L[11]+1839030562&4294967295,z=q+(M<<16&4294967295|M>>>16),M=N+(z^q^C)+L[14]+4259657740&4294967295,N=z+(M<<23&4294967295|M>>>9),M=C+(N^z^q)+L[1]+2763975236&4294967295,C=N+(M<<4&4294967295|M>>>28),M=q+(C^N^z)+L[4]+1272893353&4294967295,q=C+(M<<11&4294967295|M>>>21),M=z+(q^C^N)+L[7]+4139469664&4294967295,z=q+(M<<16&4294967295|M>>>16),M=N+(z^q^C)+L[10]+3200236656&4294967295,N=z+(M<<23&4294967295|M>>>9),M=C+(N^z^q)+L[13]+681279174&4294967295,C=N+(M<<4&4294967295|M>>>28),M=q+(C^N^z)+L[0]+3936430074&4294967295,q=C+(M<<11&4294967295|M>>>21),M=z+(q^C^N)+L[3]+3572445317&4294967295,z=q+(M<<16&4294967295|M>>>16),M=N+(z^q^C)+L[6]+76029189&4294967295,N=z+(M<<23&4294967295|M>>>9),M=C+(N^z^q)+L[9]+3654602809&4294967295,C=N+(M<<4&4294967295|M>>>28),M=q+(C^N^z)+L[12]+3873151461&4294967295,q=C+(M<<11&4294967295|M>>>21),M=z+(q^C^N)+L[15]+530742520&4294967295,z=q+(M<<16&4294967295|M>>>16),M=N+(z^q^C)+L[2]+3299628645&4294967295,N=z+(M<<23&4294967295|M>>>9),M=C+(z^(N|~q))+L[0]+4096336452&4294967295,C=N+(M<<6&4294967295|M>>>26),M=q+(N^(C|~z))+L[7]+1126891415&4294967295,q=C+(M<<10&4294967295|M>>>22),M=z+(C^(q|~N))+L[14]+2878612391&4294967295,z=q+(M<<15&4294967295|M>>>17),M=N+(q^(z|~C))+L[5]+4237533241&4294967295,N=z+(M<<21&4294967295|M>>>11),M=C+(z^(N|~q))+L[12]+1700485571&4294967295,C=N+(M<<6&4294967295|M>>>26),M=q+(N^(C|~z))+L[3]+2399980690&4294967295,q=C+(M<<10&4294967295|M>>>22),M=z+(C^(q|~N))+L[10]+4293915773&4294967295,z=q+(M<<15&4294967295|M>>>17),M=N+(q^(z|~C))+L[1]+2240044497&4294967295,N=z+(M<<21&4294967295|M>>>11),M=C+(z^(N|~q))+L[8]+1873313359&4294967295,C=N+(M<<6&4294967295|M>>>26),M=q+(N^(C|~z))+L[15]+4264355552&4294967295,q=C+(M<<10&4294967295|M>>>22),M=z+(C^(q|~N))+L[6]+2734768916&4294967295,z=q+(M<<15&4294967295|M>>>17),M=N+(q^(z|~C))+L[13]+1309151649&4294967295,N=z+(M<<21&4294967295|M>>>11),M=C+(z^(N|~q))+L[4]+4149444226&4294967295,C=N+(M<<6&4294967295|M>>>26),M=q+(N^(C|~z))+L[11]+3174756917&4294967295,q=C+(M<<10&4294967295|M>>>22),M=z+(C^(q|~N))+L[2]+718787259&4294967295,z=q+(M<<15&4294967295|M>>>17),M=N+(q^(z|~C))+L[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(z+(M<<21&4294967295|M>>>11))&4294967295,V.g[2]=V.g[2]+z&4294967295,V.g[3]=V.g[3]+q&4294967295}i.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var N=C-this.blockSize,L=this.B,z=this.h,q=0;q<C;){if(z==0)for(;q<=N;)a(this,V,q),q+=this.blockSize;if(typeof V=="string"){for(;q<C;)if(L[z++]=V.charCodeAt(q++),z==this.blockSize){a(this,L),z=0;break}}else for(;q<C;)if(L[z++]=V[q++],z==this.blockSize){a(this,L),z=0;break}}this.h=z,this.o+=C},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var N=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=N&255,N/=256;for(this.u(V),V=Array(16),C=N=0;4>C;++C)for(var L=0;32>L;L+=8)V[N++]=this.g[C]>>>L&255;return V};function l(V,C){var N=f;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=C(V)}function u(V,C){this.h=C;for(var N=[],L=!0,z=V.length-1;0<=z;z--){var q=V[z]|0;L&&q==C||(N[z]=q,L=!1)}this.g=N}var f={};function p(V){return-128<=V&&128>V?l(V,function(C){return new u([C|0],0>C?-1:0)}):new u([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return R(m(-V));for(var C=[],N=1,L=0;V>=N;L++)C[L]=V/N|0,N*=4294967296;return new u(C,0)}function y(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return R(y(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(C,8)),L=w,z=0;z<V.length;z+=8){var q=Math.min(8,V.length-z),M=parseInt(V.substring(z,z+q),C);8>q?(q=m(Math.pow(C,q)),L=L.j(q).add(m(M))):(L=L.j(N),L=L.add(m(M)))}return L}var w=p(0),T=p(1),I=p(16777216);n=u.prototype,n.m=function(){if(D(this))return-R(this).m();for(var V=0,C=1,N=0;N<this.g.length;N++){var L=this.i(N);V+=(0<=L?L:4294967296+L)*C,C*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(x(this))return"0";if(D(this))return"-"+R(this).toString(V);for(var C=m(Math.pow(V,6)),N=this,L="";;){var z=oe(N,C).g;N=P(N,z.j(C));var q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=z,x(N))return q+L;for(;6>q.length;)q="0"+q;L=q+L}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function x(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function D(V){return V.h==-1}n.l=function(V){return V=P(this,V),D(V)?-1:x(V)?0:1};function R(V){for(var C=V.g.length,N=[],L=0;L<C;L++)N[L]=~V.g[L];return new u(N,~V.h).add(T)}n.abs=function(){return D(this)?R(this):this},n.add=function(V){for(var C=Math.max(this.g.length,V.g.length),N=[],L=0,z=0;z<=C;z++){var q=L+(this.i(z)&65535)+(V.i(z)&65535),M=(q>>>16)+(this.i(z)>>>16)+(V.i(z)>>>16);L=M>>>16,q&=65535,M&=65535,N[z]=M<<16|q}return new u(N,N[N.length-1]&-2147483648?-1:0)};function P(V,C){return V.add(R(C))}n.j=function(V){if(x(this)||x(V))return w;if(D(this))return D(V)?R(this).j(R(V)):R(R(this).j(V));if(D(V))return R(this.j(R(V)));if(0>this.l(I)&&0>V.l(I))return m(this.m()*V.m());for(var C=this.g.length+V.g.length,N=[],L=0;L<2*C;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<V.g.length;z++){var q=this.i(L)>>>16,M=this.i(L)&65535,bt=V.i(z)>>>16,it=V.i(z)&65535;N[2*L+2*z]+=M*it,Q(N,2*L+2*z),N[2*L+2*z+1]+=q*it,Q(N,2*L+2*z+1),N[2*L+2*z+1]+=M*bt,Q(N,2*L+2*z+1),N[2*L+2*z+2]+=q*bt,Q(N,2*L+2*z+2)}for(L=0;L<C;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=C;L<2*C;L++)N[L]=0;return new u(N,0)};function Q(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function W(V,C){this.g=V,this.h=C}function oe(V,C){if(x(C))throw Error("division by zero");if(x(V))return new W(w,w);if(D(V))return C=oe(R(V),C),new W(R(C.g),R(C.h));if(D(C))return C=oe(V,R(C)),new W(R(C.g),C.h);if(30<V.g.length){if(D(V)||D(C))throw Error("slowDivide_ only works with positive integers.");for(var N=T,L=C;0>=L.l(V);)N=ae(N),L=ae(L);var z=pe(N,1),q=pe(L,1);for(L=pe(L,2),N=pe(N,2);!x(L);){var M=q.add(L);0>=M.l(V)&&(z=z.add(N),q=M),L=pe(L,1),N=pe(N,1)}return C=P(V,z.j(C)),new W(z,C)}for(z=w;0<=V.l(C);){for(N=Math.max(1,Math.floor(V.m()/C.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),q=m(N),M=q.j(C);D(M)||0<M.l(V);)N-=L,q=m(N),M=q.j(C);x(q)&&(q=T),z=z.add(q),V=P(V,M)}return new W(z,V)}n.A=function(V){return oe(this,V).h},n.and=function(V){for(var C=Math.max(this.g.length,V.g.length),N=[],L=0;L<C;L++)N[L]=this.i(L)&V.i(L);return new u(N,this.h&V.h)},n.or=function(V){for(var C=Math.max(this.g.length,V.g.length),N=[],L=0;L<C;L++)N[L]=this.i(L)|V.i(L);return new u(N,this.h|V.h)},n.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),N=[],L=0;L<C;L++)N[L]=this.i(L)^V.i(L);return new u(N,this.h^V.h)};function ae(V){for(var C=V.g.length+1,N=[],L=0;L<C;L++)N[L]=V.i(L)<<1|V.i(L-1)>>>31;return new u(N,V.h)}function pe(V,C){var N=C>>5;C%=32;for(var L=V.g.length-N,z=[],q=0;q<L;q++)z[q]=0<C?V.i(q+N)>>>C|V.i(q+N+1)<<32-C:V.i(q+N);return new u(z,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,d1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,gs=u}).apply(typeof hb<"u"?hb:typeof self<"u"?self:typeof window<"u"?window:{});var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h1,Sc,f1,Wd,cg,p1,m1,g1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ld=="object"&&Ld];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(d,_){if(_)e:{var E=i;d=d.split(".");for(var S=0;S<d.length-1;S++){var F=d[S];if(!(F in E))break e;E=E[F]}d=d[d.length-1],S=E[d],_=_(S),_!=S&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var E=0,S=!1,F={next:function(){if(!S&&E<d.length){var Y=E++;return{value:_(Y,d[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function m(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,E){return d.call.apply(d.bind,arguments)}function w(d,_,E){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),d.apply(_,F)}}return function(){return d.apply(_,arguments)}}function T(d,_,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,T.apply(null,arguments)}function I(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function x(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(S,F,Y){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return _.prototype[F].apply(S,ce)}}function D(d){const _=d.length;if(0<_){const E=Array(_);for(let S=0;S<_;S++)E[S]=d[S];return E}return[]}function R(d,_){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(p(S)){const F=d.length||0,Y=S.length||0;d.length=F+Y;for(let ce=0;ce<Y;ce++)d[F+ce]=S[ce]}else d.push(S)}}class P{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Q(d){return/^[\s\xa0]*$/.test(d)}function W(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function oe(d){return oe[" "](d),d}oe[" "]=function(){};var ae=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function pe(d,_,E){for(const S in d)_.call(E,d[S],S,d)}function V(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function C(d){const _={};for(const E in d)_[E]=d[E];return _}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,_){let E,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(E in S)d[E]=S[E];for(let Y=0;Y<N.length;Y++)E=N[Y],Object.prototype.hasOwnProperty.call(S,E)&&(d[E]=S[E])}}function z(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function q(d){f.setTimeout(()=>{throw d},0)}function M(){var d=xe;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class bt{constructor(){this.h=this.g=null}add(_,E){const S=it.get();S.set(_,E),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new P(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ue=!1,xe=new bt,k=()=>{const d=f.Promise.resolve(void 0);ne=()=>{d.then(re)}};var re=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(E){q(E)}var _=it;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ue=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};f.addEventListener("test",E,_),f.removeEventListener("test",E,_)}catch{}return d}();function Pe(d,_){if(le.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ae){e:{try{oe(_.nodeName);var F=!0;break e}catch{}F=!1}F||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}x(Pe,le);var Ae={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),at=0;function Er(d,_,E,S,F){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!S,this.ha=F,this.key=++at,this.da=this.fa=!1}function ki(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function $r(d){this.src=d,this.g={},this.h=0}$r.prototype.add=function(d,_,E,S,F){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ce=ks(d,_,S,F);return-1<ce?(_=d[ce],E||(_.fa=!1)):(_=new Er(_,this.src,Y,!!S,F),_.fa=E,d.push(_)),_};function Ds(d,_){var E=_.type;if(E in d.g){var S=d.g[E],F=Array.prototype.indexOf.call(S,_,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(S,F,1),Y&&(ki(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ks(d,_,E,S){for(var F=0;F<d.length;++F){var Y=d[F];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==S)return F}return-1}var Os="closure_lm_"+(1e6*Math.random()|0),sl={};function du(d,_,E,S,F){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)du(d,_[Y],E,S,F);return null}return E=hu(E),d&&d[zt]?d.K(_,E,m(S)?!!S.capture:!1,F):qn(d,_,E,!1,S,F)}function qn(d,_,E,S,F,Y){if(!_)throw Error("Invalid event type");var ce=m(F)?!!F.capture:!!F,Be=Ma(d);if(Be||(d[Os]=Be=new $r(d)),E=Be.add(_,E,S,ce,Y),E.proxy)return E;if(S=Af(),E.proxy=S,S.src=d,S.listener=E,d.addEventListener)ve||(F=ce),F===void 0&&(F=!1),d.addEventListener(_.toString(),S,F);else if(d.attachEvent)d.attachEvent(Ps(_.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Af(){function d(E){return _.call(d.src,d.listener,E)}const _=Sf;return d}function al(d,_,E,S,F){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)al(d,_[Y],E,S,F);else S=m(S)?!!S.capture:!!S,E=hu(E),d&&d[zt]?(d=d.i,_=String(_).toString(),_ in d.g&&(Y=d.g[_],E=ks(Y,E,S,F),-1<E&&(ki(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete d.g[_],d.h--)))):d&&(d=Ma(d))&&(_=d.g[_.toString()],d=-1,_&&(d=ks(_,E,S,F)),(E=-1<d?_[d]:null)&&Pa(E))}function Pa(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[zt])Ds(_.i,d);else{var E=d.type,S=d.proxy;_.removeEventListener?_.removeEventListener(E,S,d.capture):_.detachEvent?_.detachEvent(Ps(E),S):_.addListener&&_.removeListener&&_.removeListener(S),(E=Ma(_))?(Ds(E,d),E.h==0&&(E.src=null,_[Os]=null)):ki(d)}}}function Ps(d){return d in sl?sl[d]:sl[d]="on"+d}function Sf(d,_){if(d.da)d=!0;else{_=new Pe(_,this);var E=d.listener,S=d.ha||d.src;d.fa&&Pa(d),d=E.call(S,_)}return d}function Ma(d){return d=d[Os],d instanceof $r?d:null}var ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(d){return typeof d=="function"?d:(d[ol]||(d[ol]=function(_){return d.handleEvent(_)}),d[ol])}function gt(){de.call(this),this.i=new $r(this),this.M=this,this.F=null}x(gt,de),gt.prototype[zt]=!0,gt.prototype.removeEventListener=function(d,_,E,S){al(this,d,_,E,S)};function Xe(d,_){var E,S=d.F;if(S)for(E=[];S;S=S.F)E.push(S);if(d=d.M,S=_.type||_,typeof _=="string")_=new le(_,d);else if(_ instanceof le)_.target=_.target||d;else{var F=_;_=new le(S,d),L(_,F)}if(F=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ce=_.g=E[Y];F=In(ce,S,!0,_)&&F}if(ce=_.g=d,F=In(ce,S,!0,_)&&F,F=In(ce,S,!1,_)&&F,E)for(Y=0;Y<E.length;Y++)ce=_.g=E[Y],F=In(ce,S,!1,_)&&F}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],S=0;S<E.length;S++)ki(E[S]);delete d.g[_],d.h--}}this.F=null},gt.prototype.K=function(d,_,E,S){return this.i.add(String(d),_,!1,E,S)},gt.prototype.L=function(d,_,E,S){return this.i.add(String(d),_,!0,E,S)};function In(d,_,E,S){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var F=!0,Y=0;Y<_.length;++Y){var ce=_[Y];if(ce&&!ce.da&&ce.capture==E){var Be=ce.listener,Pt=ce.ha||ce.src;ce.fa&&Ds(d.i,ce),F=Be.call(Pt,S)!==!1&&F}}return F&&!S.defaultPrevented}function nn(d,_,E){if(typeof d=="function")E&&(d=T(d,E));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function fu(d){d.g=nn(()=>{d.g=null,d.i&&(d.i=!1,fu(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class xf extends de{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(d){de.call(this),this.h=d,this.g={}}x(Ms,de);var Vs=[];function Ls(d){pe(d.g,function(_,E){this.g.hasOwnProperty(E)&&Pa(_)},d),d.g={}}Ms.prototype.N=function(){Ms.aa.N.call(this),Ls(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=f.JSON.stringify,Va=f.JSON.parse,Us=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function ll(){}ll.prototype.h=null;function cl(d){return d.h||(d.h=d.i())}function ul(){}var Kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qr(){le.call(this,"d")}x(Qr,le);function dl(){le.call(this,"c")}x(dl,le);var br={},hl=null;function Oi(){return hl=hl||new gt}br.La="serverreachability";function La(d){le.call(this,br.La,d)}x(La,le);function Pi(d){const _=Oi();Xe(_,new La(_))}br.STAT_EVENT="statevent";function pu(d,_){le.call(this,br.STAT_EVENT,d),this.stat=_}x(pu,le);function ut(d){const _=Oi();Xe(_,new pu(_,d))}br.Ma="timingevent";function Ot(d,_){le.call(this,br.Ma,d),this.size=_}x(Ot,le);function Rt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function fl(d,_,E,S,F,Y){d.info(function(){if(d.g)if(Y)for(var ce="",Be=Y.split("&"),Pt=0;Pt<Be.length;Pt++){var qe=Be[Pt].split("=");if(1<qe.length){var qt=qe[0];qe=qe[1];var Mt=qt.split("_");ce=2<=Mt.length&&Mt[1]=="type"?ce+(qt+"="+qe+"&"):ce+(qt+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+_+`
`+E+`
`+ce})}function Rf(d,_,E,S,F,Y,ce){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+_+`
`+E+`
`+Y+" "+ce})}function Mi(d,_,E,S){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+js(d,E)+(S?" "+S:"")})}function mu(d,_){d.info(function(){return"TIMEOUT: "+_})}Fn.prototype.info=function(){};function js(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var S=E[d];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<F.length;ce++)F[ce]=""}}}}return ar(E)}catch{return _}}var Vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wr;function Tr(){}x(Tr,ll),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},wr=new Tr;function dn(d,_,E,S){this.j=d,this.i=_,this.l=E,this.R=S||1,this.U=new Ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var pl={},Ua={};function or(d,_,E){d.L=1,d.v=Hs(Nn(_)),d.m=E,d.P=!0,Xr(d,null)}function Xr(d,_){d.F=Date.now(),zs(d),d.A=Nn(d.v);var E=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),El(E.i,"t",S),d.C=0,E=d.j.J,d.h=new wt,d.g=Du(d.j,E?_:null,!d.m),0<d.O&&(d.M=new xf(T(d.Y,d,d.g),d.O)),_=d.U,E=d.g,S=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(Vs[0]=F.toString()),F=Vs);for(var Y=0;Y<F.length;Y++){var ce=du(E,F[Y],S||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Pi(),fl(d.i,d.u,d.A,d.l,d.R,d.m)}dn.prototype.ca=function(d){d=d.target;const _=this.M;_&&Kn(d)==3?_.j():this.Y(d)},dn.prototype.Y=function(d){try{if(d==this.g)e:{const Mt=Kn(this.g);var _=this.g.Ba();const ii=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Tu(this.g)))){this.J||Mt!=4||_==7||(_==8||0>=ii?Pi(3):Pi(2)),Li(this);var E=this.g.Z();this.X=E;t:if(gu(this)){var S=Tu(this.g);d="";var F=S.length,Y=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),Ar(this);var ce="";break t}this.h.i=new f.TextDecoder}for(_=0;_<F;_++)this.h.h=!0,d+=this.h.i.decode(S[_],{stream:!(Y&&_==F-1)});S.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,Rf(this.i,this.u,this.A,this.l,this.R,Mt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Pt=this.g;if((Be=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Be)){var qe=Be;break t}}qe=null}if(E=qe)Mi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bs(this,E);else{this.o=!1,this.s=3,ut(12),Qt(this),Ar(this);break e}}if(this.P){E=!0;let Yt;for(;!this.J&&this.C<ce.length;)if(Yt=yu(this,ce),Yt==Ua){Mt==4&&(this.s=4,ut(14),E=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==pl){this.s=4,ut(15),Mi(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else Mi(this.i,this.l,Yt,null),Bs(this,Yt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ce.length!=0||this.h.h||(this.s=1,ut(16),E=!1),this.o=this.o&&E,!E)Mi(this.i,this.l,ce,"[Invalid Chunked Response]"),Qt(this),Ar(this);else if(0<ce.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Js(qt),qt.M=!0,ut(11))}}else Mi(this.i,this.l,ce,null),Bs(this,ce);Mt==4&&Qt(this),this.o&&!this.J&&(Mt==4?Cu(this.j,this):(this.o=!1,zs(this)))}else kf(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Qt(this),Ar(this)}}}catch{}finally{}};function gu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function yu(d,_){var E=d.C,S=_.indexOf(`
`,E);return S==-1?Ua:(E=Number(_.substring(E,S)),isNaN(E)?pl:(S+=1,S+E>_.length?Ua:(_=_.slice(S,S+E),d.C=S+E,_)))}dn.prototype.cancel=function(){this.J=!0,Qt(this)};function zs(d){d.S=Date.now()+d.I,vu(d,d.I)}function vu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Rt(T(d.ba,d),_)}function Li(d){d.B&&(f.clearTimeout(d.B),d.B=null)}dn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(mu(this.i,this.A),this.L!=2&&(Pi(),ut(17)),Qt(this),this.s=2,Ar(this)):vu(this,this.S-d)};function Ar(d){d.j.G==0||d.J||Cu(d.j,d)}function Qt(d){Li(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Ls(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Bs(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||ml(E.h,d))){if(!d.K&&ml(E.h,d)&&E.G==3){try{var S=E.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Xa(E),Qa(E);else break e;Sl(E),ut(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=Rt(T(E.Za,E),6e3));if(1>=za(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ri(E,11)}else if((d.K||E.g==d)&&Xa(E),!Q(_))for(F=E.Da.g.parse(_),_=0;_<F.length;_++){let qe=F[_];if(E.T=qe[0],qe=qe[1],E.G==2)if(qe[0]=="c"){E.K=qe[1],E.ia=qe[2];const qt=qe[3];qt!=null&&(E.la=qt,E.j.info("VER="+E.la));const Mt=qe[4];Mt!=null&&(E.Aa=Mt,E.j.info("SVER="+E.Aa));const ii=qe[5];ii!=null&&typeof ii=="number"&&0<ii&&(S=1.5*ii,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Yt=d.g;if(Yt){const Dr=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var Y=S.h;Y.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ba(Y,Y.h),Y.h=null))}if(S.D){const Rl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(S.ya=Rl,et(S.I,S.D,Rl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var ce=d;if(S.qa=Nu(S,S.J?S.ia:null,S.W),ce.K){hn(S.h,ce);var Be=ce,Pt=S.L;Pt&&(Be.I=Pt),Be.B&&(Li(Be),zs(Be)),S.g=ce}else xu(S);0<E.i.length&&Ya(E)}else qe[0]!="stop"&&qe[0]!="close"||ri(E,7);else E.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ri(E,7):Tl(E):qe[0]!="noop"&&E.l&&E.l.ta(qe),E.v=0)}}Pi(4)}catch{}}var _u=class{constructor(d,_){this.g=d,this.map=_}};function Wr(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function za(d){return d.h?1:d.g?d.g.size:0}function ml(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ba(d,_){d.g?d.g.add(_):d.h=_}function hn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Wr.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function gl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return D(d.i)}function Cf(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var _=[],E=d.length,S=0;S<E;S++)_.push(d[S]);return _}_=[],E=0;for(S in d)_[E++]=d[S];return _}function qa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const S in d)_[E++]=S;return _}}}function yl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=qa(d),S=Cf(d),F=S.length,Y=0;Y<F;Y++)_.call(void 0,S[Y],E&&E[Y],d)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var S=d[E].indexOf("="),F=null;if(0<=S){var Y=d[E].substring(0,S);F=d[E].substring(S+1)}else Y=d[E];_(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ct(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ct){this.h=d.h,Fs(this,d.j),this.o=d.o,this.g=d.g,Ui(this,d.s),this.l=d.l;var _=d.i,E=new Zr;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Jr(this,E),this.m=d.m}else d&&(_=String(d).match(qs))?(this.h=!1,Fs(this,_[1]||"",!0),this.o=Hn(_[2]||""),this.g=Hn(_[3]||"",!0),Ui(this,_[4]),this.l=Hn(_[5]||"",!0),Jr(this,_[6]||"",!0),this.m=Hn(_[7]||"")):(this.h=!1,this.i=new Zr(null,this.h))}Ct.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Gs(_,vl,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Gs(_,vl,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Gs(E,E.charAt(0)=="/"?Nf:_l,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Gs(E,Fa)),d.join("")};function Nn(d){return new Ct(d)}function Fs(d,_,E){d.j=E?Hn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Ui(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Jr(d,_,E){_ instanceof Zr?(d.i=_,bu(d.i,d.h)):(E||(_=Gs(_,Df)),d.i=new Zr(_,d.h))}function et(d,_,E){d.i.set(_,E)}function Hs(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Hn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gs(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Eu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Eu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var vl=/[#\/\?@]/g,_l=/[#\?:]/g,Nf=/[#\?]/g,Df=/[#\?@]/g,Fa=/#/g;function Zr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Gn(d){d.g||(d.g=new Map,d.h=0,d.i&&If(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Zr.prototype,n.add=function(d,_){Gn(this),this.i=null,d=Sr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function ei(d,_){Gn(d),_=Sr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ti(d,_){return Gn(d),_=Sr(d,_),d.g.has(_)}n.forEach=function(d,_){Gn(this),this.g.forEach(function(E,S){E.forEach(function(F){d.call(_,F,S,this)},this)},this)},n.na=function(){Gn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let S=0;S<_.length;S++){const F=d[S];for(let Y=0;Y<F.length;Y++)E.push(_[S])}return E},n.V=function(d){Gn(this);let _=[];if(typeof d=="string")ti(this,d)&&(_=_.concat(this.g.get(Sr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return Gn(this),this.i=null,d=Sr(this,d),ti(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function El(d,_,E){ei(d,_),0<E.length&&(d.i=null,d.g.set(Sr(d,_),D(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var S=_[E];const Y=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var F=Y;ce[S]!==""&&(F+="="+encodeURIComponent(String(ce[S]))),d.push(F)}}return this.i=d.join("&")};function Sr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function bu(d,_){_&&!d.j&&(Gn(d),d.i=null,d.g.forEach(function(E,S){var F=S.toLowerCase();S!=F&&(ei(this,S),El(this,F,E))},d)),d.j=_}function $s(d,_){const E=new Fn;if(f.Image){const S=new Image;S.onload=I($n,E,"TestLoadImage: loaded",!0,_,S),S.onerror=I($n,E,"TestLoadImage: error",!1,_,S),S.onabort=I($n,E,"TestLoadImage: abort",!1,_,S),S.ontimeout=I($n,E,"TestLoadImage: timeout",!1,_,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else _(!1)}function lr(d,_){const E=new Fn,S=new AbortController,F=setTimeout(()=>{S.abort(),$n(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:S.signal}).then(Y=>{clearTimeout(F),Y.ok?$n(E,"TestPingServer: ok",!0,_):$n(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),$n(E,"TestPingServer: error",!1,_)})}function $n(d,_,E,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(E)}catch{}}function Ks(){this.g=new Us}function xr(d,_,E){const S=E||"";try{yl(d,function(F,Y){let ce=F;m(F)&&(ce=ar(F)),_.push(S+Y+"="+encodeURIComponent(ce))})}catch(F){throw _.push(S+"type="+encodeURIComponent("_badmap")),F}}function ji(d){this.l=d.Ub||null,this.j=d.eb||!1}x(ji,ll),ji.prototype.g=function(){return new ni(this.l,this.j)},ji.prototype.i=function(d){return function(){return d}}({});function ni(d,_){gt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ni,gt),n=ni.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Cr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Rr(this):Cr(this),this.readyState==3&&bl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Rr(this))},n.Qa=function(d){this.g&&(this.response=d,Rr(this))},n.ga=function(){this.g&&Rr(this)};function Rr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function Cr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function wl(d){let _="";return pe(d,function(E,S){_+=S,_+=":",_+=E,_+=`\r
`}),_}function Bt(d,_,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=wl(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):et(d,_,E))}function Qe(d){gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Qe,gt);var Ha=/^https?$/i,Qs=["POST","PUT"];n=Qe.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wr.g(),this.v=this.o?cl(this.o):cl(wr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Y){wu(this,Y);return}if(d=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)E.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())E.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qs,_,void 0))||S||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of E)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){wu(this,Y)}};function wu(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Ga(d),Ir(d)}function Ga(d){d.A||(d.A=!0,Xe(d,"complete"),Xe(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Xe(this,"complete"),Xe(this,"abort"),Ir(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ir(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},n.bb=function(){$a(this)};function $a(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Kn(d)!=4||d.Z()!=2)){if(d.u&&Kn(d)==4)nn(d.Ea,0,d);else if(Xe(d,"readystatechange"),Kn(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var S;if(S=ce===0){var F=String(d.D).match(qs)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),S=!Ha.test(F?F.toLowerCase():"")}E=S}if(E)Xe(d,"complete"),Xe(d,"success");else{d.m=6;try{var Y=2<Kn(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",Ga(d)}}finally{Ir(d)}}}}function Ir(d,_){if(d.g){Ys(d);const E=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Xe(d,"ready");try{E.onreadystatechange=S}catch{}}}function Ys(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Kn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Va(_)}};function Tu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(d){const _={};d=(d.g&&2<=Kn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(Q(d[S]))continue;var E=z(d[S]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[F]||[];_[F]=Y,Y.push(E)}V(_,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Ka(d){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,d),this.cb=Xs("retryDelaySeedMs",1e4,d),this.Wa=Xs("forwardChannelMaxRetries",2,d),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Wr(d&&d.concurrentRequestLimit),this.Da=new Ks,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,S){ut(0),this.W=d,this.H=_||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=Nu(this,null,this.W),Ya(this)};function Tl(d){if(Au(d),d.G==3){var _=d.U++,E=Nn(d.I);if(et(E,"SID",d.K),et(E,"RID",_),et(E,"TYPE","terminate"),Ws(d,E),_=new dn(d,d.j,_),_.L=2,_.v=Hs(Nn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=_.v,E=!0),E||(_.g=Du(_.j,null),_.g.ea(_.v)),_.F=Date.now(),zs(_)}Iu(d)}function Qa(d){d.g&&(Js(d),d.g.cancel(),d.g=null)}function Au(d){Qa(d),d.u&&(f.clearTimeout(d.u),d.u=null),Xa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Ya(d){if(!ja(d.h)&&!d.s){d.s=!0;var _=d.Ga;ne||k(),ue||(ne(),ue=!0),xe.add(_,d),d.B=0}}function Of(d,_){return za(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Rt(T(d.Ga,d,_),xl(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new dn(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=C(Y),L(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Su(this,F,_),E=Nn(this.I),et(E,"RID",d),et(E,"CVER",22),this.D&&et(E,"X-HTTP-Session-Id",this.D),Ws(this,E),Y&&(this.O?_="headers="+encodeURIComponent(String(wl(Y)))+"&"+_:this.m&&Bt(E,this.m,Y)),Ba(this.h,F),this.Ua&&et(E,"TYPE","init"),this.P?(et(E,"$req",_),et(E,"SID","null"),F.T=!0,or(F,E,null)):or(F,E,_),this.G=2}}else this.G==3&&(d?Al(this,d):this.i.length==0||ja(this.h)||Al(this))};function Al(d,_){var E;_?E=_.l:E=d.U++;const S=Nn(d.I);et(S,"SID",d.K),et(S,"RID",E),et(S,"AID",d.T),Ws(d,S),d.m&&d.o&&Bt(S,d.m,d.o),E=new dn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Su(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ba(d.h,E),or(E,S,_)}function Ws(d,_){d.H&&pe(d.H,function(E,S){et(_,S,E)}),d.l&&yl({},function(E,S){et(_,S,E)})}function Su(d,_,E){E=Math.min(d.i.length,E);var S=d.l?T(d.l.Na,d.l,d):null;e:{var F=d.i;let Y=-1;for(;;){const ce=["count="+E];Y==-1?0<E?(Y=F[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let Be=!0;for(let Pt=0;Pt<E;Pt++){let qe=F[Pt].g;const qt=F[Pt].map;if(qe-=Y,0>qe)Y=Math.max(0,F[Pt].g-100),Be=!1;else try{xr(qt,ce,"req"+qe+"_")}catch{S&&S(qt)}}if(Be){S=ce.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,S}function xu(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ne||k(),ue||(ne(),ue=!0),xe.add(_,d),d.v=0}}function Sl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Rt(T(d.Fa,d),xl(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Rt(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Qa(this),Ru(this))};function Js(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Ru(d){d.g=new dn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Nn(d.qa);et(_,"RID","rpc"),et(_,"SID",d.K),et(_,"AID",d.T),et(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(_,"TO",d.ja),et(_,"TYPE","xmlhttp"),Ws(d,_),d.m&&d.o&&Bt(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Hs(Nn(_)),E.m=null,E.P=!0,Xr(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Qa(this),Sl(this),ut(19))};function Xa(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Cu(d,_){var E=null;if(d.g==_){Xa(d),Js(d),d.g=null;var S=2}else if(ml(d.h,_))E=_.D,hn(d.h,_),S=1;else return;if(d.G!=0){if(_.o)if(S==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var F=d.B;S=Oi(),Xe(S,new Ot(S,E)),Ya(d)}else xu(d);else if(F=_.s,F==3||F==0&&0<_.X||!(S==1&&Of(d,_)||S==2&&Sl(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),F){case 1:ri(d,5);break;case 4:ri(d,10);break;case 3:ri(d,6);break;default:ri(d,2)}}}function xl(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function ri(d,_){if(d.j.info("Error code "+_),_==2){var E=T(d.fb,d),S=d.Xa;const F=!S;S=new Ct(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Fs(S,"https"),Hs(S),F?$s(S.toString(),E):lr(S.toString(),E)}else ut(2);d.G=0,d.l&&d.l.sa(_),Iu(d),Au(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Iu(d){if(d.G=0,d.ka=[],d.l){const _=gl(d.h);(_.length!=0||d.i.length!=0)&&(R(d.ka,_),R(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function Nu(d,_,E){var S=E instanceof Ct?Nn(E):new Ct(E);if(S.g!="")_&&(S.g=_+"."+S.g),Ui(S,S.s);else{var F=f.location;S=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;var Y=new Ct(null);S&&Fs(Y,S),_&&(Y.g=_),F&&Ui(Y,F),E&&(Y.l=E),S=Y}return E=d.D,_=d.ya,E&&_&&et(S,E,_),et(S,"VER",d.la),Ws(d,S),S}function Du(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Qe(new ji({eb:E})):new Qe(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}n=ku.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wa(){}Wa.prototype.g=function(d,_){return new fn(d,_)};function fn(d,_){gt.call(this),this.g=new Ka(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!Q(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Q(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Nr(this)}x(fn,gt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Tl(this.g)},fn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=ar(d),d=E);_.i.push(new _u(_.Ya++,d)),_.G==3&&Ya(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,fn.aa.N.call(this)};function Ou(d){Qr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}x(Ou,Qr);function Pu(){dl.call(this),this.status=1}x(Pu,dl);function Nr(d){this.g=d}x(Nr,ku),Nr.prototype.ua=function(){Xe(this.g,"a")},Nr.prototype.ta=function(d){Xe(this.g,new Ou(d))},Nr.prototype.sa=function(d){Xe(this.g,new Pu)},Nr.prototype.ra=function(){Xe(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,g1=function(){return new Wa},m1=function(){return Oi()},p1=br,cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vi.NO_ERROR=0,Vi.TIMEOUT=8,Vi.HTTP_ERROR=6,Wd=Vi,Yr.COMPLETE="complete",f1=Yr,ul.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Sc=ul,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,h1=Qe}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});const fb="@firebase/firestore",pb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new jh("@firebase/firestore");function Io(){return Ta.logLevel}function fe(n,...e){if(Ta.logLevel<=je.DEBUG){const t=e.map(ly);Ta.debug(`Firestore (${Wo}): ${n}`,...t)}}function Ri(n,...e){if(Ta.logLevel<=je.ERROR){const t=e.map(ly);Ta.error(`Firestore (${Wo}): ${n}`,...t)}}function jo(n,...e){if(Ta.logLevel<=je.WARN){const t=e.map(ly);Ta.warn(`Firestore (${Wo}): ${n}`,...t)}}function ly(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,y1(n,i,t)}function y1(n,e,t){let i=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ri(i),new Error(i)}function Ye(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||y1(e,a,i)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class Rk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ck{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ti,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ti)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new v1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class Ik{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Ik(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=kk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function ke(n,e){return n<e?-1:n>e?1:0}function ug(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return ke(i,a);{const l=_1(),u=Ok(l.encode(gb(n,t)),l.encode(gb(e,t)));return u!==0?u:ke(i,a)}}t+=i>65535?2:1}return ke(n.length,e.length)}function gb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Ok(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function zo(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=-62135596800,vb=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*vb);return new Ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yb)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vb}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ut(0,0))}static max(){return new Se(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__name__";class jr{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=jr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const i=jr.isNumericId(e),a=jr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?jr.extractNumericId(e).compare(jr.extractNumericId(t)):ug(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class ct extends jr{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const Pk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends jr{construct(e,t,i){return new en(e,t,i)}static isValidIdentifier(e){return Pk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_b}static keyField(){return new en([_b])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ct.fromString(e))}static fromName(e){return new ye(ct.fromString(e).popFirst(5))}static empty(){return new ye(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function Mk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new _s(a,ye.empty(),e)}function Vk(n){return new _s(n.readTime,n.key,Bc)}class _s{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _s(Se.min(),ye.empty(),Bc)}static max(){return new _s(Se.max(),ye.empty(),Bc)}}function Lk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==Uk)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&t()},p=>i(p))}),u=!0,l===a&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(a=>a?se.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new se((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(y=>{u[m]=y,++f,f===l&&i(u)},y=>a(y))}})}static doWhile(e,t){return new se((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function zk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Hh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-1;function Gh(n){return n==null}function gh(n){return n===0&&1/n==-1/0}function Bk(n){return typeof n=="number"&&Number.isInteger(n)&&!gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="";function qk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Eb(e)),e=Fk(n.get(t),e);return Eb(e)}function Fk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case b1:t+="";break;default:t+=l}}return t}function Eb(n){return n+b1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function w1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ud(this.root,e,this.comparator,!0)}}class Ud{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Zt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wb(this.data.getIterator())}getIteratorFrom(e){return new wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new jn([])}unionWith(e){let t=new jt(en.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new T1("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Hk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(n){if(Ye(!!n,39018),typeof n=="string"){let e=0;const t=Hk.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bs(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="server_timestamp",S1="__type__",x1="__previous_value__",R1="__local_write_time__";function $h(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[S1])===null||t===void 0?void 0:t.stringValue)===A1}function Kh(n){const e=n.mapValue.fields[x1];return $h(e)?Kh(e):e}function qc(n){const e=Es(n.mapValue.fields[R1].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,i,a,l,u,f,p,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const yh="(default)";class Fc{constructor(e,t){this.projectId=e,this.database=t||yh}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="__type__",$k="__max__",jd={mapValue:{}},I1="__vector__",vh="value";function ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$h(n)?4:Qk(n)?9007199254740991:Kk(n)?10:11:we(28295,{value:n})}function Hr(n,e){if(n===e)return!0;const t=ws(n);if(t!==ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Es(a.timestampValue),f=Es(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return bs(a.bytesValue).isEqual(bs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=St(a.doubleValue),f=St(l.doubleValue);return u===f?gh(u)===gh(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(bb(u)!==bb(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Hr(u[p],f[p])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function Hc(n,e){return(n.values||[]).find(t=>Hr(t,e))!==void 0}function Bo(n,e){if(n===e)return 0;const t=ws(n),i=ws(e);if(t!==i)return ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(l,u){const f=St(l.integerValue||l.doubleValue),p=St(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Tb(n.timestampValue,e.timestampValue);case 4:return Tb(qc(n),qc(e));case 5:return ug(n.stringValue,e.stringValue);case 6:return function(l,u){const f=bs(l),p=bs(u);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=ke(f[m],p[m]);if(y!==0)return y}return ke(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const f=ke(St(l.latitude),St(u.latitude));return f!==0?f:ke(St(l.longitude),St(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ab(n.arrayValue,e.arrayValue);case 10:return function(l,u){var f,p,m,y;const w=l.fields||{},T=u.fields||{},I=(f=w[vh])===null||f===void 0?void 0:f.arrayValue,x=(p=T[vh])===null||p===void 0?void 0:p.arrayValue,D=ke(((m=I?.values)===null||m===void 0?void 0:m.length)||0,((y=x?.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:Ab(I,x)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===jd.mapValue&&u===jd.mapValue)return 0;if(l===jd.mapValue)return 1;if(u===jd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const T=ug(p[w],y[w]);if(T!==0)return T;const I=Bo(f[p[w]],m[y[w]]);if(I!==0)return I}return ke(p.length,y.length)}(n.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function Tb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Es(n),i=Es(e),a=ke(t.seconds,i.seconds);return a!==0?a:ke(t.nanos,i.nanos)}function Ab(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Bo(t[a],i[a]);if(l)return l}return ke(t.length,i.length)}function qo(n){return dg(n)}function dg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Es(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return bs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=dg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${dg(t.fields[u])}`;return a+"}"}(n.mapValue):we(61005,{value:n})}function Jd(n){switch(ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(n);return e?16+Jd(e):16;case 5:return 2*n.stringValue.length;case 6:return bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Jd(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Cs(i.fields,(l,u)=>{a+=l.length+Jd(u)}),a}(n.mapValue);default:throw we(13486,{value:n})}}function _h(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hg(n){return!!n&&"integerValue"in n}function uy(n){return!!n&&"arrayValue"in n}function Sb(n){return!!n&&"nullValue"in n}function xb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zd(n){return!!n&&"mapValue"in n}function Kk(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[C1])===null||t===void 0?void 0:t.stringValue)===I1}function kc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=kc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=en.emptyPath(),i={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=f.popLast()}u?i[f.lastSegment()]=kc(u):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Zd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Cs(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new An(kc(this.value))}}function N1(n){const e=[];return Cs(n.fields,(t,i)=>{const a=new en([t]);if(Zd(i)){const l=N1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,i,a,l,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,Se.min(),Se.min(),Se.min(),An.empty(),0)}static newFoundDocument(e,t,i,a){return new ln(e,1,t,Se.min(),i,a,0)}static newNoDocument(e,t){return new ln(e,2,t,Se.min(),Se.min(),An.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Se.min(),Se.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t){this.position=e,this.inclusive=t}}function Rb(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),t.key):i=Bo(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Cb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Yk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{}class kt extends D1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Wk(e,t,i):t==="array-contains"?new eO(e,i):t==="in"?new tO(e,i):t==="not-in"?new nO(e,i):t==="array-contains-any"?new rO(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Jk(e,i):new Zk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bo(t,this.value)):t!==null&&ws(this.value)===ws(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends D1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new gr(e,t)}matches(e){return k1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function k1(n){return n.op==="and"}function O1(n){return Xk(n)&&k1(n)}function Xk(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}function fg(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+qo(n.value);if(O1(n))return n.filters.map(e=>fg(e)).join(",");{const e=n.filters.map(t=>fg(t)).join(",");return`${n.op}(${e})`}}function P1(n,e){return n instanceof kt?function(i,a){return a instanceof kt&&i.op===a.op&&i.field.isEqual(a.field)&&Hr(i.value,a.value)}(n,e):n instanceof gr?function(i,a){return a instanceof gr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,f)=>l&&P1(u,a.filters[f]),!0):!1}(n,e):void we(19439)}function M1(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${qo(t.value)}`}(n):n instanceof gr?function(t){return t.op.toString()+" {"+t.getFilters().map(M1).join(" ,")+"}"}(n):"Filter"}class Wk extends kt{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jk extends kt{constructor(e,t){super(e,"in",t),this.keys=V1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zk extends kt{constructor(e,t){super(e,"not-in",t),this.keys=V1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function V1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ye.fromName(i.referenceValue))}class eO extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uy(t)&&Hc(t.arrayValue,this.value)}}class tO extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hc(this.value.arrayValue,t)}}class nO extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hc(this.value.arrayValue,t)}}class rO extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Hc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Ie=null}}function Ib(n,e=null,t=[],i=[],a=null,l=null,u=null){return new iO(n,e,t,i,a,l,u)}function dy(n){const e=Ce(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>fg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>qo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>qo(i)).join(",")),e.Ie=t}return e.Ie}function hy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!P1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cb(n.startAt,e.startAt)&&Cb(n.endAt,e.endAt)}function pg(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t=null,i=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function sO(n,e,t,i,a,l,u,f){return new Da(n,e,t,i,a,l,u,f)}function fy(n){return new Da(n)}function Nb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function py(n){return n.collectionGroup!==null}function Vo(n){const e=Ce(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new jt(en.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Gc(l,i))}),t.has(en.keyField().canonicalString())||e.Ee.push(new Gc(en.keyField(),i))}return e.Ee}function qr(n){const e=Ce(n);return e.de||(e.de=aO(e,Vo(n))),e.de}function aO(n,e){if(n.limitType==="F")return Ib(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Gc(a.field,l)});const t=n.endAt?new Fo(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Fo(n.startAt.position,n.startAt.inclusive):null;return Ib(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function mg(n,e){const t=n.filters.concat([e]);return new Da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Eh(n,e,t){return new Da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qh(n,e){return hy(qr(n),qr(e))&&n.limitType===e.limitType}function L1(n){return`${dy(qr(n))}|lt:${n.limitType}`}function No(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>M1(a)).join(", ")}]`),Gh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>qo(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>qo(a)).join(",")),`Target(${i})`}(qr(n))}; limitType=${n.limitType})`}function Yh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Vo(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,f,p){const m=Rb(u,f,p);return u.inclusive?m<=0:m<0}(i.startAt,Vo(i),a)||i.endAt&&!function(u,f,p){const m=Rb(u,f,p);return u.inclusive?m>=0:m>0}(i.endAt,Vo(i),a))}(n,e)}function oO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function U1(n){return(e,t)=>{let i=!1;for(const a of Vo(n)){const l=lO(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function lO(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,u,f){const p=u.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Bo(p,m):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return w1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new mt(ye.comparator);function Ci(){return cO}const j1=new mt(ye.comparator);function xc(...n){let e=j1;for(const t of n)e=e.insert(t.key,t);return e}function z1(n){let e=j1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ga(){return Oc()}function B1(){return Oc()}function Oc(){return new ka(n=>n.toString(),(n,e)=>n.isEqual(e))}const uO=new mt(ye.comparator),dO=new jt(ye.comparator);function ze(...n){let e=dO;for(const t of n)e=e.add(t);return e}const hO=new jt(ke);function fO(){return hO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function q1(n){return{integerValue:""+n}}function pO(n,e){return Bk(e)?q1(e):my(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function mO(n,e,t){return n instanceof bh?function(a,l){const u={fields:{[S1]:{stringValue:A1},[R1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&$h(l)&&(l=Kh(l)),l&&(u.fields[x1]=l),{mapValue:u}}(t,e):n instanceof $c?H1(n,e):n instanceof Kc?G1(n,e):function(a,l){const u=F1(a,l),f=Db(u)+Db(a.Re);return hg(u)&&hg(a.Re)?q1(f):my(a.serializer,f)}(n,e)}function gO(n,e,t){return n instanceof $c?H1(n,e):n instanceof Kc?G1(n,e):t}function F1(n,e){return n instanceof wh?function(i){return hg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class bh extends Xh{}class $c extends Xh{constructor(e){super(),this.elements=e}}function H1(n,e){const t=$1(e);for(const i of n.elements)t.some(a=>Hr(a,i))||t.push(i);return{arrayValue:{values:t}}}class Kc extends Xh{constructor(e){super(),this.elements=e}}function G1(n,e){let t=$1(e);for(const i of n.elements)t=t.filter(a=>!Hr(a,i));return{arrayValue:{values:t}}}class wh extends Xh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Db(n){return St(n.integerValue||n.doubleValue)}function $1(n){return uy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function yO(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof $c&&a instanceof $c||i instanceof Kc&&a instanceof Kc?zo(i.elements,a.elements,Hr):i instanceof wh&&a instanceof wh?Hr(i.Re,a.Re):i instanceof bh&&a instanceof bh}(n.transform,e.transform)}class vO{constructor(e,t){this.version=e,this.transformResults=t}}class yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wh{}function K1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jh(n.key,yn.none()):new nu(n.key,n.data,yn.none());{const t=n.data,i=An.empty();let a=new jt(en.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Is(n.key,i,new jn(a.toArray()),yn.none())}}function _O(n,e,t){n instanceof nu?function(a,l,u){const f=a.value.clone(),p=Ob(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Is?function(a,l,u){if(!eh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Ob(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(Q1(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Pc(n,e,t,i){return n instanceof nu?function(l,u,f,p){if(!eh(l.precondition,u))return f;const m=l.value.clone(),y=Pb(l.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Is?function(l,u,f,p){if(!eh(l.precondition,u))return f;const m=Pb(l.fieldTransforms,p,u),y=u.data;return y.setAll(Q1(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,u,f){return eh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function EO(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=F1(i.transform,a||null);l!=null&&(t===null&&(t=An.empty()),t.set(i.field,l))}return t||null}function kb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&zo(i,a,(l,u)=>yO(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class nu extends Wh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Is extends Wh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ob(n,e,t){const i=new Map;Ye(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,gO(u,f,t[a]))}return i}function Pb(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,mO(l,u,e))}return i}class Jh extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bO extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&_O(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Pc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Pc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=B1();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const p=K1(u,f);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,i)=>kb(t,i))&&zo(this.baseMutations,e.baseMutations,(t,i)=>kb(t,i))}}class gy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ye(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return uO}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new gy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,He;function SO(n){switch(n){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function Y1(n){if(n===void 0)return Ri("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:n})}}(He=Dt||(Dt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new gs([4294967295,4294967295],0);function Mb(n){const e=_1().encode(n),t=new d1;return t.update(e),new Uint8Array(t.digest())}function Vb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new gs([t,i],0),new gs([a,l],0)]}class yy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Rc(`Invalid padding: ${t}`);if(i<0)throw new Rc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Rc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Rc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=gs.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(gs.fromNumber(i)));return a.compare(xO)===1&&(a=new gs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Mb(e),[i,a]=Vb(t);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);if(!this.be(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new yy(l,a,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=Mb(e),[i,a]=Vb(t);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zh(Se.min(),a,new mt(ke),Ci(),ze())}}class ru{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ru(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class X1{constructor(e,t){this.targetId=e,this.Ce=t}}class W1{constructor(e,t,i=tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Lb{constructor(){this.Fe=0,this.Me=Ub(),this.xe=tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),t=ze(),i=ze();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we(38017,{changeType:l})}}),new ru(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Ub()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class RO{constructor(e){this.ze=e,this.je=new Map,this.He=Ci(),this.Je=zd(),this.Ye=zd(),this.Ze=new mt(ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(pg(l))if(i===0){const u=new ye(l.path);this.tt(t,u,ln.newNoDocument(u,Se.min()))}else Ye(i===1,20013,{expectedCount:i});else{const u=this.ut(t);if(u!==i){const f=this.ct(e),p=f?this.lt(f,e,u):1;if(p!==0){this.st(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=bs(i).toUint8Array()}catch(p){if(p instanceof T1)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new yy(u,a,l)}catch(p){return jo(p instanceof Rc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,u)=>{const f=this._t(u);if(f){if(l.current&&pg(f.target)){const p=new ye(f.target.path);this.Et(p).has(u)||this.dt(u,p)||this.tt(u,p,ln.newNoDocument(p,e))}l.Le&&(t.set(u,l.qe()),l.Qe())}});let i=ze();this.Ye.forEach((l,u)=>{let f=!0;u.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new Zh(e,t,this.Ze,this.He,i);return this.He=Ci(),this.Je=zd(),this.Ye=zd(),this.Ze=new mt(ke),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Lb,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new jt(ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new jt(ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Lb),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function zd(){return new mt(ye.comparator)}function Ub(){return new mt(ye.comparator)}const CO={asc:"ASCENDING",desc:"DESCENDING"},IO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NO={and:"AND",or:"OR"};class DO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gg(n,e){return n.useProto3Json||Gh(e)?e:{value:e}}function Th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kO(n,e){return Th(n,e.toTimestamp())}function Fr(n){return Ye(!!n,49232),Se.fromTimestamp(function(t){const i=Es(t);return new Ut(i.seconds,i.nanos)}(n))}function vy(n,e){return yg(n,e).canonicalString()}function yg(n,e){const t=function(a){return new ct(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Z1(n){const e=ct.fromString(n);return Ye(iA(e),10190,{key:e.toString()}),e}function vg(n,e){return vy(n.databaseId,e.path)}function jm(n,e){const t=Z1(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(tA(t))}function eA(n,e){return vy(n.databaseId,e)}function OO(n){const e=Z1(n);return e.length===4?ct.emptyPath():tA(e)}function _g(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tA(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jb(n,e,t){return{name:vg(n,e),fields:t.value.mapValue.fields}}function PO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:we(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(Ye(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Ye(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const y=m.code===void 0?ee.UNKNOWN:Y1(m.code);return new he(y,m.message||"")}(u);t=new W1(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=jm(n,i.document.name),l=Fr(i.document.updateTime),u=i.document.createTime?Fr(i.document.createTime):Se.min(),f=new An({mapValue:{fields:i.document.fields}}),p=ln.newFoundDocument(a,l,u,f),m=i.targetIds||[],y=i.removedTargetIds||[];t=new th(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=jm(n,i.document),l=i.readTime?Fr(i.readTime):Se.min(),u=ln.newNoDocument(a,l),f=i.removedTargetIds||[];t=new th([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=jm(n,i.document),l=i.removedTargetIds||[];t=new th([],l,a,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new AO(a,l),f=i.targetId;t=new X1(f,u)}}return t}function MO(n,e){let t;if(e instanceof nu)t={update:jb(n,e.key,e.value)};else if(e instanceof Jh)t={delete:vg(n,e.key)};else if(e instanceof Is)t={update:jb(n,e.key,e.data),updateMask:HO(e.fieldMask)};else{if(!(e instanceof bO))return we(16599,{ft:e.type});t={verify:vg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const f=u.transform;if(f instanceof bh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof $c)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof wh)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw we(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:kO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)}(n,e.precondition)),t}function VO(n,e){return n&&n.length>0?(Ye(e!==void 0,14353),n.map(t=>function(a,l){let u=a.updateTime?Fr(a.updateTime):Fr(l);return u.isEqual(Se.min())&&(u=Fr(l)),new vO(u,a.transformResults||[])}(t,e))):[]}function LO(n,e){return{documents:[eA(n,e.path)]}}function UO(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=eA(n,a);const l=function(m){if(m.length!==0)return rA(gr.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(y=>function(T){return{field:Do(T.field),direction:BO(T.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=gg(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:a}}function jO(n){let e=OO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ye(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(w){const T=nA(w);return T instanceof gr&&O1(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(x){return new Gc(ko(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Gh(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,I=w.values||[];return new Fo(I,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,I=w.values||[];return new Fo(I,T)}(t.endAt)),sO(e,a,u,l,f,"F",p,m)}function zO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ko(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ko(t.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ko(t.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ko(t.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return kt.create(ko(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gr.create(t.compositeFilter.filters.map(i=>nA(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function BO(n){return CO[n]}function qO(n){return IO[n]}function FO(n){return NO[n]}function Do(n){return{fieldPath:n.canonicalString()}}function ko(n){return en.fromServerFormat(n.fieldPath)}function rA(n){return n instanceof kt?function(t){if(t.op==="=="){if(xb(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NAN"}};if(Sb(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xb(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NAN"}};if(Sb(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(t.field),op:qO(t.op),value:t.value}}}(n):n instanceof gr?function(t){const i=t.getFilters().map(a=>rA(a));return i.length===1?i[0]:{compositeFilter:{op:FO(t.op),filters:i}}}(n):we(54877,{filter:n})}function HO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,t,i,a,l=Se.min(),u=Se.min(),f=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.wt=e}}function $O(n){const e=jO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Eh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.Cn=new QO}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(_s.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class QO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new jt(ct.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new jt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sA=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(sA,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ho(0)}static lr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="LruGarbageCollector",YO=1048576;function qb([n,e],[t,i]){const a=ke(n,t);return a===0?ke(e,i):a}class XO{constructor(e){this.Er=e,this.buffer=new jt(qb),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();qb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(Bb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?fe(Bb,"Ignoring IndexedDB error during garbage collection: ",t):await Jo(t)}await this.mr(3e5)})}}class JO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Hh.le);const i=new XO(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(zb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zb):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,u,f,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,u=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),Io()<=je.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function ZO(n,e){return new JO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.changes=new ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Pc(i.mutation,a,jn.empty(),Ut.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const a=ga();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let u=xc();return l.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=ga();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,a){let l=Ci();const u=Oc(),f=function(){return Oc()}();return t.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Is)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Pc(y.mutation,m,y.mutation.getFieldMask(),Ut.now())):u.set(m.key,jn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var w;return f.set(m,new tP(y,(w=u.get(m))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Oc();let a=new mt((u,f)=>u-f),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let y=i.get(p)||jn.empty();y=f.applyToLocalView(m,y),i.set(p,y);const w=(a.get(f.batchId)||ze()).add(p);a=a.insert(f.batchId,w)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,w=B1();y.forEach(T=>{if(!l.has(T)){const I=K1(t.get(T),i.get(T));I!==null&&w.set(T,I),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):py(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):se.resolve(ga());let f=Bc,p=l;return u.next(m=>se.forEach(m,(y,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{p=p.insert(y,T)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,ze())).next(y=>({batchId:f,changes:z1(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let a=xc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=xc();return this.indexManager.getCollectionParents(e,l).next(f=>se.forEach(f,p=>{const m=function(w,T){return new Da(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(u=>{l.forEach((p,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,ln.newInvalidDocument(y)))});let f=xc();return u.forEach((p,m)=>{const y=l.get(p);y!==void 0&&Pc(y.mutation,m,jn.empty(),Ut.now()),Yh(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return se.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Fr(a.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:$O(a.bundledQuery),readTime:Fr(a.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.overlays=new mt(ye.comparator),this.Qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ga();return se.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const a=ga(),l=t.length+1,u=new ye(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new mt((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=ga(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=ga(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>f.set(m,y)),!(f.size()>=a)););return se.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new TO(t,i));let l=this.Qr.get(t);l===void 0&&(l=ze(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.$r=new jt(Kt.Ur),this.Kr=new jt(Kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Kt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Kt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new ye(new ct([])),i=new Kt(t,e),a=new Kt(t,e+1),l=[];return this.Kr.forEachInRange([i,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ye(new ct([])),i=new Kt(t,e),a=new Kt(t,e+1);let l=ze();return this.Kr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Kt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ye.comparator(e.key,t.key)||ke(e.Zr,t.Zr)}static Wr(e,t){return ke(e.Zr,t.Zr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new jt(Kt.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new wO(l,t,i,a);this.mutationQueue.push(u);for(const f of a)this.Xr=this.Xr.add(new Kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?cy:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kt(t,0),a=new Kt(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],u=>{const f=this.ei(u.Zr);l.push(f)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new jt(ke);return t.forEach(a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],f=>{i=i.add(f.Zr)})}),se.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new ye(l),0);let f=new jt(ke);return this.Xr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Zr)),!0)},u),se.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ye(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return se.forEach(t.mutations,a=>{const l=new Kt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Kt(t,0),a=this.Xr.firstAfterOrEqual(i);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.ii=e,this.docs=function(){return new mt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=Ci();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Ci();const u=t.path,f=new ye(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Lk(Vk(y),i)<=0||(a.has(y.key)||Yh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we(9500)}si(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lP(this)}getSize(e){return se.resolve(this.size)}}class lP extends eP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.persistence=e,this.oi=new ka(t=>dy(t),hy),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new _y,this.targetCount=0,this.ui=Ho.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),se.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Tr(t),se.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),se.waitFor(l).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t){this.ci={},this.overlays={},this.li=new Hh(0),this.hi=!1,this.hi=!0,this.Pi=new sP,this.referenceDelegate=e(this),this.Ti=new cP(this),this.indexManager=new KO,this.remoteDocumentCache=function(a){return new oP(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new GO(t),this.Ei=new rP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new aP(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const a=new uP(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return se.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class uP extends jk{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.Vi=new _y,this.mi=null}static fi(e){return new Ey(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,i=>{const a=ye.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Se.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return se.or([()=>se.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Ah{constructor(e,t){this.persistence=e,this.yi=new ka(i=>qk(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=ZO(this,t)}static fi(e,t){return new Ah(e,t)}di(){}Ai(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return se.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?se.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,t).next(f=>{f||(i++,l.removeEntry(u,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jd(e.data.value)),t}Dr(e,t,i){return se.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return se.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new by(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return BI()?8:zk(un())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new dP;return this.Ss(e,t,u).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,u,f.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(Io()<=je.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(Io()<=je.DEBUG&&fe("QueryEngine","Query:",No(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(Io()<=je.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):se.resolve())}ws(e,t){if(Nb(t))return se.resolve(null);let i=qr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Eh(t,null,"F"),i=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=ze(...l);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.vs(t,f);return this.Cs(t,m,u,p.readTime)?this.ws(e,Eh(t,null,"F")):this.Fs(e,m,t,p)}))})))}bs(e,t,i,a){return Nb(t)||a.isEqual(Se.min())?se.resolve(null):this.ys.getDocuments(e,i).next(l=>{const u=this.vs(t,l);return this.Cs(t,u,i,a)?se.resolve(null):(Io()<=je.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),No(t)),this.Fs(e,u,t,Mk(a,Bc)).next(f=>f))})}vs(e,t){let i=new jt(U1(e));return t.forEach((a,l)=>{Yh(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Io()<=je.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",No(t)),this.ys.getDocumentsMatchingQuery(e,t,_s.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="LocalStore",fP=3e8;class pP{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new mt(ke),this.Os=new ka(l=>dy(l),hy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function mP(n,e,t,i){return new pP(n,e,t,i)}async function oA(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let p=ze();for(const m of a){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(i,p).next(m=>({ks:m,removedBatchIds:u,addedBatchIds:f}))})})}function gP(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,p,m,y){const w=m.batch,T=w.keys();let I=se.resolve();return T.forEach(x=>{I=I.next(()=>y.getEntry(p,x)).next(D=>{const R=m.docVersions.get(x);Ye(R!==null,48541),D.version.compareTo(R)<0&&(w.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),y.addEntry(D)))})}),I.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=ze();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function lA(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function yP(n,e){const t=Ce(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((y,w)=>{const T=a.get(w);if(!T)return;f.push(t.Ti.removeMatchingKeys(l,y.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(l,y.addedDocuments,w)));let I=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,i)),a=a.insert(w,I),function(D,R,P){return D.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=fP?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(T,I,y)&&f.push(t.Ti.updateTargetData(l,I))});let p=Ci(),m=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(vP(l,u,e.documentUpdates).next(y=>{p=y.qs,m=y.Qs})),!i.isEqual(Se.min())){const y=t.Ti.getLastRemoteSnapshotVersion(l).next(w=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(y)}return se.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.xs=a,l))}function vP(n,e,t){let i=ze(),a=ze();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=Ci();return t.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):fe(wy,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{qs:u,Qs:a}})}function _P(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=cy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function EP(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,se.resolve(a)):t.Ti.allocateTargetId(i).next(u=>(a=new fs(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Eg(n,e,t){const i=Ce(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Zo(u))throw u;fe(wy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function Fb(n,e,t){const i=Ce(n);let a=Se.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,m,y){const w=Ce(p),T=w.Os.get(y);return T!==void 0?se.resolve(w.xs.get(T)):w.Ti.getTargetData(m,y)}(i,u,qr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(u,f.targetId).next(p=>{l=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(u,e,t?a:Se.min(),t?l:ze())).next(f=>(bP(i,oO(e),f),{documents:f,$s:l})))}function bP(n,e,t){let i=n.Ns.get(e)||Se.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class Hb{constructor(){this.activeTargetIds=fO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wP{constructor(){this.xo=new Hb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Hb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="ConnectivityMonitor";class $b{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(Gb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(Gb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd=null;function bg(){return Bd===null?Bd=function(){return 268435456+Math.round(2147483648*Math.random())}():Bd++,"0x"+Bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="RestConnection",AP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===yh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const u=bg(),f=this.jo(e,t.toUriEncodedString());fe(zm,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,l);const{host:m}=new URL(f),y=Ss(m);return this.Jo(e,f,p,i,y).then(w=>(fe(zm,`Received RPC '${e}' ${u}: `,w),w),w=>{throw jo(zm,`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",i),w})}Yo(e,t,i,a,l,u){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=AP[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class RP extends SP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const u=bg();return new Promise((f,p)=>{const m=new h1;m.setWithCredentials(!0),m.listenOnce(f1.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Wd.NO_ERROR:const w=m.getResponseJson();fe(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),f(w);break;case Wd.TIMEOUT:fe(an,`RPC '${e}' ${u} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const T=m.getStatus();if(fe(an,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I?.error;if(x&&x.status&&x.message){const D=function(P){const Q=P.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN}(x.status);p(new he(D,x.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{h_:e,streamId:u,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{fe(an,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(a);fe(an,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",y,i,15)})}I_(e,t,i){const a=bg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=g1(),f=m1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const y=l.join("");fe(an,`Creating RPC '${e}' stream ${a}: ${y}`,p);const w=u.createWebChannel(y,p);this.E_(w);let T=!1,I=!1;const x=new xP({Zo:R=>{I?fe(an,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(T||(fe(an,`Opening RPC '${e}' stream ${a} transport.`),w.open(),T=!0),fe(an,`RPC '${e}' stream ${a} sending:`,R),w.send(R))},Xo:()=>w.close()}),D=(R,P,Q)=>{R.listen(P,W=>{try{Q(W)}catch(oe){setTimeout(()=>{throw oe},0)}})};return D(w,Sc.EventType.OPEN,()=>{I||(fe(an,`RPC '${e}' stream ${a} transport opened.`),x.__())}),D(w,Sc.EventType.CLOSE,()=>{I||(I=!0,fe(an,`RPC '${e}' stream ${a} transport closed`),x.u_(),this.d_(w))}),D(w,Sc.EventType.ERROR,R=>{I||(I=!0,jo(an,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),x.u_(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),D(w,Sc.EventType.MESSAGE,R=>{var P;if(!I){const Q=R.data[0];Ye(!!Q,16349);const W=Q,oe=W?.error||((P=W[0])===null||P===void 0?void 0:P.error);if(oe){fe(an,`RPC '${e}' stream ${a} received error:`,oe);const ae=oe.status;let pe=function(N){const L=Dt[N];if(L!==void 0)return Y1(L)}(ae),V=oe.message;pe===void 0&&(pe=ee.INTERNAL,V="Unknown error status: "+ae+" with message "+oe.message),I=!0,x.u_(new he(pe,V)),w.close()}else fe(an,`RPC '${e}' stream ${a} received:`,Q),x.c_(Q)}}),D(f,p1.STAT_EVENT,R=>{R.stat===cg.PROXY?fe(an,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===cg.NOPROXY&&fe(an,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){return new DO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="PersistentStream";class uA{constructor(e,t,i,a,l,u,f,p){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new cA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new he(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(Kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(fe(Kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CP extends uA{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=PO(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Fr(u.readTime):Se.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=_g(this.serializer),t.addTarget=function(l,u){let f;const p=u.target;if(f=pg(p)?{documents:LO(l,p)}:{query:UO(l,p).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=J1(l,u.resumeToken);const m=gg(l,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Se.min())>0){f.readTime=Th(l,u.snapshotVersion.toTimestamp());const m=gg(l,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=zO(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=_g(this.serializer),t.removeTarget=e,this.Q_(t)}}class IP extends uA{constructor(e,t,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=VO(e.writeResults,e.commitTime),i=Fr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=_g(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>MO(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{}class DP extends NP{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,yg(t,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ee.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,yg(t,i),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class kP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ri(t),this.ua=!1):fe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class OP{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{i.enqueueAndForget(async()=>{Oa(this)&&(fe(Aa,"Restarting streams for network reachability change."),await async function(p){const m=Ce(p);m.da.add(4),await iu(m),m.Va.set("Unknown"),m.da.delete(4),await tf(m)}(this))})}),this.Va=new kP(i,a)}}async function tf(n){if(Oa(n))for(const e of n.Aa)await e(!0)}async function iu(n){for(const e of n.Aa)await e(!1)}function dA(n,e){const t=Ce(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),xy(t)?Sy(t):el(t).N_()&&Ay(t,e))}function Ty(n,e){const t=Ce(n),i=el(t);t.Ea.delete(e),i.N_()&&hA(t,e),t.Ea.size===0&&(i.N_()?i.k_():Oa(t)&&t.Va.set("Unknown"))}function Ay(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(n).Z_(e)}function hA(n,e){n.ma.Ke(e),el(n).X_(e)}function Sy(n){n.ma=new RO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),el(n).start(),n.Va.ca()}function xy(n){return Oa(n)&&!el(n).O_()&&n.Ea.size>0}function Oa(n){return Ce(n).da.size===0}function fA(n){n.ma=void 0}async function PP(n){n.Va.set("Online")}async function MP(n){n.Ea.forEach((e,t)=>{Ay(n,e)})}async function VP(n,e){fA(n),xy(n)?(n.Va.Pa(e),Sy(n)):n.Va.set("Unknown")}async function LP(n,e,t){if(n.Va.set("Online"),e instanceof W1&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ea.delete(f),a.ma.removeTarget(f))}(n,e)}catch(i){fe(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sh(n,i)}else if(e instanceof th?n.ma.Xe(e):e instanceof X1?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Se.min()))try{const i=await lA(n.localStore);t.compareTo(i)>=0&&await function(l,u){const f=l.ma.It(u);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ea.get(m);y&&l.Ea.set(m,y.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,m)=>{const y=l.Ea.get(p);if(!y)return;l.Ea.set(p,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),hA(l,p);const w=new fs(y.target,p,m,y.sequenceNumber);Ay(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){fe(Aa,"Failed to raise snapshot:",i),await Sh(n,i)}}async function Sh(n,e,t){if(!Zo(e))throw e;n.da.add(1),await iu(n),n.Va.set("Offline"),t||(t=()=>lA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(Aa,"Retrying IndexedDB access"),await t(),n.da.delete(1),await tf(n)})}function pA(n,e){return e().catch(t=>Sh(n,t,e))}async function nf(n){const e=Ce(n),t=Ts(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:cy;for(;UP(e);)try{const a=await _P(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,jP(e,a)}catch(a){await Sh(e,a)}mA(e)&&gA(e)}function UP(n){return Oa(n)&&n.Ia.length<10}function jP(n,e){n.Ia.push(e);const t=Ts(n);t.N_()&&t.ea&&t.ta(e.mutations)}function mA(n){return Oa(n)&&!Ts(n).O_()&&n.Ia.length>0}function gA(n){Ts(n).start()}async function zP(n){Ts(n).ia()}async function BP(n){const e=Ts(n);for(const t of n.Ia)e.ta(t.mutations)}async function qP(n,e,t){const i=n.Ia.shift(),a=gy.from(i,e,t);await pA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await nf(n)}async function FP(n,e){e&&Ts(n).ea&&await async function(i,a){if(function(u){return SO(u)&&u!==ee.ABORTED}(a.code)){const l=i.Ia.shift();Ts(i).L_(),await pA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await nf(i)}}(n,e),mA(n)&&gA(n)}async function Qb(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),fe(Aa,"RemoteStore received new credentials");const i=Oa(t);t.da.add(3),await iu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await tf(t)}async function HP(n,e){const t=Ce(n);e?(t.da.delete(2),await tf(t)):e||(t.da.add(2),await iu(t),t.Va.set("Unknown"))}function el(n){return n.fa||(n.fa=function(t,i,a){const l=Ce(t);return l.oa(),new CP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:PP.bind(null,n),n_:MP.bind(null,n),i_:VP.bind(null,n),Y_:LP.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),xy(n)?Sy(n):n.Va.set("Unknown")):(await n.fa.stop(),fA(n))})),n.fa}function Ts(n){return n.ga||(n.ga=function(t,i,a){const l=Ce(t);return l.oa(),new IP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:zP.bind(null,n),i_:FP.bind(null,n),na:BP.bind(null,n),ra:qP.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await nf(n)):(await n.ga.stop(),n.Ia.length>0&&(fe(Aa,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,f=new Ry(e,t,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),Zo(n))return new he(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=xc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Lo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.pa=new mt(ye.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Go{constructor(e,t,i,a,l,u,f,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Go(e,t,Lo.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class $P{constructor(){this.queries=Xb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ce(t),l=a.queries;a.queries=Xb(),l.forEach((u,f)=>{for(const p of f.Sa)p.onError(i)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Xb(){return new ka(n=>L1(n),Qh)}async function yA(n,e){const t=Ce(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new GP,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=Cy(u,`Initialization of query '${No(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Iy(t)}async function vA(n,e){const t=Ce(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function KP(n,e){const t=Ce(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Ma(a)&&(i=!0);u.ba=a}}i&&Iy(t)}function QP(n,e,t){const i=Ce(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Iy(n){n.Ca.forEach(e=>{e.next()})}var wg,Wb;(Wb=wg||(wg={})).xa="default",Wb.Cache="cache";class _A{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.key=e}}class bA{constructor(e){this.key=e}}class YP{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=U1(e),this.Xa=new Lo(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new Yb,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,w)=>{const T=a.get(y),I=Yh(this.query,w)?w:null,x=!!T&&this.mutatedKeys.has(T.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;T&&I?T.data.isEqual(I.data)?x!==D&&(i.track({type:3,doc:I}),R=!0):this.ru(T,I)||(i.track({type:2,doc:I}),R=!0,(p&&this.Za(I,p)>0||m&&this.Za(I,m)<0)&&(f=!0)):!T&&I?(i.track({type:0,doc:I}),R=!0):T&&!I&&(i.track({type:1,doc:T}),R=!0,(p||m)&&(f=!0)),R&&(I?(u=u.add(I),l=D?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Xa:u,nu:i,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((y,w)=>function(I,x){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:R})}};return D(I)-D(x)}(y.type,w.type)||this.Za(y.doc,w.doc)),this.iu(i),a=a!=null&&a;const f=t&&!a?this.su():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Ja;return this.Ja=p,u.length!==0||m?{snapshot:new Go(this.query,e.Xa,l,u,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Yb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new bA(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new EA(i))}),t}au(e){this.Ha=e.$s,this.Ya=ze();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Go.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ny="SyncEngine";class XP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class WP{constructor(e){this.key=e,this.cu=!1}}class JP{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new ka(f=>L1(f),Qh),this.Pu=new Map,this.Tu=new Set,this.Iu=new mt(ye.comparator),this.Eu=new Map,this.du=new _y,this.Au={},this.Ru=new Map,this.Vu=Ho.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function ZP(n,e,t=!0){const i=RA(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await wA(i,e,t,!0),a}async function eM(n,e){const t=RA(n);await wA(t,e,!0,!1)}async function wA(n,e,t,i){const a=await EP(n.localStore,qr(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await tM(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&dA(n.remoteStore,a),f}async function tM(n,e,t,i,a){n.fu=(w,T,I)=>async function(D,R,P,Q){let W=R.view.tu(P);W.Cs&&(W=await Fb(D.localStore,R.query,!1).then(({documents:V})=>R.view.tu(V,W)));const oe=Q&&Q.targetChanges.get(R.targetId),ae=Q&&Q.targetMismatches.get(R.targetId)!=null,pe=R.view.applyChanges(W,D.isPrimaryClient,oe,ae);return Zb(D,R.targetId,pe.ou),pe.snapshot}(n,w,T,I);const l=await Fb(n.localStore,e,!0),u=new YP(e,l.$s),f=u.tu(l.documents),p=ru.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=u.applyChanges(f,n.isPrimaryClient,p);Zb(n,t,m.ou);const y=new XP(e,t,u);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),m.snapshot}async function nM(n,e,t){const i=Ce(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(u=>!Qh(u,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Eg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Ty(i.remoteStore,a.targetId),Tg(i,a.targetId)}).catch(Jo)):(Tg(i,a.targetId),await Eg(i.localStore,a.targetId,!0))}async function rM(n,e){const t=Ce(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ty(t.remoteStore,i.targetId))}async function iM(n,e,t){const i=dM(n);try{const a=await function(u,f){const p=Ce(u),m=Ut.now(),y=f.reduce((I,x)=>I.add(x.key),ze());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=Ci(),D=ze();return p.Bs.getEntries(I,y).next(R=>{x=R,x.forEach((P,Q)=>{Q.isValidDocument()||(D=D.add(P))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,x)).next(R=>{w=R;const P=[];for(const Q of f){const W=EO(Q,w.get(Q.key).overlayedDocument);W!=null&&P.push(new Is(Q.key,W,N1(W.value.mapValue),yn.exists(!0)))}return p.mutationQueue.addMutationBatch(I,m,P,f)}).next(R=>{T=R;const P=R.applyToLocalDocumentSet(w,D);return p.documentOverlayCache.saveOverlays(I,R.batchId,P)})}).then(()=>({batchId:T.batchId,changes:z1(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,f,p){let m=u.Au[u.currentUser.toKey()];m||(m=new mt(ke)),m=m.insert(f,p),u.Au[u.currentUser.toKey()]=m}(i,a.batchId,t),await su(i,a.changes),await nf(i.remoteStore)}catch(a){const l=Cy(a,"Failed to persist write");t.reject(l)}}async function TA(n,e){const t=Ce(n);try{const i=await yP(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Eu.get(l);u&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?Ye(u.cu,14607):a.removedDocuments.size>0&&(Ye(u.cu,42227),u.cu=!1))}),await su(t,i,e)}catch(i){await Jo(i)}}function Jb(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,u)=>{const f=u.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const p=Ce(u);p.onlineState=f;let m=!1;p.queries.forEach((y,w)=>{for(const T of w.Sa)T.Fa(f)&&(m=!0)}),m&&Iy(p)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function sM(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let u=new mt(ye.comparator);u=u.insert(l,ln.newNoDocument(l,Se.min()));const f=ze().add(l),p=new Zh(Se.min(),new Map,new mt(ke),u,f);await TA(i,p),i.Iu=i.Iu.remove(l),i.Eu.delete(e),Dy(i)}else await Eg(i.localStore,e,!1).then(()=>Tg(i,e,t)).catch(Jo)}async function aM(n,e){const t=Ce(n),i=e.batch.batchId;try{const a=await gP(t.localStore,e);SA(t,i,null),AA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await su(t,a)}catch(a){await Jo(a)}}async function oM(n,e,t){const i=Ce(n);try{const a=await function(u,f){const p=Ce(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next(w=>(Ye(w!==null,37113),y=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);SA(i,e,t),AA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await su(i,a)}catch(a){await Jo(a)}}function AA(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function SA(n,e,t){const i=Ce(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function Tg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||xA(n,i)})}function xA(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Ty(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Dy(n))}function Zb(n,e,t){for(const i of t)i instanceof EA?(n.du.addReference(i.key,e),lM(n,i)):i instanceof bA?(fe(Ny,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||xA(n,i.key)):we(19791,{pu:i})}function lM(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(fe(Ny,"New document in limbo: "+t),n.Tu.add(i),Dy(n))}function Dy(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ye(ct.fromString(e)),i=n.Vu.next();n.Eu.set(i,new WP(t)),n.Iu=n.Iu.insert(t,i),dA(n.remoteStore,new fs(qr(fy(t.path)),i,"TargetPurposeLimboResolution",Hh.le))}}async function su(n,e,t){const i=Ce(n),a=[],l=[],u=[];i.hu.isEmpty()||(i.hu.forEach((f,p)=>{u.push(i.fu(p,e,t).then(m=>{var y;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(y=t?.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){a.push(m);const w=by.Rs(p.targetId,m);l.push(w)}}))}),await Promise.all(u),i.lu.Y_(a),await async function(p,m){const y=Ce(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>se.forEach(m,T=>se.forEach(T.ds,I=>y.persistence.referenceDelegate.addReference(w,T.targetId,I)).next(()=>se.forEach(T.As,I=>y.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))}catch(w){if(!Zo(w))throw w;fe(wy,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const I=y.xs.get(T),x=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(x);y.xs=y.xs.insert(T,D)}}}(i.localStore,l))}async function cM(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){fe(Ny,"User change. New user:",e.toKey());const i=await oA(t.localStore,e);t.currentUser=e,function(l,u){l.Ru.forEach(f=>{f.forEach(p=>{p.reject(new he(ee.CANCELLED,u))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await su(t,i.ks)}}function uM(n,e){const t=Ce(n),i=t.Eu.get(e);if(i&&i.cu)return ze().add(i.key);{let a=ze();const l=t.Pu.get(e);if(!l)return a;for(const u of l){const f=t.hu.get(u);a=a.unionWith(f.view.eu)}return a}}function RA(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sM.bind(null,e),e.lu.Y_=KP.bind(null,e.eventManager),e.lu.gu=QP.bind(null,e.eventManager),e}function dM(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oM.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return mP(this.persistence,new hP,e.initialUser,this.serializer)}Su(e){return new aA(Ey.fi,this.serializer)}bu(e){return new wP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class hM extends xh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ye(this.persistence.referenceDelegate instanceof Ah,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new WO(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new aA(i=>Ah.fi(i,t),this.serializer)}}class Ag{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Jb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cM.bind(null,this.syncEngine),await HP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $P}()}createDatastore(e){const t=ef(e.databaseInfo.databaseId),i=function(l){return new RP(l)}(e.databaseInfo);return function(l,u,f,p){return new DP(l,u,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,u,f){return new OP(i,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Jb(this.syncEngine,t,0),function(){return $b.C()?new $b:new TP}())}createSyncEngine(e,t){return function(a,l,u,f,p,m,y){const w=new JP(a,l,u,f,p,m);return y&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ce(a);fe(Aa,"RemoteStore shutting down."),l.da.add(5),await iu(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ag.provider={build:()=>new Ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class fM{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=E1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{fe(As,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(fe(As,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Cy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function qm(n,e){n.asyncQueue.verifyOperationInProgress(),fe(As,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await oA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ew(n,e){n.asyncQueue.verifyOperationInProgress();const t=await pM(n);fe(As,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Qb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Qb(e.remoteStore,a)),n._onlineComponents=e}async function pM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(As,"Using user provided OfflineComponentProvider");try{await qm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await qm(n,new xh)}}else fe(As,"Using default OfflineComponentProvider"),await qm(n,new hM(void 0));return n._offlineComponents}async function IA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(As,"Using user provided OnlineComponentProvider"),await ew(n,n._uninitializedComponentsProvider._online)):(fe(As,"Using default OnlineComponentProvider"),await ew(n,new Ag))),n._onlineComponents}function mM(n){return IA(n).then(e=>e.syncEngine)}async function NA(n){const e=await IA(n),t=e.eventManager;return t.onListen=ZP.bind(null,e.syncEngine),t.onUnlisten=nM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rM.bind(null,e.syncEngine),t}function gM(n,e,t={}){const i=new Ti;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,m){const y=new CA({next:T=>{y.xu(),u.enqueueAndForget(()=>vA(l,w));const I=T.docs.has(f);!I&&T.fromCache?m.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&p&&p.source==="server"?m.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new _A(fy(f.path),y,{includeMetadataChanges:!0,Qa:!0});return yA(l,w)}(await NA(n),n.asyncQueue,e,t,i)),i.promise}function yM(n,e,t={}){const i=new Ti;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,m){const y=new CA({next:T=>{y.xu(),u.enqueueAndForget(()=>vA(l,w)),T.fromCache&&p.source==="server"?m.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new _A(f,y,{includeMetadataChanges:!0,Qa:!0});return yA(l,w)}(await NA(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vM(n,e,t,i){if(e===!0&&i===!0)throw new he(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nw(n){if(!ye.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rw(n){if(ye.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function ir(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rf(n);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _M(n,e){if(e<=0)throw new he(ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firestore.googleapis.com",iw=!0;class sw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OA,this.ssl=iw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:iw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YO)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xk;switch(i.type){case"firstParty":return new Nk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=tw.get(t);i&&(fe("ComponentProvider","Removing Datastore"),tw.delete(t),i.terminate())}(this),Promise.resolve()}}function EM(n,e,t,i={}){var a;n=ir(n,sf);const l=Ss(e),u=n._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(Qg(`https://${p}`),Yg("Firestore",!0)),u.host!==OA&&u.host!==p&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:l,emulatorOptions:i});if(!vs(m,f)&&(n._setSettings(m),i.mockUserToken)){let y,w;if(typeof i.mockUserToken=="string")y=i.mockUserToken,w=on.MOCK_USER;else{y=wT(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new on(T)}n._authCredentials=new Rk(new v1(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class vn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ys extends Di{constructor(e,t,i){super(e,t,fy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ye(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function Mc(n,e,...t){if(n=Ze(n),kA("collection","path",e),n instanceof sf){const i=ct.fromString(e,...t);return rw(i),new ys(n,null,i)}{if(!(n instanceof vn||n instanceof ys))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return rw(i),new ys(n.firestore,null,i)}}function Un(n,e,...t){if(n=Ze(n),arguments.length===1&&(e=E1.newId()),kA("doc","path",e),n instanceof sf){const i=ct.fromString(e,...t);return nw(i),new vn(n,null,new ye(i))}{if(!(n instanceof vn||n instanceof ys))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return nw(i),new vn(n.firestore,n instanceof ys?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="AsyncQueue";class ow{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new cA(this,"async_queue_retry"),this.rc=()=>{const i=Bm();i&&fe(aw,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Bm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Bm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ti;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Zo(e))throw e;fe(aw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Ri("INTERNAL UNHANDLED ERROR: ",lw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=Ry.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&we(47125,{cc:lw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function lw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ns extends sf{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new ow,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ow(e),this._firestoreClient=void 0,await e}}}function bM(n,e){const t=typeof n=="object"?n:zh(),i=typeof n=="string"?n:yh,a=xs(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=_T("firestore");l&&EM(a,...l)}return a}function af(n){if(n._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wM(n),n._firestoreClient}function wM(n){var e,t,i;const a=n._freezeSettings(),l=function(f,p,m,y){return new Gk(f,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,DA(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new fM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f?._online.build();return{_offline:f?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(tn.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $o(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/^__.*__$/;class AM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}class PA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Is(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ic:n})}}class My{constructor(e,t,i,a,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new My(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Rh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(MA(this.Ic)&&TM.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class SM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ef(e)}bc(e,t,i,a=!1){return new My({Ic:e,methodName:t,wc:i,path:en.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tl(n){const e=n._freezeSettings(),t=ef(n._databaseId);return new SM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Vy(n,e,t,i,a,l={}){const u=n.bc(l.merge||l.mergeFields?2:0,e,t,a);Ly("Data must be an object, but it was:",u,i);const f=jA(i,u);let p,m;if(l.merge)p=new jn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const w of l.mergeFields){const T=Sg(e,w,t);if(!u.contains(T))throw new he(ee.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);BA(y,T)||y.push(T)}p=new jn(y),m=u.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=u.fieldTransforms;return new AM(new An(f),p,m)}class of extends ky{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function VA(n,e,t,i){const a=n.bc(1,e,t);Ly("Data must be an object, but it was:",a,i);const l=[],u=An.empty();Cs(i,(p,m)=>{const y=Uy(e,p,t);m=Ze(m);const w=a.mc(y);if(m instanceof of)l.push(y);else{const T=ou(m,w);T!=null&&(l.push(y),u.set(y,T))}});const f=new jn(l);return new PA(u,f,a.fieldTransforms)}function LA(n,e,t,i,a,l){const u=n.bc(1,e,t),f=[Sg(e,i,t)],p=[a];if(l.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(Sg(e,l[T])),p.push(l[T+1]);const m=[],y=An.empty();for(let T=f.length-1;T>=0;--T)if(!BA(m,f[T])){const I=f[T];let x=p[T];x=Ze(x);const D=u.mc(I);if(x instanceof of)m.push(I);else{const R=ou(x,D);R!=null&&(m.push(I),y.set(I,R))}}const w=new jn(m);return new PA(y,w,u.fieldTransforms)}function UA(n,e,t,i=!1){return ou(t,n.bc(i?4:3,e))}function ou(n,e){if(zA(n=Ze(n)))return Ly("Unsupported field value:",e,n),jA(n,e);if(n instanceof ky)return function(i,a){if(!MA(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const f of i){let p=ou(f,a.fc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Ze(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ut.fromDate(i);return{timestampValue:Th(a.serializer,l)}}if(i instanceof Ut){const l=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Th(a.serializer,l)}}if(i instanceof Oy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $o)return{bytesValue:J1(a.serializer,i._byteString)};if(i instanceof vn){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Py)return function(u,f){return{mapValue:{fields:{[C1]:{stringValue:I1},[vh]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.gc("VectorValues must only contain numeric values.");return my(f.serializer,m)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${rf(i)}`)}(n,e)}function jA(n,e){const t={};return w1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(n,(i,a)=>{const l=ou(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function zA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof Oy||n instanceof $o||n instanceof vn||n instanceof ky||n instanceof Py)}function Ly(n,e,t){if(!zA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=rf(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function Sg(n,e,t){if((e=Ze(e))instanceof au)return e._internalPath;if(typeof e=="string")return Uy(n,e);throw Rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const xM=new RegExp("[~\\*/\\[\\]]");function Uy(n,e,t){if(e.search(xM)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new au(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rh(n,e,t,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${a}`),p+=")"),new he(ee.INVALID_ARGUMENT,f+n+p)}function BA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RM extends jy{data(){return super.data()}}function lf(n,e){return typeof e=="string"?Uy(n,e):e instanceof au?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zy{}class cf extends zy{}function Cc(n,e,...t){let i=[];e instanceof zy&&i.push(e),i=i.concat(t),function(l){const u=l.filter(p=>p instanceof By).length,f=l.filter(p=>p instanceof uf).length;if(u>1||u>0&&f>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class uf extends cf{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new uf(e,t,i)}_apply(e){const t=this._parse(e);return FA(e._query,t),new Di(e.firestore,e.converter,mg(e._query,t))}_parse(e){const t=tl(e.firestore);return function(l,u,f,p,m,y,w){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){uw(w,y);const x=[];for(const D of w)x.push(cw(p,l,D));T={arrayValue:{values:x}}}else T=cw(p,l,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||uw(w,y),T=UA(f,u,w,y==="in"||y==="not-in");return kt.create(m,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qA(n,e,t){const i=e,a=lf("where",n);return uf._create(a,i,t)}class By extends zy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new By(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)FA(u,p),u=mg(u,p)}(e._query,t),new Di(e.firestore,e.converter,mg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qy extends cf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qy(e,t)}_apply(e){const t=function(a,l,u){if(a.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(l,u)}(e._query,this._field,this._direction);return new Di(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new Da(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function IM(n,e="asc"){const t=e,i=lf("orderBy",n);return qy._create(i,t)}class Fy extends cf{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Fy(e,t,i)}_apply(e){return new Di(e.firestore,e.converter,Eh(e._query,this._limit,this._limitType))}}function NM(n){return _M("limit",n),Fy._create("limit",n,"F")}class Hy extends cf{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Hy(e,t,i)}_apply(e){const t=kM(e,this.type,this._docOrFields,this._inclusive);return new Di(e.firestore,e.converter,function(a,l){return new Da(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)}(e._query,t))}}function DM(...n){return Hy._create("startAfter",n,!1)}function kM(n,e,t,i){if(t[0]=Ze(t[0]),t[0]instanceof jy)return function(l,u,f,p,m){if(!p)throw new he(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const y=[];for(const w of Vo(l))if(w.field.isKeyField())y.push(_h(u,p.key));else{const T=p.data.field(w.field);if($h(T))throw new he(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const I=w.field.canonicalString();throw new he(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}y.push(T)}return new Fo(y,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=tl(n.firestore);return function(u,f,p,m,y,w){const T=u.explicitOrderBy;if(y.length>T.length)throw new he(ee.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let x=0;x<y.length;x++){const D=y[x];if(T[x].field.isKeyField()){if(typeof D!="string")throw new he(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof D}`);if(!py(u)&&D.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${D}' contains a slash.`);const R=u.path.child(ct.fromString(D));if(!ye.isDocumentKey(R))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const P=new ye(R);I.push(_h(f,P))}else{const R=UA(p,m,D);I.push(R)}}return new Fo(I,w)}(n._query,n.firestore._databaseId,a,e,t,i)}}function cw(n,e,t){if(typeof(t=Ze(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!py(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!ye.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _h(n,new ye(i))}if(t instanceof vn)return _h(n,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(t)}.`)}function uw(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FA(n,e){const t=function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class OM{convertValue(e,t="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Cs(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[vh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>St(u.doubleValue));return new Py(l)}convertGeoPoint(e){return new Oy(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Es(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Ye(iA(i),9688,{name:e});const a=new Fc(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return a.isEqual(t)||Ri(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HA extends jy{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(lf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class nh extends HA{data(e={}){return super.data(e)}}class PM{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ic(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new nh(this._firestore,this._userDataWriter,i.key,i,new Ic(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const p=new nh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ic(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new nh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ic(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:MM(f.type),doc:p,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function MM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(n){n=ir(n,vn);const e=ir(n.firestore,Ns);return gM(af(e),n._key).then(t=>LM(e,n,t))}class GA extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function xg(n){n=ir(n,Di);const e=ir(n.firestore,Ns),t=af(e),i=new GA(e);return CM(n._query),yM(t,n._query).then(a=>new PM(e,i,n,a))}function dw(n,e,t){n=ir(n,vn);const i=ir(n.firestore,Ns),a=Gy(n.converter,e,t);return lu(i,[Vy(tl(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,yn.none())])}function Rg(n,e,t,...i){n=ir(n,vn);const a=ir(n.firestore,Ns),l=tl(a);let u;return u=typeof(e=Ze(e))=="string"||e instanceof au?LA(l,"updateDoc",n._key,e,t,i):VA(l,"updateDoc",n._key,e),lu(a,[u.toMutation(n._key,yn.exists(!0))])}function $A(n){return lu(ir(n.firestore,Ns),[new Jh(n._key,yn.none())])}function VM(n,e){const t=ir(n.firestore,Ns),i=Un(n),a=Gy(n.converter,e);return lu(t,[Vy(tl(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,yn.exists(!1))]).then(()=>i)}function lu(n,e){return function(i,a){const l=new Ti;return i.asyncQueue.enqueueAndForget(async()=>iM(await mM(i),a,l)),l.promise}(af(n),e)}function LM(n,e,t){const i=t.docs.get(e._key),a=new GA(n);return new HA(n,a,e._key,i,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tl(e)}set(e,t,i){this._verifyNotCommitted();const a=Fm(e,this._firestore),l=Gy(a.converter,t,i),u=Vy(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,yn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=Fm(e,this._firestore);let u;return u=typeof(t=Ze(t))=="string"||t instanceof au?LA(this._dataReader,"WriteBatch.update",l._key,t,i,a):VA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fm(e,this._firestore);return this._mutations=this._mutations.concat(new Jh(t._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fm(n,e){if((n=Ze(n)).firestore!==e)throw new he(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){return af(n=ir(n,Ns)),new UM(n,e=>lu(n,e))}(function(e,t=!0){(function(a){Wo=a})(Na),mr(new nr("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new Ns(new Ck(i.getProvider("auth-internal")),new Dk(u,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(m.options.projectId,y)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Sn(fb,pb,e),Sn(fb,pb,"esm2017")})();var jM="firebase",zM="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(jM,zM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebasestorage.googleapis.com",QA="storageBucket",BM=2*60*1e3,qM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends sr{constructor(e,t,i=0){super(Hm(e),`Firebase Storage: ${t} (${Hm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Hm(n){return"storage/"+n}function $y(){const n="An unknown error occurred, please check the error payload for server response.";return new Et(_t.UNKNOWN,n)}function FM(n){return new Et(_t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function HM(n){return new Et(_t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(_t.UNAUTHENTICATED,n)}function $M(){return new Et(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KM(n){return new Et(_t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function QM(){return new Et(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YM(){return new Et(_t.CANCELED,"User canceled the upload/download.")}function XM(n){return new Et(_t.INVALID_URL,"Invalid URL '"+n+"'.")}function WM(n){return new Et(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function JM(){return new Et(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QA+"' property when initializing the app?")}function ZM(){return new Et(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function e4(){return new Et(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function t4(n){return new Et(_t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cg(n){return new Et(_t.INVALID_ARGUMENT,n)}function YA(){return new Et(_t.APP_DELETED,"The Firebase app was deleted.")}function n4(n){return new Et(_t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vc(n,e){return new Et(_t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function yc(n){throw new Et(_t.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=zn.makeFromUrl(e,t)}catch{return new zn(e,"")}if(i.path==="")return i;throw WM(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function m(oe){oe.path_=decodeURIComponent(oe.path)}const y="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",I=new RegExp(`^https?://${w}/${y}/b/${a}/o${T}`,"i"),x={bucket:1,path:3},D=t===KA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",P=new RegExp(`^https?://${D}/${a}/${R}`,"i"),W=[{regex:f,indices:p,postModify:l},{regex:I,indices:x,postModify:m},{regex:P,indices:{bucket:1,path:2},postModify:m}];for(let oe=0;oe<W.length;oe++){const ae=W[oe],pe=ae.regex.exec(e);if(pe){const V=pe[ae.indices.bucket];let C=pe[ae.indices.path];C||(C=""),i=new zn(V,C),ae.postModify(i);break}}if(i==null)throw XM(e);return i}}class r4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n,e,t){let i=1,a=null,l=null,u=!1,f=0;function p(){return f===2}let m=!1;function y(...R){m||(m=!0,e.apply(null,R))}function w(R){a=setTimeout(()=>{a=null,n(I,p())},R)}function T(){l&&clearTimeout(l)}function I(R,...P){if(m){T();return}if(R){T(),y.call(null,R,...P);return}if(p()||u){T(),y.call(null,R,...P);return}i<64&&(i*=2);let W;f===1?(f=2,W=0):W=(i+Math.random())*1e3,w(W)}let x=!1;function D(R){x||(x=!0,T(),!m&&(a!==null?(R||(f=2),clearTimeout(a),w(0)):R||(f=1)))}return w(0),l=setTimeout(()=>{u=!0,D(!0)},t),D}function s4(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n){return n!==void 0}function o4(n){return typeof n=="object"&&!Array.isArray(n)}function Ky(n){return typeof n=="string"||n instanceof String}function fw(n){return Qy()&&n instanceof Blob}function Qy(){return typeof Blob<"u"}function pw(n,e,t,i){if(i<e)throw Cg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Cg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function XA(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var _a;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(_a||(_a={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t,i,a,l,u,f,p,m,y,w,T=!0,I=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,D)=>{this.resolve_=x,this.reject_=D,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new qd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===_a.NO_ERROR,p=l.getStatus();if(!f||l4(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===_a.ABORT;i(!1,new qd(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new qd(m,l))})},t=(i,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());a4(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=$y();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(a.canceled){const p=this.appDelete_?YA():YM();u(p)}else{const p=QM();u(p)}};this.canceled_?t(!1,new qd(!1,null,!0)):this.backoffId_=i4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function u4(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function d4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function h4(n,e){e&&(n["X-Firebase-GMPID"]=e)}function f4(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function p4(n,e,t,i,a,l,u=!0,f=!1){const p=XA(n.urlParams),m=n.url+p,y=Object.assign({},n.headers);return h4(y,e),u4(y,t),d4(y,l),f4(y,i),new c4(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function g4(...n){const e=m4();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Qy())return new Blob(n);throw new Et(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function y4(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(n){if(typeof atob>"u")throw t4("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gm{constructor(e,t){this.data=e,this.contentType=t||null}}function _4(n,e){switch(n){case zr.RAW:return new Gm(WA(e));case zr.BASE64:case zr.BASE64URL:return new Gm(JA(n,e));case zr.DATA_URL:return new Gm(b4(e),w4(e))}throw $y()}function WA(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,u=n.charCodeAt(++t);i=65536|(l&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function E4(n){let e;try{e=decodeURIComponent(n)}catch{throw Vc(zr.DATA_URL,"Malformed data URL.")}return WA(e)}function JA(n,e){switch(n){case zr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Vc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case zr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Vc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=v4(e)}catch(a){throw a.message.includes("polyfill")?a:Vc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class ZA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Vc(zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=T4(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function b4(n){const e=new ZA(n);return e.base64?JA(zr.BASE64,e.rest):E4(e.rest)}function w4(n){return new ZA(n).contentType}function T4(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t){let i=0,a="";fw(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(fw(this.data_)){const i=this.data_,a=y4(i,e,t);return a===null?null:new ds(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ds(i,!0)}}static getBlob(...e){if(Qy()){const t=e.map(i=>i instanceof ds?i.data_:i);return new ds(g4.apply(null,t))}else{const t=e.map(u=>Ky(u)?_4(zr.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new ds(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n){let e;try{e=JSON.parse(n)}catch{return null}return o4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function S4(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function tS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n,e){return e}class mn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||x4}}let Fd=null;function R4(n){return!Ky(n)||n.length<2?n:tS(n)}function nS(){if(Fd)return Fd;const n=[];n.push(new mn("bucket")),n.push(new mn("generation")),n.push(new mn("metageneration")),n.push(new mn("name","fullPath",!0));function e(l,u){return R4(u)}const t=new mn("name");t.xform=e,n.push(t);function i(l,u){return u!==void 0?Number(u):u}const a=new mn("size");return a.xform=i,n.push(a),n.push(new mn("timeCreated")),n.push(new mn("updated")),n.push(new mn("md5Hash",null,!0)),n.push(new mn("cacheControl",null,!0)),n.push(new mn("contentDisposition",null,!0)),n.push(new mn("contentEncoding",null,!0)),n.push(new mn("contentLanguage",null,!0)),n.push(new mn("contentType",null,!0)),n.push(new mn("metadata","customMetadata",!0)),Fd=n,Fd}function C4(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new zn(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function I4(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const u=t[l];i[u.local]=u.xform(i,e[u.server])}return C4(i,n),i}function rS(n,e,t){const i=eS(e);return i===null?null:I4(n,i,t)}function N4(n,e,t,i){const a=eS(e);if(a===null||!Ky(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(m=>{const y=n.bucket,w=n.fullPath,T="/b/"+u(y)+"/o/"+u(w),I=Yy(T,t,i),x=XA({alt:"media",token:m});return I+x})[0]}function D4(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class iS{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n){if(!n)throw $y()}function k4(n,e){function t(i,a){const l=rS(n,a,e);return sS(l!==null),l}return t}function O4(n,e){function t(i,a){const l=rS(n,a,e);return sS(l!==null),N4(l,a,n.host,n._protocol)}return t}function aS(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=$M():a=GM():t.getStatus()===402?a=HM(n.bucket):t.getStatus()===403?a=KM(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function P4(n){const e=aS(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=FM(n.path)),l.serverResponse=a.serverResponse,l}return t}function M4(n,e,t){const i=e.fullServerUrl(),a=Yy(i,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,f=new iS(a,l,O4(n,t),u);return f.errorHandler=P4(e),f}function V4(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function L4(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=V4(null,e)),i}function U4(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let W="";for(let oe=0;oe<2;oe++)W=W+Math.random().toString().slice(2);return W}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const m=L4(e,i,a),y=D4(m,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,T=`\r
--`+p+"--",I=ds.getBlob(w,i,T);if(I===null)throw ZM();const x={name:m.fullPath},D=Yy(l,n.host,n._protocol),R="POST",P=n.maxUploadRetryTime,Q=new iS(D,R,k4(n,t),P);return Q.urlParams=x,Q.headers=u,Q.body=I.uploadData(),Q.errorHandler=aS(e),Q}class j4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_a.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_a.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_a.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a,l){if(this.sent_)throw yc("cannot .send() more than once");if(Ss(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class z4 extends j4{initXhr(){this.xhr_.responseType="text"}}function oS(){return new z4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this._service=e,t instanceof zn?this._location=t:this._location=zn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Sa(e,t)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tS(this._location.path)}get storage(){return this._service}get parent(){const e=A4(this._location.path);if(e===null)return null;const t=new zn(this._location.bucket,e);return new Sa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw n4(e)}}function B4(n,e,t){n._throwIfRoot("uploadBytes");const i=U4(n.storage,n._location,nS(),new ds(e,!0),t);return n.storage.makeRequestWithTokens(i,oS).then(a=>({metadata:a,ref:n}))}function q4(n){n._throwIfRoot("getDownloadURL");const e=M4(n.storage,n._location,nS());return n.storage.makeRequestWithTokens(e,oS).then(t=>{if(t===null)throw e4();return t})}function F4(n,e){const t=S4(n._location.path,e),i=new zn(n._location.bucket,t);return new Sa(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(n){return/^[A-Za-z]+:\/\//.test(n)}function G4(n,e){return new Sa(n,e)}function lS(n,e){if(n instanceof Xy){const t=n;if(t._bucket==null)throw JM();const i=new Sa(t,t._bucket);return e!=null?lS(i,e):i}else return e!==void 0?F4(n,e):n}function $4(n,e){if(e&&H4(e)){if(n instanceof Xy)return G4(n,e);throw Cg("To use ref(service, url), the first argument must be a Storage instance.")}else return lS(n,e)}function mw(n,e){const t=e?.[QA];return t==null?null:zn.makeFromBucketSpec(t,n)}function K4(n,e,t,i={}){n.host=`${e}:${t}`;const a=Ss(e);a&&(Qg(`https://${n.host}/b`),Yg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:wT(l,n.app.options.projectId))}class Xy{constructor(e,t,i,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=KA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BM,this._maxUploadRetryTime=qM,this._requests=new Set,a!=null?this._bucket=zn.makeFromBucketSpec(a,this._host):this._bucket=mw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=mw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sa(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new r4(YA());{const u=p4(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const gw="@firebase/storage",yw="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="storage";function Q4(n,e,t){return n=Ze(n),B4(n,e,t)}function Y4(n){return n=Ze(n),q4(n)}function X4(n,e){return n=Ze(n),$4(n,e)}function W4(n=zh(),e){n=Ze(n);const i=xs(n,cS).getImmediate({identifier:e}),a=_T("storage");return a&&J4(i,...a),i}function J4(n,e,t,i={}){K4(n,e,t,i)}function Z4(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Xy(t,i,a,e,Na)}function eV(){mr(new nr(cS,Z4,"PUBLIC").setMultipleInstances(!0)),Sn(gw,yw,""),Sn(gw,yw,"esm2017")}eV();const uS="@firebase/installations",Wy="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1e4,hS=`w:${Wy}`,fS="FIS_v2",tV="https://firebaseinstallations.googleapis.com/v1",nV=60*60*1e3,rV="installations",iV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xa=new Ia(rV,iV,sV);function pS(n){return n instanceof sr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS({projectId:n}){return`${tV}/projects/${n}/installations`}function gS(n){return{token:n.token,requestStatus:2,expiresIn:oV(n.expiresIn),creationTime:Date.now()}}async function yS(n,e){const i=(await e.json()).error;return xa.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function vS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function aV(n,{refreshToken:e}){const t=vS(n);return t.append("Authorization",lV(e)),t}async function _S(n){const e=await n();return e.status>=500&&e.status<600?n():e}function oV(n){return Number(n.replace("s","000"))}function lV(n){return`${fS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=mS(n),a=vS(n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={fid:t,authVersion:fS,appId:n.appId,sdkVersion:hS},f={method:"POST",headers:a,body:JSON.stringify(u)},p=await _S(()=>fetch(i,f));if(p.ok){const m=await p.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:gS(m.authToken)}}else throw await yS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=/^[cdef][\w-]{21}$/,Ig="";function hV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=fV(n);return dV.test(t)?t:Ig}catch{return Ig}}function fV(n){return uV(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new Map;function wS(n,e){const t=df(n);TS(t,e),pV(t,e)}function TS(n,e){const t=bS.get(n);if(t)for(const i of t)i(e)}function pV(n,e){const t=mV();t&&t.postMessage({key:n,fid:e}),gV()}let ya=null;function mV(){return!ya&&"BroadcastChannel"in self&&(ya=new BroadcastChannel("[Firebase] FID Change"),ya.onmessage=n=>{TS(n.data.key,n.data.fid)}),ya}function gV(){bS.size===0&&ya&&(ya.close(),ya=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="firebase-installations-database",vV=1,Ra="firebase-installations-store";let $m=null;function Jy(){return $m||($m=CT(yV,vV,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ra)}}})),$m}async function Ih(n,e){const t=df(n),a=(await Jy()).transaction(Ra,"readwrite"),l=a.objectStore(Ra),u=await l.get(t);return await l.put(e,t),await a.done,(!u||u.fid!==e.fid)&&wS(n,e.fid),e}async function AS(n){const e=df(n),i=(await Jy()).transaction(Ra,"readwrite");await i.objectStore(Ra).delete(e),await i.done}async function hf(n,e){const t=df(n),a=(await Jy()).transaction(Ra,"readwrite"),l=a.objectStore(Ra),u=await l.get(t),f=e(u);return f===void 0?await l.delete(t):await l.put(f,t),await a.done,f&&(!u||u.fid!==f.fid)&&wS(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zy(n){let e;const t=await hf(n.appConfig,i=>{const a=_V(i),l=EV(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Ig?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function _V(n){const e=n||{fid:hV(),registrationStatus:0};return SS(e)}function EV(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(xa.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=bV(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:wV(n)}:{installationEntry:e}}async function bV(n,e){try{const t=await cV(n,e);return Ih(n.appConfig,t)}catch(t){throw pS(t)&&t.customData.serverCode===409?await AS(n.appConfig):await Ih(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function wV(n){let e=await vw(n.appConfig);for(;e.registrationStatus===1;)await ES(100),e=await vw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Zy(n);return i||t}return e}function vw(n){return hf(n,e=>{if(!e)throw xa.create("installation-not-found");return SS(e)})}function SS(n){return TV(n)?{fid:n.fid,registrationStatus:0}:n}function TV(n){return n.registrationStatus===1&&n.registrationTime+dS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV({appConfig:n,heartbeatServiceProvider:e},t){const i=SV(n,t),a=aV(n,t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={installation:{sdkVersion:hS,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},p=await _S(()=>fetch(i,f));if(p.ok){const m=await p.json();return gS(m)}else throw await yS("Generate Auth Token",p)}function SV(n,{fid:e}){return`${mS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e0(n,e=!1){let t;const i=await hf(n.appConfig,l=>{if(!xS(l))throw xa.create("not-registered");const u=l.authToken;if(!e&&CV(u))return l;if(u.requestStatus===1)return t=xV(n,e),l;{if(!navigator.onLine)throw xa.create("app-offline");const f=NV(l);return t=RV(n,f),f}});return t?await t:i.authToken}async function xV(n,e){let t=await _w(n.appConfig);for(;t.authToken.requestStatus===1;)await ES(100),t=await _w(n.appConfig);const i=t.authToken;return i.requestStatus===0?e0(n,e):i}function _w(n){return hf(n,e=>{if(!xS(e))throw xa.create("not-registered");const t=e.authToken;return DV(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function RV(n,e){try{const t=await AV(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Ih(n.appConfig,i),t}catch(t){if(pS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await AS(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ih(n.appConfig,i)}throw t}}function xS(n){return n!==void 0&&n.registrationStatus===2}function CV(n){return n.requestStatus===2&&!IV(n)}function IV(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+nV}function NV(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function DV(n){return n.requestStatus===1&&n.requestTime+dS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(n){const e=n,{installationEntry:t,registrationPromise:i}=await Zy(e);return i?i.catch(console.error):e0(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(n,e=!1){const t=n;return await PV(t),(await e0(t,e)).token}async function PV(n){const{registrationPromise:e}=await Zy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(n){if(!n||!n.options)throw Km("App Configuration");if(!n.name)throw Km("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Km(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Km(n){return xa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="installations",VV="installations-internal",LV=n=>{const e=n.getProvider("app").getImmediate(),t=MV(e),i=xs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},UV=n=>{const e=n.getProvider("app").getImmediate(),t=xs(e,RS).getImmediate();return{getId:()=>kV(t),getToken:a=>OV(t,a)}};function jV(){mr(new nr(RS,LV,"PUBLIC")),mr(new nr(VV,UV,"PRIVATE"))}jV();Sn(uS,Wy);Sn(uS,Wy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="analytics",zV="firebase_id",BV="origin",qV=60*1e3,FV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",t0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new jh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bn=new Ia("analytics","Analytics",HV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(n){if(!n.startsWith(t0)){const e=Bn.create("invalid-gtag-resource",{gtagURL:n});return xn.warn(e.message),""}return n}function CS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function $V(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function KV(n,e){const t=$V("firebase-js-sdk-policy",{createScriptURL:GV}),i=document.createElement("script"),a=`${t0}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function QV(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function YV(n,e,t,i,a,l){const u=i[a];try{if(u)await e[u];else{const p=(await CS(t)).find(m=>m.measurementId===a);p&&await e[p.appId]}}catch(f){xn.error(f)}n("config",a,l)}async function XV(n,e,t,i,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await CS(t);for(const p of u){const m=f.find(w=>w.measurementId===p),y=m&&e[m.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,a||{})}catch(l){xn.error(l)}}function WV(n,e,t,i){async function a(l,...u){try{if(l==="event"){const[f,p]=u;await XV(n,e,t,f,p)}else if(l==="config"){const[f,p]=u;await YV(n,e,t,i,f,p)}else if(l==="consent"){const[f,p]=u;n("consent",f,p)}else if(l==="get"){const[f,p,m]=u;n("get",f,p,m)}else if(l==="set"){const[f]=u;n("set",f)}else n(l,...u)}catch(f){xn.error(f)}}return a}function JV(n,e,t,i,a){let l=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=WV(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function ZV(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(t0)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=30,tL=1e3;class nL{constructor(e={},t=tL){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const IS=new nL;function rL(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function iL(n){var e;const{appId:t,apiKey:i}=n,a={method:"GET",headers:rL(i)},l=FV.replace("{app-id}",t),u=await fetch(l,a);if(u.status!==200&&u.status!==304){let f="";try{const p=await u.json();!((e=p.error)===null||e===void 0)&&e.message&&(f=p.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function sL(n,e=IS,t){const{appId:i,apiKey:a,measurementId:l}=n.options;if(!i)throw Bn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw Bn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new lL;return setTimeout(async()=>{f.abort()},qV),NS({appId:i,apiKey:a,measurementId:l},u,f,e)}async function NS(n,{throttleEndTimeMillis:e,backoffCount:t},i,a=IS){var l;const{appId:u,measurementId:f}=n;try{await aL(i,e)}catch(p){if(f)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw p}try{const p=await iL(n);return a.deleteThrottleMetadata(u),p}catch(p){const m=p;if(!oL(m)){if(a.deleteThrottleMetadata(u),f)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw p}const y=Number((l=m?.customData)===null||l===void 0?void 0:l.httpStatus)===503?UE(t,a.intervalMillis,eL):UE(t,a.intervalMillis),w={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return a.setThrottleMetadata(u,w),xn.debug(`Calling attemptFetch again in ${y} millis`),NS(n,w,i,a)}}function aL(n,e){return new Promise((t,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),i(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oL(n){if(!(n instanceof sr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class lL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cL(n,e,t,i,a){if(a&&a.global){n("event",t,i);return}else{const l=await e,u=Object.assign(Object.assign({},i),{send_to:l});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(){if(AT())try{await ST()}catch(n){return xn.warn(Bn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return xn.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dL(n,e,t,i,a,l,u){var f;const p=sL(n);p.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>xn.error(I)),e.push(p);const m=uL().then(I=>{if(I)return i.getId()}),[y,w]=await Promise.all([p,m]);ZV(l)||KV(l,y.measurementId),a("js",new Date);const T=(f=u?.config)!==null&&f!==void 0?f:{};return T[BV]="firebase",T.update=!0,w!=null&&(T[zV]=w),a("config",y.measurementId,T),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.app=e}_delete(){return delete Lc[this.app.options.appId],Promise.resolve()}}let Lc={},Ew=[];const bw={};let Qm="dataLayer",fL="gtag",ww,DS,Tw=!1;function pL(){const n=[];if(TT()&&n.push("This is a browser extension environment."),qI()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),t=Bn.create("invalid-analytics-context",{errorInfo:e});xn.warn(t.message)}}function mL(n,e,t){pL();const i=n.options.appId;if(!i)throw Bn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bn.create("no-api-key");if(Lc[i]!=null)throw Bn.create("already-exists",{id:i});if(!Tw){QV(Qm);const{wrappedGtag:l,gtagCore:u}=JV(Lc,Ew,bw,Qm,fL);DS=l,ww=u,Tw=!0}return Lc[i]=dL(n,Ew,bw,e,ww,Qm,t),new hL(n)}function gL(n=zh()){n=Ze(n);const e=xs(n,Nh);return e.isInitialized()?e.getImmediate():yL(n)}function yL(n,e={}){const t=xs(n,Nh);if(t.isInitialized()){const a=t.getImmediate();if(vs(e,t.getOptions()))return a;throw Bn.create("already-initialized")}return t.initialize({options:e})}function vL(n,e,t,i){n=Ze(n),cL(DS,Lc[n.app.options.appId],e,t,i).catch(a=>xn.error(a))}const Aw="@firebase/analytics",Sw="0.10.16";function _L(){mr(new nr(Nh,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return mL(i,a,t)},"PUBLIC")),mr(new nr("analytics-internal",n,"PRIVATE")),Sn(Aw,Sw),Sn(Aw,Sw,"esm2017");function n(e){try{const t=e.getProvider(Nh).getImmediate();return{logEvent:(i,a,l)=>vL(t,i,a,l)}}catch(t){throw Bn.create("interop-component-reg-failed",{reason:t})}}}_L();const Ng={apiKey:"AIzaSyAPg7G0QumifGQmMJGTlToNUrw0epPL4X8",authDomain:"chine-ton-usine-2c999.firebaseapp.com",projectId:"chine-ton-usine-2c999",storageBucket:"chine-ton-usine-2c999.firebasestorage.app",messagingSenderId:"528021984213",appId:"1:528021984213:web:9d5e249e7c6c2ddcd1635c",measurementId:"G-23BQZPXP86"};if(!Ng.apiKey||!Ng.projectId)throw new Error("Missing Firebase environment variables");const ff=IT(Ng),vc=Ak(ff),$t=bM(ff),EL=W4(ff);typeof window<"u"&&gL(ff);class bL{currentUser=null;constructor(){}onAuthStateChanged(e){return hD(vc,e)}async signIn(e,t){try{const i=await lD(vc,e,t);return{user:await this.getUserData(i.user.uid),error:null}}catch(i){return console.error("Erreur de connexion Firebase:",i),{user:null,error:i instanceof Error?i.message:"Erreur de connexion inconnue."}}}async signInWithGoogle(){try{const e=new vi,i=(await OD(vc,e)).user,a=Un($t,"users",i.uid),l=await Ch(a);if(l.exists()){const u=l.data();return{user:{...u,favorites:u.favorites||[],messages:u.messages||[],browsingHistory:u.browsingHistory||[]},error:null}}else{const u={id:i.uid,email:i.email||"",name:i.displayName||i.email?.split("@")[0]||"",role:"customer",language:"fr",currency:"EUR",favorites:[],messages:[],browsingHistory:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await dw(a,u),{user:u,error:null}}}catch(e){return console.error("Erreur de connexion Google Firebase:",e),{user:null,error:e instanceof Error?e.message:"Une erreur est survenue lors de la connexion Google."}}}async signUp(e,t,i,a="customer"){try{const l=await oD(vc,e,t),u={id:l.user.uid,email:e,name:i,role:a,language:"fr",currency:"EUR",subscription:"free",favorites:[],messages:[],browsingHistory:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await dw(Un($t,"users",l.user.uid),u),{user:u,error:null}}catch(l){return console.error("Erreur d'inscription Firebase:",l),{user:null,error:l instanceof Error?l.message:"Erreur d'inscription inconnue."}}}async signOut(){try{return await fD(vc),{error:null}}catch(e){return console.error("Erreur de dconnexion Firebase:",e),{error:e instanceof Error?e.message:"Erreur de dconnexion inconnue."}}}async getCurrentUser(){return this.currentUser?this.getUserData(this.currentUser.uid):null}async getSession(){if(!this.currentUser)return{session:null};const e=await this.getUserData(this.currentUser.uid);return{session:e?{user:e,access_token:await this.currentUser.getIdToken()}:null}}async updateUser(e,t){try{const i=Un($t,"users",e);return await Rg(i,{...t,updated_at:new Date().toISOString()}),{error:null}}catch(i){return console.error("Erreur de mise  jour Firebase:",i),{error:i instanceof Error?i.message:"Erreur de mise  jour inconnue."}}}async getUserData(e){try{const t=await Ch(Un($t,"users",e));if(!t.exists())return null;const i=t.data();return{...i,favorites:i.favorites||[],messages:i.messages||[],browsingHistory:i.browsingHistory||[]}}catch(t){return console.error("Erreur de rcupration des donnes utilisateur:",t),null}}async checkHealth(){try{const e=await this.getCurrentUser(),t=Mc($t,"users"),i=Cc(t,qA("role","==","admin"));return await xg(i),{isHealthy:!!e,error:null}}catch(e){return{isHealthy:!1,error:e instanceof Error?e.message:"Unknown error"}}}async getAllUsers(){try{const e=Mc($t,"users"),t=await xg(e),i=[];return t.forEach(a=>{i.push({id:a.id,...a.data()})}),i}catch(e){throw console.error("Erreur lors de la rcupration des utilisateurs:",e),e}}async searchUsers(e,t){try{let a=(await this.getAllUsers()).filter(l=>l.email.toLowerCase().includes(e.toLowerCase())||l.name.toLowerCase().includes(e.toLowerCase()));return t&&(a=a.filter(l=>l.role===t)),a}catch(i){throw console.error("Erreur lors de la recherche d'utilisateurs:",i),i}}async deleteUser(e){try{await $A(Un($t,"users",e))}catch(t){throw console.error("Erreur lors de la suppression de l'utilisateur:",t),t}}async updateUserRole(e,t){try{const i=Un($t,"users",e);await Rg(i,{role:t,updated_at:new Date().toISOString()})}catch(i){throw console.error("Erreur lors de la mise  jour du rle:",i),i}}async getUserStats(){try{const e=await this.getAllUsers(),t={total:e.length,byRole:{admin:0,supplier:0,customer:0,sourcer:0,influencer:0},recentSignups:0},i=new Date;return i.setDate(i.getDate()-7),e.forEach(a=>{t.byRole[a.role]=(t.byRole[a.role]||0)+1,a.created_at&&new Date(a.created_at)>i&&t.recentSignups++}),t}catch(e){throw console.error("Erreur lors de la rcupration des statistiques:",e),e}}}const tr=new bL;class pf{constructor(e){this.collectionName=e}async create(e){try{const t={...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},i=await VM(Mc($t,this.collectionName),t);return{...t,id:i.id}}catch(t){throw console.error(`Erreur lors de la cration dans ${this.collectionName}:`,t),t}}async read(e){try{const t=Un($t,this.collectionName,e),i=await Ch(t);return i.exists()?{id:i.id,...i.data()}:null}catch(t){throw console.error(`Erreur lors de la lecture dans ${this.collectionName}:`,t),t}}async update(e,t){try{const i=Un($t,this.collectionName,e),a={...t,updated_at:new Date().toISOString()};await Rg(i,a)}catch(i){throw console.error(`Erreur lors de la mise  jour dans ${this.collectionName}:`,i),i}}async delete(e){try{const t=Un($t,this.collectionName,e);await $A(t)}catch(t){throw console.error(`Erreur lors de la suppression dans ${this.collectionName}:`,t),t}}async list(e={}){try{let i=Mc($t,this.collectionName);if(e.filters)for(const u of e.filters)i=Cc(i,qA(u.field,u.operator,u.value));e.orderByField&&(i=Cc(i,IM(e.orderByField,e.orderDirection||"asc"))),e.limitCount&&(i=Cc(i,NM(e.limitCount))),e.startAfterDoc&&(i=Cc(i,DM(e.startAfterDoc)));const a=await xg(i),l=[];return a.forEach(u=>{l.push({id:u.id,...u.data()})}),l}catch(t){throw console.error(`Erreur lors de la liste dans ${this.collectionName}:`,t),t}}async listPaginated(e={}){try{const t=await this.list(e),i=e.limitCount?t.length===e.limitCount:!1;let a;if(t.length>0&&i){const l=t[t.length-1];if(l.id){const u=Un($t,this.collectionName,l.id),f=await Ch(u);f.exists()&&(a=f)}}return{data:t,lastDoc:a,hasMore:i}}catch(t){throw console.error(`Erreur lors de la pagination dans ${this.collectionName}:`,t),t}}async search(e,t){try{return(await this.list()).filter(l=>t.some(u=>{const f=this.getNestedValue(l,u);return typeof f=="string"?f.toLowerCase().includes(e.toLowerCase()):!1}))}catch(i){throw console.error(`Erreur lors de la recherche dans ${this.collectionName}:`,i),i}}async count(e){try{const t=e?{filters:e}:{};return(await this.list(t)).length}catch(t){throw console.error(`Erreur lors du comptage dans ${this.collectionName}:`,t),t}}async exists(e){try{return await this.read(e)!==null}catch(t){return console.error(`Erreur lors de la vrification d'existence dans ${this.collectionName}:`,t),!1}}async createBatch(e){try{const t=hw($t),i=[];for(const a of e){const l=Un(Mc($t,this.collectionName)),u={...a,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};t.set(l,u),i.push({...u,id:l.id})}return await t.commit(),i}catch(t){throw console.error(`Erreur lors de la cration en lot dans ${this.collectionName}:`,t),t}}async deleteBatch(e){try{const t=hw($t);for(const i of e){const a=Un($t,this.collectionName,i);t.delete(a)}await t.commit()}catch(t){throw console.error(`Erreur lors de la suppression en lot dans ${this.collectionName}:`,t),t}}getNestedValue(e,t){return t.split(".").reduce((i,a)=>i?.[a],e)}}const wL=new pf("products"),TL=new pf("orders"),AL=new pf("suppliers"),SL=new pf("messages"),xw=[{email:"admin@chinetonusine.com",password:"Admin123!",name:"Administrateur Principal",role:"admin",company:"ChineTonUsine Admin"},{email:"supplier@technomax.com",password:"Supplier123!",name:"Wang Lei - TechnoMax",role:"supplier",company:"TechnoMax Solutions"},{email:"supplier2@guangzhou.com",password:"Supplier123!",name:"Li Ming - Guangzhou Electronics",role:"supplier",company:"Guangzhou Electronics Co."},{email:"client@entreprise.fr",password:"Client123!",name:"Marie Dubois",role:"customer",company:"Entreprise Solutions France"},{email:"client2@trading.fr",password:"Client123!",name:"Pierre Martin",role:"customer",company:"French Trading Company"},{email:"sourcer@procurement.com",password:"Sourcer123!",name:"Sophie Bernard - Procurement",role:"sourcer",company:"Global Procurement Services"},{email:"influencer@social.com",password:"Influencer123!",name:"Alex Thomson - Influencer",role:"influencer",company:"Social Media Influence"}];class xL{isInitialized=!1;async initializeDatabase(){if(this.isInitialized){console.log("Base de donnes dj initialise");return}try{console.log(" Initialisation de la base de donnes Firebase...");const e=await this.createTestUsers();await this.createTestData();const t=e.filter(a=>a.success).length,i=e.filter(a=>!a.success).length;console.log(` Initialisation termine: ${t} utilisateurs crs, ${i} erreurs`),i>0&&console.warn(" Certains utilisateurs n'ont pas pu tre crs (ils existent peut-tre dj)"),this.isInitialized=!0}catch(e){throw console.error(" Erreur lors de l'initialisation:",e),e}}async createTestUsers(){const e=[];for(const t of xw)try{console.log(`Cration de l'utilisateur: ${t.email} (${t.role})`);const i=await tr.signUp(t.email,t.password,t.name,t.role);i.error?i.error.includes("email-already-in-use")?(console.log(` Utilisateur ${t.email} existe dj`),e.push({email:t.email,success:!0})):(console.error(` Erreur pour ${t.email}:`,i.error),e.push({email:t.email,success:!1,error:i.error})):(console.log(` Utilisateur ${t.email} cr avec succs`),e.push({email:t.email,success:!0}),t.company&&i.user&&await tr.updateUser(i.user.id,{company:t.company})),await new Promise(a=>setTimeout(a,100))}catch(i){console.error(` Erreur inattendue pour ${t.email}:`,i),e.push({email:t.email,success:!1,error:i instanceof Error?i.message:"Erreur inconnue"})}return e}async checkInitializationStatus(){try{return await this.checkUserExists("admin@chinetonusine.com")}catch(e){return console.error("Erreur lors de la vrification du statut d'initialisation:",e),!1}}async checkUserExists(e){try{return(await tr.signIn(e,"test")).user?(await tr.signOut(),!0):!1}catch(t){return!!(t instanceof Error&&t.message.includes("wrong-password"))}}displayTestCredentials(){console.log(`
 INFORMATIONS DE CONNEXION DES UTILISATEURS DE TEST:`),console.log("=".repeat(60)),xw.forEach(e=>{console.log(` ${e.role.toUpperCase()}: ${e.email}`),console.log(` Mot de passe: ${e.password}`),console.log(` Nom: ${e.name}`),e.company&&console.log(` Entreprise: ${e.company}`),console.log("-".repeat(40))}),console.log(`
 Utilisez ces identifiants pour tester les diffrents rles de l'application.`)}resetInitializationStatus(){this.isInitialized=!1}async createTestData(){try{console.log(" Cration des donnes de test..."),await this.createTestSuppliers(),await this.createTestProducts(),await this.createTestOrders(),await this.createTestMessages(),console.log(" Donnes de test cres avec succs")}catch(e){throw console.error(" Erreur lors de la cration des donnes de test:",e),e}}async createTestSuppliers(){const e=[{userId:"supplier-1",name:"TechnoMax Solutions",description:"Fabricant leader d'quipements lectroniques et de composants high-tech",location:"Shenzhen, Guangdong, Chine",rating:4.8,verified:!0,email:"supplier@technomax.com",phone:"+86 755 1234 5678",website:"www.technomax-solutions.com"},{userId:"supplier-2",name:"Guangzhou Electronics Co.",description:"Spcialiste en composants lectroniques et appareils grand public",location:"Guangzhou, Guangdong, Chine",rating:4.6,verified:!0,email:"supplier2@guangzhou.com",phone:"+86 20 8765 4321",website:"www.guangzhou-electronics.com"}];try{await AL.createBatch(e),console.log(" Fournisseurs de test crs")}catch(t){console.log(" Fournisseurs de test dj existants ou erreur:",t)}}async createTestProducts(){const e=[{name:{fr:'Smartphone Android 12"',en:'Android 12" Smartphone',zh:"12"},description:{fr:"Smartphone haute performance avec cran 6.7 pouces, processeur octa-core et appareil photo 108MP",en:"High-performance smartphone with 6.7-inch display, octa-core processor and 108MP camera",zh:"6.71.08"},price:{cny:2800,unitCny:2800},images:["https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=500","https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=500"],category:"lectronique",supplierId:"supplier-1",moq:100,certifiedCE:!0,origin:"Chine",material:"Aluminium, Verre",brand:"TechnoMax",modelNumber:"TM-SM-2024-001",application:"Communication, Multimdia",style:"Moderne",specifications:{ecran:"6.7 pouces AMOLED",processeur:"Snapdragon 8 Gen 2",memoire:"12GB RAM, 256GB Stockage",batterie:"5000mAh",systeme:"Android 13"}},{name:{fr:"couteurs Bluetooth Premium",en:"Premium Bluetooth Headphones",zh:""},description:{fr:"couteurs sans fil avec rduction de bruit active et autonomie de 30h",en:"Wireless headphones with active noise cancellation and 30h battery life",zh:"30"},price:{cny:450,unitCny:450},images:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500","https://images.unsplash.com/photo-1583394838336-acd977736f90?w=500"],category:"Audio",supplierId:"supplier-2",moq:50,certifiedCE:!0,origin:"Chine",material:"Plastique ABS, Mtal",brand:"Guangzhou Audio",modelNumber:"GA-BT-2024-002",application:"Musique, Appels",style:"Moderne",specifications:{connexion:"Bluetooth 5.3",autonomie:"30 heures",reductionBruit:"ANC actif",poids:"280g",compatibilite:"iOS, Android, PC"}}];try{await wL.createBatch(e),console.log(" Produits de test crs")}catch(t){console.log(" Produits de test dj existants ou erreur:",t)}}async createTestOrders(){const e=[{userId:"client-1",supplierId:"supplier-1",products:[{productId:"product-1",quantity:100,price:2800},{productId:"product-2",quantity:50,price:450}],status:"processing",totalAmount:302500,currency:"CNY",shippingAddress:"123 Rue de la Paix, 75001 Paris, France",trackingNumber:"TRK123456789",estimatedDelivery:new Date(Date.now()+12096e5).toISOString()},{userId:"client-2",supplierId:"supplier-2",products:[{productId:"product-2",quantity:25,price:450}],status:"shipped",totalAmount:11250,currency:"CNY",shippingAddress:"456 Avenue des Champs, 69000 Lyon, France",trackingNumber:"TRK987654321",estimatedDelivery:new Date(Date.now()+6048e5).toISOString()}];try{await TL.createBatch(e),console.log(" Commandes de test cres")}catch(t){console.log(" Commandes de test dj existantes ou erreur:",t)}}async createTestMessages(){const e=[{senderId:"client-1",receiverId:"supplier-1",content:"Bonjour, je suis intress par vos smartphones. Pouvez-vous me confirmer la disponibilit pour une commande de 100 units ?",isRead:!1},{senderId:"supplier-1",receiverId:"client-1",content:"Bonjour ! Oui, nous avons bien 100 units en stock. Le dlai de livraison est de 14 jours ouvrs. Souhaitez-vous procder  la commande ?",isRead:!0},{senderId:"client-2",receiverId:"supplier-2",content:"Votre commande #ORD-2024-002 a t expdie avec le numro de suivi TRK987654321",isRead:!1}];try{await SL.createBatch(e),console.log(" Messages de test crs")}catch(t){console.log(" Messages de test dj existants ou erreur:",t)}}}const Rw=new xL,kS=U.createContext(void 0),RL=({children:n})=>{const[e,t]=U.useState(null),[i,a]=U.useState(!0);U.useEffect(()=>{let w=!0;const T=async()=>{try{console.log("Initialisation du contexte d'authentification...");try{await Rw.initializeDatabase(),Rw.displayTestCredentials()}catch(D){console.warn(" Erreur lors de l'initialisation de la base:",D)}const x=await tr.checkHealth();console.log("tat du service Firebase:",x),w&&a(!1)}catch(x){console.error("Erreur lors de l'initialisation:",x),w&&(t(null),a(!1))}},I=tr.onAuthStateChanged(async x=>{if(w)if(console.log("Changement d'tat Firebase dtect:",x?.email||"Dconnect"),x)try{const D=await tr.getUserData(x.uid);w&&t(D)}catch(D){console.error("Erreur lors de la rcupration des donnes utilisateur Firestore:",D),w&&!e&&t(null)}else w&&t(null),console.log("Utilisateur dconnect")});return T(),()=>{w=!1,I()}},[]);const l=async(w,T)=>{try{console.log("Tentative de connexion depuis le contexte...");const{user:I,error:x}=await tr.signIn(w,T);if(x)throw new Error(x);if(!I)throw new Error("chec de la connexion");return console.log("Connexion russie depuis le contexte"),I}catch(I){throw console.error("Erreur de connexion dans le contexte:",I),I}},u=async(w,T,I,x="customer")=>{try{console.log("Tentative d'inscription depuis le contexte...");const D=await tr.signUp(w,T,I,x);return console.log("Inscription depuis le contexte:",D.user?"russie":"choue"),D.error?{user:null,error:D.error}:D.user?{user:D.user,error:void 0}:{user:null,error:"Une erreur inattendue est survenue lors de l'inscription."}}catch(D){return console.error("Erreur d'inscription dans le contexte:",D),{user:null,error:D instanceof Error?D.message:"Une erreur est survenue lors de l'inscription"}}},f=async()=>{try{console.log("Tentative de connexion Google depuis le contexte...");const w=await tr.signInWithGoogle();return console.log("Connexion Google depuis le contexte:",w.user?"russie":"choue"),w.error?{user:null,error:w.error}:w.user?{user:w.user,error:void 0}:{user:null,error:"Une erreur inattendue est survenue lors de la connexion Google."}}catch(w){return console.error("Erreur de connexion Google dans le contexte:",w),{user:null,error:w instanceof Error?w.message:"Une erreur est survenue lors de la connexion Google"}}},p=async()=>{try{console.log("Dconnexion depuis le contexte..."),await tr.signOut(),localStorage.removeItem("demoUser"),localStorage.removeItem("user"),localStorage.removeItem("authToken"),localStorage.removeItem("lastLogin"),t(null),console.log(" Dconnexion complte effectue")}catch(w){console.error("Erreur de dconnexion dans le contexte:",w),t(null),localStorage.removeItem("demoUser"),localStorage.removeItem("user")}},m=async w=>{if(e)try{console.log("Mise  jour de l'utilisateur:",w);const{error:T}=await tr.updateUser(e.id,w);if(T)throw T;const I={...e,...w};t(I),console.log("Utilisateur mis  jour avec succs")}catch(T){throw console.error("Erreur lors de la mise  jour de l'utilisateur:",T),T}},y=w=>e?e.role==="admin"?!0:{admin:["*"],supplier:["manage_products","view_products","manage_orders","view_orders"],customer:["view_products","view_orders"],sourcer:["view_products","manage_sourcing"],influencer:["view_products","create_content","manage_influence"]}[e.role]?.includes(w)||!1:!1;return v.jsx(kS.Provider,{value:{user:e,loading:i,login:l,register:u,signInWithGoogle:f,logout:p,updateUser:m,hasPermission:y},children:n})},nl=()=>{const n=U.useContext(kS);if(n===void 0)throw new Error("useAuth doit tre utilis dans un AuthProvider");return n},_c={fr:{home:"Accueil",search:"Rechercher","search.placeholder":"Rechercher des produits...",dashboard:"Tableau de bord","nav.login":"Connexion",logout:"Dconnexion",discover:"Dcouvrir","notifications.title":"Notifications","notifications.noNotifications":"Aucune notification","notifications.noNotificationsMessage":"Vous n'avez aucune notification pour le moment","notifications.markAllAsRead":"Tout marquer comme lu","notifications.markAsRead":"Marquer comme lu","notifications.refresh":"Actualiser","notifications.filters":"Filtres","notifications.status":"Statut","notifications.type":"Type","notifications.all":"Tous","notifications.unread":"Non lus","notifications.read":"Lus","notifications.allTypes":"Tous les types","notifications.orders":"Commandes","notifications.payments":"Paiements","notifications.shipments":"Expditions","notifications.system":"Systme","notifications.info":"Information","notifications.warnings":"Avertissements","notifications.errors":"Erreurs","notifications.clearFilters":"Effacer","notifications.loading":"Chargement...","notifications.error":"Erreur lors du chargement des notifications","notifications.seeDetails":"Voir les dtails","notifications.timeAgo.now":" l'instant","notifications.timeAgo.minutes":"Il y a {0} min","notifications.timeAgo.hours":"Il y a {0}h","notifications.timeAgo.days":"Il y a {0}j","notifications.priority.urgent":"Urgent","notifications.priority.high":"lev","notifications.priority.medium":"Moyen","notifications.priority.low":"Faible","notifications.allLoaded":"Toutes les notifications ont t charges","notifications.count.singular":"{0} non lu","notifications.count.plural":"{0} non lus",email:"Email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",login:"Connexion",register:"Inscription",loginDescription:"Connectez-vous pour accder  votre compte",accountType:"Type de compte","role.customer":"Client","role.supplier":"Fournisseur","role.sourcer":"Sourceur","role.influencer":"Influenceur",emailPlaceholder:"votre@email.com",passwordPlaceholder:"",rememberMe:"Se souvenir de moi",forgotPassword:"Mot de passe oubli ?",loginButton:"Se connecter",loggingIn:"Connexion...",createAccount:"Crer un compte",registerDescription:"Crez votre compte pour commencer",fullName:"Nom complet",yourNamePlaceholder:"Votre nom complet",nameRequired:"Le nom est requis",emailRequired:"L'email est requis",passwordMinLength:"Le mot de passe doit contenir au moins 6 caractres",passwordsDoNotMatch:"Les mots de passe ne correspondent pas",registrationError:"Erreur d'inscription",creatingAccount:"Cration du compte...",createMyAccount:"Crer mon compte",hasAccountQuestion:"Vous avez dj un compte ?","role.customerTitle":"Client","role.supplierTitle":"Fournisseur","role.sourcerTitle":"Sourceur","role.customerDescription":"Acheter des produits aux fournisseurs","role.supplierDescription":"Vendre vos produits aux clients","role.sourcerDescription":"Aider les clients  trouver les meilleurs fournisseurs","common.optional":"Optionnel",fashion:"Mode",tech:"Technologie",beauty:"Beaut",sports:"Sport",mainAudience:"Audience principale",mainAudiencePlaceholder:"Pays ou rgion majoritaire, ge moyen",engagementRate:"Taux d'engagement",engagementRatePlaceholder:"Facultatif, utile pour valuer l'interaction",shareStatsAgreement:"J'accepte de partager mes statistiques dtailles sur demande",mediaKit:"Kit mdia",message:"Message",messagePlaceholder:"Prsentez-vous brivement",socialMediaLinks:"Liens vers les rseaux sociaux",socialMediaLinksPlaceholder:"Instagram, TikTok, YouTube, etc.",followerCount:"Nombre de followers",followerCountPlaceholder:"Nombre de followers pour chaque rseau",category:"Catgorie d'influence",emptyFields:"Veuillez remplir tous les champs",loginError:"Erreur de connexion",loginErrorTitle:"Erreur de connexion",registerNow:"S'inscrire maintenant",noAccountQuestion:"Pas encore de compte ?",termsAgreement:"En continuant, vous acceptez nos conditions d'utilisation et notre politique de confidentialit.",termsOfUse:"conditions d'utilisation",privacyPolicy:"politique de confidentialit",welcomeBack:"Bon retour !",joinUs:"Rejoignez-nous",loginSubtitle:"Connectez-vous pour accder  votre espace et dcouvrir les dernires opportunits commerciales",registerSubtitle:"Crez votre compte et dcouvrez toutes les opportunits d'affaires avec la Chine",signIn:"Se connecter",signUp:"S'inscrire",signInSubtitle:"Accdez  votre espace personnel",signUpSubtitle:"Crez votre compte en quelques tapes",googleLoginError:"Erreur de connexion Google",orContinueWith:"Ou continuer avec",signInWithGoogle:"Continuer avec Google",agreementPrefix:"En continuant, vous acceptez nos",agreementSuffix:".",and:"et",andOur:"et notre",termsOfService:"conditions d'utilisation",loginNow:"Se connecter maintenant","welcome.back":"Bon retour !","welcome.back.subtitle":"Connectez-vous pour accder  votre espace et dcouvrir les dernires opportunits commerciales avec la Chine.","welcome.join":"Rejoignez-nous !","welcome.join.subtitle":"Crez votre compte et dcouvrez toutes les opportunits d'affaires avec la Chine",registrationErrorTitle:"Erreur d'inscription","search.button":"Rechercher","socialNetworkSelector.title":"Rseaux sociaux","socialNetworkSelector.subtitle":"Slectionnez vos rseaux sociaux","socialNetworkSelector.modalInfo":"Un formulaire s'ouvrira pour renseigner vos liens","socialNetworks.instagram":"Instagram","socialNetworks.tiktok":"TikTok","socialNetworks.youtube":"YouTube","socialNetworks.twitter":"X (Twitter)","socialNetworks.linkedin":"LinkedIn","socialNetworks.facebook":"Facebook","socialNetworks.twitch":"Twitch","socialMediaModal.title":"Liens de vos profils","socialMediaModal.description":"Veuillez renseigner les liens de vos profils pour chaque rseau social slectionn :","socialMediaModal.linkFor":"Lien de votre profil","socialMediaModal.urlRequired":"Ce champ est obligatoire","socialMediaModal.invalidUrl":"Veuillez entrer une URL valide","socialMediaModal.invalidDomain":"L'URL doit contenir le bon domaine","socialMediaModal.close":"Fermer","socialMediaModal.cancel":"Annuler","socialMediaModal.save":"Valider","socialMediaValidation.noNetworkSelected":"Veuillez slectionner au moins un rseau social","socialMediaValidation.noLinksProvided":"Veuillez renseigner les liens de vos profils","homepage.title":"Chine ton usine","homepage.subtitle":"A VA VOUS","homepage.subtitle.highlight":"PLAIRE","homepage.tagline":"Coup de foudre invitable.","homepage.search.placeholder":"Recherchez un produit, une marque...","homepage.recommendations.badge":"Recommand","homepage.recommendations.title":"Produits recommands pour vous","homepage.recommendations.subtitle":"Dcouvrez notre slection personnalise de produits","homepage.recommendations.viewAll":"Voir tout","homepage.recommendations.discover":"Dcouvrir","homepage.categories.home":"Accueil","homepage.categories.electronics":"lectronique","homepage.categories.fashion":"Mode","homepage.categories.home.category":"Maison","homepage.categories.beauty":"Beaut","homepage.categories.sports":"Sport","homepage.categories.automotive":"Auto","homepage.categories.tools":"Outils","homepage.categories.toys":"Jouets","homepage.categories.books":"Livres","homepage.categories.music":"Musique","homepage.categories.garden":"Jardin","homepage.network.badge":"Rseau global","homepage.network.suppliers":"Plus de 1000 fournisseurs vrifis","homepage.cards.technology":"TECHNOLOGIE","homepage.cards.electronics":"LECTRONIQUE","homepage.cards.electronics.description":"Composants & Gadgets","homepage.cards.explore":"Explorer","homepage.cards.fashion.title":"MODE & VTEMENTS","homepage.cards.textile":"TEXTILE","homepage.cards.textile.description":"Fabrication Premium","homepage.cards.industrial":"QUIPEMENT INDUSTRIEL","homepage.cards.machinery":"MACHINERIE","homepage.cards.machinery.description":"Performance & Innovation","homepage.cards.decoration":"DCORATION & MOBILIER","homepage.cards.home.garden":"MAISON & JARDIN","homepage.cards.home.garden.description":"Design & Confort","homepage.cards.new":"Nouveau","homepage.cards.educational":"DUCATIF & LUDIQUE","homepage.cards.toys.children":"JOUETS & ENFANTS","homepage.cards.toys.description":"Qualit Certifie","homepage.cards.parts":"PICES & ACCESSOIRES","homepage.cards.auto.moto":"AUTO & MOTO","homepage.cards.auto.description":"Pices de Qualit","homepage.cta.title":"A VA VOUS","homepage.cta.highlight":"PLAIRE","homepage.cta.subtitle":"Coup de foudre invitable.","homepage.cta.button":"Dcouvrir tous les fournisseurs","homepage.how.title":"Comment a marche ?","homepage.how.subtitle":"Trouvez votre usine en Chine en seulement 3 tapes","homepage.how.step1.title":"1. Recherchez vos produits","homepage.how.step1.description":"Utilisez nos filtres avancs pour trouver exactement ce que vous cherchez parmi des millions de produits.","homepage.how.step2.title":"2. Contactez les fournisseurs","homepage.how.step2.description":"Entrez en contact direct avec des usines chinoises vrifies et fiables, sans intermdiaire.","homepage.how.step3.title":"3. Commandez et importez","homepage.how.step3.description":"Ngociez vos prix, obtenez des chantillons et lancez votre commande en toute srnit.","homepage.how.cta":"Crer un compte","homepage.discover.title":"DCOUVREZ TOUS NOS","homepage.discover.highlight":"FOURNISSEURS","homepage.discover.subtitle":"Des milliers de fournisseurs vrifis vous attendent.","homepage.discover.button":"Dcouvrir tous les fournisseurs","homepage.process.title":"Comment a marche ?","homepage.process.subtitle":"Notre plateforme vous connecte directement avec les meilleurs fournisseurs chinois","homepage.process.step1.title":"1. Explorez","homepage.process.step1.description":"Parcourez notre catalogue de milliers de produits et fournisseurs vrifis selon vos besoins.","homepage.process.step2.title":"2. Comparez","homepage.process.step2.description":"valuez les prix, la qualit, les certifications et les avis pour choisir le meilleur fournisseur.","homepage.process.step3.title":"3. Contactez","homepage.process.step3.description":"changez directement avec les fournisseurs pour ngocier les prix et demander des chantillons.","homepage.process.step4.title":"4. Commandez","homepage.process.step4.description":"Finalisez votre commande en toute scurit avec notre systme de paiement protg.","homepage.process.cta":"Commencer maintenant","homepage.optimize.title":"Optimisez votre processus d'achat","homepage.optimize.search.title":"Recherchez efficacement","homepage.optimize.search.description":"Trouvez rapidement les produits que vous cherchez grce  nos filtres avancs","homepage.optimize.identify.title":"Identifiez les meilleurs fournisseurs","homepage.optimize.identify.description":"Comparez les fournisseurs selon vos critres de qualit et de prix","homepage.optimize.pay.title":"Payez en scurit","homepage.optimize.pay.description":"Effectuez vos paiements en toute confiance avec notre systme scuris","homepage.optimize.manage.title":"Grez vos commandes","homepage.optimize.manage.description":"Suivez l'tat de vos commandes en temps rel depuis votre tableau de bord","homepage.final.title":"Prt  dvelopper votre business ?","homepage.final.subtitle":"Commencez  importer depuis la Chine ds aujourd'hui.","homepage.final.button":"Crer un compte gratuitement","supplier.sidebar.title":"ChineTonUsine","supplier.sidebar.dashboard":"Tableau de bord","supplier.sidebar.products":"Produits","supplier.sidebar.customers":"Clients","supplier.sidebar.messages":"Messages","supplier.sidebar.documents":"Documents","supplier.sidebar.reviews":"Avis","supplier.sidebar.analytics":"Analyses","supplier.sidebar.settings":"Paramtres","supplier.companyName":"Nom de l'entreprise","supplier.legalRegistrationNumber":"Numro d'enregistrement lgal","supplier.website":"Site web (optionnel)","supplier.productCategory":"Catgorie de produits","supplier.categories.textile":"Textile","supplier.categories.electronics":"lectronique","supplier.categories.food":"Agroalimentaire","supplier.categories.machinery":"Machines","supplier.categories.automotive":"Automobile","supplier.categories.beauty":"Beaut","supplier.categories.homeGarden":"Maison et jardin","supplier.categories.toys":"Jouets","supplier.categories.industrial":"Industriel","supplier.categories.other":"Autre","supplier.monthlyProductionCapacity":"Capacit de production mensuelle","supplier.productionCountryRegion":"Pays et rgion de production","supplier.certifications":"Certifications (ISO, CE, etc.)","supplier.qualityControlMethods":"Mthodes de contrle qualit","supplier.presentationVideo":"Vido de prsentation ou lien YouTube (optionnel)","supplier.companyMessage":"Message de prsentation de l'entreprise","supplier.documents":"Documents de l'entreprise (certificats, catalogues, etc.)","supplier.agreeToVerification":"J'accepte que mes informations soient vrifies","supplier.registration.message":"Vous serez contact pour finaliser votre inscription fournisseur","supplier.registration.validation":"Votre compte sera valid manuellement par notre quipe","supplier.registration.title":"Information Importante","supplier.registration.submitButton":"Soumettre la demande","sourcer.registration.message":"Vous serez contact pour finaliser votre inscription sourceur","sourcer.registration.validation":"Votre compte sera valid manuellement par notre quipe","sourcer.registration.title":"Information Importante","sourcer.registration.submitButton":"Soumettre la demande","fileUpload.dragDrop":"Glissez et dposez un fichier ici","fileUpload.orClick":"ou cliquez pour slectionner","fileUpload.applicationpdf":"PDF","fileUpload.imageall":"Images","fileUpload.remove":"Supprimer","fileUpload.title":"Kit mdia","supplier.dashboard.title":"Tableau de bord fournisseur","supplier.dashboard.overview":"Vue d'ensemble de votre activit","supplier.dashboard.totalProducts":"Produits totaux","supplier.dashboard.monthlyRevenue":"Chiffre d'affaires mensuel","supplier.dashboard.customerSatisfaction":"Satisfaction client","supplier.dashboard.viewAllProducts":"Voir tous les produits","supplier.dashboard.viewAnalytics":"Voir les analyses","supplier.dashboard.viewReviews":"Voir les avis","supplier.dashboard.importantAlerts":"Alertes importantes","supplier.dashboard.addProduct":"Ajouter un produit","supplier.dashboard.addProductDesc":"Crer une nouvelle fiche produit","supplier.dashboard.messages":"Messages","supplier.dashboard.threeNewMessages":"3 nouveaux messages","supplier.dashboard.documents":"Documents","supplier.dashboard.manageDocuments":"Grer vos documents","supplier.dashboard.salesPerformance":"Performance des ventes","supplier.dashboard.revenue":"Chiffre d'affaires","supplier.dashboard.last30Days":"30 derniers jours","supplier.dashboard.month":"Mois","supplier.dashboard.year":"Anne","supplier.dashboard.salesChart":"Graphique des ventes","supplier.dashboard.dataWillDisplay":"Les donnes seront affiches ici","supplier.products.title":"Gestion des produits","supplier.products.subtitle":"Grez votre catalogue de produits","supplier.products.manage":"Grez votre catalogue","supplier.products.search":"Rechercher un produit...","supplier.products.add":"Ajouter un produit","supplier.products.addProduct":"Ajouter un produit","supplier.products.resetDefault":"Restaurer par dfaut","supplier.products.allCategories":"Toutes les catgories","supplier.products.autosave":"Sauvegarde automatique active","supplier.products.synced":"Synchronis avec l'onglet Dcouvrir","supplier.products.back":"Retour au tableau de bord","supplier.products.totalProducts":"Total Produits","supplier.products.stats.totalProducts":"Total Produits","supplier.products.stats.views":"Vues ce mois","supplier.products.stats.rating":"Note moyenne","supplier.products.stats.inStock":"En stock","supplier.products.inStock":"En stock","supplier.products.name":"Nom","supplier.products.category":"Catgorie","supplier.products.price":"Prix d'usine","supplier.products.actions":"Actions","supplier.products.edit":"Modifier","supplier.products.delete":"Supprimer","supplier.products.deleteConfirm":"tes-vous sr de vouloir supprimer ce produit ?","supplier.products.deleteSuccess":"Produit supprim avec succs","supplier.products.confirm.reset":"tes-vous sr de vouloir restaurer les produits par dfaut ? Tous vos produits ajouts seront perdus.","supplier.products.success.added":"Produit ajout avec succs","supplier.products.success.updated":"Produit mis  jour avec succs","supplier.products.success.deleted":"Produit supprim avec succs","supplier.products.success.reset":"Liste des produits restaure par dfaut","supplier.products.resetSuccess":"Liste des produits restaure par dfaut","supplier.products.addSuccess":"Produit ajout avec succs","supplier.products.updateSuccess":"Produit mis  jour avec succs","supplier.products.error.save":"Erreur lors de la sauvegarde","supplier.products.noProducts":"Aucun produit trouv","supplier.products.addFirstProduct":"Ajoutez votre premier produit pour commencer","supplier.customers.title":"Mes Clients","supplier.customers.subtitle":"Grez vos relations clients et suivez leur activit","supplier.customers.back":"Retour au tableau de bord","supplier.customers.searchPlaceholder":"Rechercher par nom, email ou entreprise...","supplier.customers.allStatuses":"Tous les statuts","supplier.customers.active":"Actif","supplier.customers.inactive":"Inactif","supplier.customers.totalCustomers":"Total clients","supplier.customers.activeCustomers":"Clients actifs","supplier.customers.newCustomers":"Nouveaux clients","supplier.customers.revenue":"Chiffre d'affaires","supplier.customers.name":"Nom","supplier.customers.email":"Email","supplier.customers.company":"Entreprise","supplier.customers.location":"Localisation","supplier.customers.joinDate":"Client depuis","supplier.customers.totalOrders":"Total commandes","supplier.customers.totalSpent":"Total dpens","supplier.customers.lastOrder":"Dernire commande","supplier.customers.status":"Statut","supplier.customers.actions":"Actions","supplier.customers.view":"Voir","supplier.customers.message":"Message","supplier.customers.loading":"Chargement...","supplier.customers.error":"Erreur lors du chargement des clients","supplier.messages.title":"Messages","supplier.messages.subtitle":"Communiquez avec vos clients","supplier.messages.back":"Retour au tableau de bord","supplier.messages.searchPlaceholder":"Rechercher un message...","supplier.messages.allTypes":"Tous les types","supplier.messages.inquiry":"Demande","supplier.messages.order":"Commande","supplier.messages.support":"Support","supplier.messages.totalMessages":"Total Messages","supplier.messages.unreadMessages":"Messages non lus","supplier.messages.respondedToday":"Rpondus aujourd'hui","supplier.messages.from":"De","supplier.messages.subject":"Sujet","supplier.messages.type":"Type","supplier.messages.date":"Date","supplier.messages.reply":"Rpondre","supplier.messages.loading":"Chargement...","supplier.messages.error":"Erreur lors du chargement des messages","supplier.documents.title":"Documents","supplier.documents.subtitle":"Grez vos documents et fichiers","supplier.documents.back":"Retour au tableau de bord","supplier.documents.searchPlaceholder":"Rechercher un document...","supplier.documents.allTypes":"Tous les types","supplier.documents.contract":"Contrat","supplier.documents.invoice":"Facture","supplier.documents.certificate":"Certificat","supplier.documents.manual":"Manuel","supplier.documents.other":"Autre","supplier.documents.allStatuses":"Tous les statuts","supplier.documents.approved":"Approuv","supplier.documents.pending":"En attente","supplier.documents.rejected":"Rejet","supplier.documents.uploadDocument":"Tlcharger un document","supplier.documents.totalDocuments":"Total Documents","supplier.documents.approvedDocuments":"Documents approuvs","supplier.documents.pendingApproval":"En attente d'approbation","supplier.documents.downloads":"Tlchargements","supplier.documents.document":"Document","supplier.documents.type":"Type","supplier.documents.size":"Taille","supplier.documents.uploadDate":"Date d'upload","supplier.documents.downloadCount":"Tlchargements","supplier.documents.status":"Statut","supplier.documents.actions":"Actions","supplier.documents.preview":"Prvisualiser","supplier.documents.download":"Tlcharger","supplier.documents.delete":"Supprimer","supplier.documents.confirm.delete":"tes-vous sr de vouloir supprimer ce document ?","supplier.documents.loading":"Chargement...","supplier.documents.error":"Erreur lors du chargement des documents","supplier.reviews.title":"Avis Clients","supplier.reviews.subtitle":"Consultez et rpondez aux avis de vos clients","supplier.reviews.back":"Retour au tableau de bord","supplier.reviews.searchPlaceholder":"Rechercher dans les avis...","supplier.reviews.allRatings":"Toutes les notes","supplier.reviews.5stars":"5 toiles","supplier.reviews.4stars":"4 toiles","supplier.reviews.3stars":"3 toiles","supplier.reviews.2stars":"2 toiles","supplier.reviews.1star":"1 toile","supplier.reviews.verified":"Vrifis","supplier.reviews.unverified":"Non vrifis","supplier.reviews.averageRating":"Note moyenne","supplier.reviews.totalReviews":"Total Avis","supplier.reviews.positiveReviews":"Avis positifs","supplier.reviews.responseRate":"Taux de rponse","supplier.reviews.customer":"Client","supplier.reviews.product":"Produit","supplier.reviews.rating":"Note","supplier.reviews.comment":"Commentaire","supplier.reviews.date":"Date","supplier.reviews.respond":"Rpondre","supplier.reviews.response":"Rponse du fournisseur","supplier.reviews.verified.badge":"Vrifi","supplier.reviews.helpful":"trouvent cet avis utile","supplier.reviews.loading":"Chargement...","supplier.reviews.error":"Erreur lors du chargement des avis","supplier.analytics.title":"Analyses","supplier.analytics.subtitle":"Analysez vos performances","supplier.analytics.back":"Retour au tableau de bord","supplier.analytics.period.1month":"1 mois","supplier.analytics.period.3months":"3 mois","supplier.analytics.period.6months":"6 mois","supplier.analytics.period.1year":"1 an","supplier.analytics.refresh":"Actualiser","supplier.analytics.export":"Exporter","supplier.analytics.revenue":"Chiffre d'affaires","supplier.analytics.orders":"Commandes","supplier.analytics.customers":"Nouveaux clients","supplier.analytics.productViews":"Vues produits","supplier.analytics.salesEvolution":"volution des ventes","supplier.analytics.vsLastMonth":"vs mois dernier","supplier.analytics.topProducts":"Produits les plus vendus","supplier.analytics.customerSatisfaction":"Satisfaction client","supplier.analytics.loading":"Chargement des donnes...","supplier.analytics.error":"Erreur lors du chargement des analyses","supplier.settings.title":"Paramtres","supplier.settings.subtitle":"Configurez votre compte et vos prfrences","supplier.settings.back":"Retour au tableau de bord","supplier.settings.company":"Entreprise","supplier.settings.profile":"Profil","supplier.settings.notifications":"Notifications","supplier.settings.security":"Scurit","supplier.settings.billing":"Facturation","supplier.settings.companyInfo":"Informations de l'entreprise","supplier.settings.companyName":"Nom de l'entreprise","supplier.settings.contactEmail":"Email de contact","supplier.settings.phone":"Tlphone","supplier.settings.address":"Adresse","supplier.settings.city":"Ville","supplier.settings.postalCode":"Code postal","supplier.settings.country":"Pays","supplier.settings.website":"Site web","supplier.settings.description":"Description de l'entreprise","supplier.settings.contactInfo":"Informations de contact","supplier.settings.contactName":"Nom du contact","supplier.settings.contactPhone":"Tlphone du contact","supplier.settings.position":"Poste","supplier.settings.emailNotifications":"Notifications par email","supplier.settings.pushNotifications":"Notifications push","supplier.settings.orderNotifications":"Nouvelles commandes","supplier.settings.messageNotifications":"Nouveaux messages","supplier.settings.reviewNotifications":"Nouveaux avis","supplier.settings.marketingNotifications":"Marketing","supplier.settings.twoFactorAuth":"Authentification  deux facteurs","supplier.settings.passwordExpiry":"Expiration du mot de passe","supplier.settings.sessionTimeout":"Dlai d'expiration de session","supplier.settings.changePassword":"Changer le mot de passe","supplier.settings.currentPassword":"Mot de passe actuel","supplier.settings.newPassword":"Nouveau mot de passe","supplier.settings.confirmPassword":"Confirmer le mot de passe","supplier.settings.save":"Enregistrer","supplier.settings.saveChanges":"Enregistrer les modifications","supplier.settings.cancel":"Annuler","supplier.settings.loading":"Chargement...","supplier.settings.saved":"Paramtres sauvegards","supplier.settings.error":"Erreur lors de la sauvegarde","search.filter.allCategories":"Toutes les catgories","search.filter.name":"Nom du produit","search.filter.category":"Catgorie","search.filter.moq":"Quantit minimum (MOQ)","search.filter.priceRange":"Fourchette de prix","search.filter.minPrice":"Prix minimum","search.filter.maxPrice":"Prix maximum","search.filter.ce":"Certifi CE","product.modal.addTitle":"Ajouter un produit","product.modal.editTitle":"Modifier le produit","product.modal.productName":"Nom du produit","product.modal.productNamePlaceholder":"Entrez le nom du produit","product.modal.productId":"ID Produit","product.modal.productIdPlaceholder":"Entrez l'ID du produit","product.modal.description":"Description","product.modal.descriptionPlaceholder":"Dcrivez votre produit...","product.modal.factoryPrice":"Prix d'usine (CNY)","product.modal.factoryPricePlaceholder":"Entrez le prix d'usine","product.modal.category":"Catgorie","product.modal.selectCategory":"Slectionnez une catgorie","product.modal.minOrder":"Commande minimum","product.modal.minOrderPlaceholder":"Quantit minimum de commande","product.modal.stockAvailable":"Stock disponible","product.modal.tags":"Tags","product.modal.addTag":"Ajouter un tag...","product.modal.specifications":"Spcifications techniques","product.modal.brand":"Marque","product.modal.brandPlaceholder":"Ex. Apple, Samsung...","product.modal.origin":"Origine","product.modal.originPlaceholder":"Ex. Chine, France...","product.modal.material":"Matriau","product.modal.materialPlaceholder":"Ex. Plastique, Mtal...","product.modal.modelNumber":"Numro de modle","product.modal.modelNumberPlaceholder":"Ex. iPHB-128","product.modal.images":"Images du produit","product.modal.dropImages":"Dposez vos images ici","product.modal.selectImages":"ou cliquez pour slectionner des images","product.modal.supportedFormats":"Formats accepts: JPG, JPEG, PNG, GIF | Taille max: 5MB par image","product.modal.maxImages":"Vous pouvez ajouter jusqu' 8 images. Formats accepts: JPG, PNG, GIF. Taille max par image.","product.modal.cancel":"Annuler","product.modal.save":"Sauvegarder",containers:"Conteneurs","containers.title":"Liste des conteneurs","containers.loading":"Chargement des conteneurs...","containers.error":"Erreur de chargement","containers.name":"Nom du conteneur","containers.departure":"Lieu de dpart","containers.arrival":"Lieu d'arrive","containers.estimatedDeparture":"Date de dpart estime","containers.status":"Statut","containers.status.active":"Actif","containers.status.closed":"Cltur","containers.capacity":"Capacit","containers.usedCapacity":"Capacit utilise","containers.availableCapacity":"Capacit disponible","containers.totalCapacity":"Capacit totale","containers.closedMessage":"Ce conteneur est cltur et n'est plus rservable.","containers.almostFullMessage":"Ce conteneur est presque plein, rservez vite !","containers.availableMessage":"Ce conteneur est disponible pour de nouvelles rservations.","preorder.title":"Prcommande d'espace conteneur","preorder.description":"Rservez votre espace dans ce conteneur avant qu'il ne soit complet.","preorder.quantity":"Quantit (CBM)","preorder.button":"Prcommander","preorder.confirm":"Confirmer la prcommande","preorder.cancel":"Annuler","preorder.success":"Votre prcommande a t enregistre avec succs !","preorder.availableCapacity":"Capacit disponible","preorder.terms":"J'accepte les conditions gnrales","preorder.termsRequired":"Vous devez accepter les conditions gnrales","containerItems.title":"Articles du conteneur","containerItems.productId":"ID Produit","containerItems.quantity":"Quantit","containerItems.userId":"Utilisateur","containerItems.loading":"Chargement des articles...","containerItems.error":"Erreur lors du chargement des articles","containerItems.noItems":"Aucun article dans ce conteneur","containerItems.addItem":"Ajouter un article",units:"units",cbm:"CBM",cancel:"Annuler",confirm:"Confirmer",close:"Fermer"},en:{home:"Home",search:"Search","search.placeholder":"Search for products...",dashboard:"Dashboard","nav.login":"Login",logout:"Logout",discover:"Discover","notifications.title":"Notifications","notifications.noNotifications":"No notifications","notifications.noNotificationsMessage":"You have no notifications at the moment","notifications.markAllAsRead":"Mark all as read","notifications.markAsRead":"Mark as read","notifications.refresh":"Refresh","notifications.filters":"Filters","notifications.status":"Status","notifications.type":"Type","notifications.all":"All","notifications.unread":"Unread","notifications.read":"Read","notifications.allTypes":"All types","notifications.orders":"Orders","notifications.payments":"Payments","notifications.shipments":"Shipments","notifications.system":"System","notifications.info":"Information","notifications.warnings":"Warnings","notifications.errors":"Errors","notifications.clearFilters":"Clear","notifications.loading":"Loading...","notifications.error":"Error loading notifications","notifications.seeDetails":"See details","notifications.timeAgo.now":"Just now","notifications.timeAgo.minutes":"{0} min ago","notifications.timeAgo.hours":"{0}h ago","notifications.timeAgo.days":"{0}d ago","notifications.priority.urgent":"Urgent","notifications.priority.high":"High","notifications.priority.medium":"Medium","notifications.priority.low":"Low","notifications.allLoaded":"All notifications have been loaded","notifications.count.singular":"{0} unread","notifications.count.plural":"{0} unread",email:"Email",password:"Password",confirmPassword:"Confirm Password",login:"Login",register:"Register",loginDescription:"Sign in to access your account",accountType:"Account Type","role.customer":"Customer","role.supplier":"Supplier","role.sourcer":"Sourcer","role.influencer":"Influencer",emailPlaceholder:"your@email.com",passwordPlaceholder:"",rememberMe:"Remember me",forgotPassword:"Forgot password?",loginButton:"Sign in",loggingIn:"Signing in...",createAccount:"Create Account",registerDescription:"Create your account to get started",fullName:"Full Name",yourNamePlaceholder:"Your full name",nameRequired:"Name is required",emailRequired:"Email is required",passwordMinLength:"Password must be at least 6 characters",passwordsDoNotMatch:"Passwords do not match",registrationError:"Registration error",creatingAccount:"Creating account...",createMyAccount:"Create My Account",hasAccountQuestion:"Already have an account?","role.customerTitle":"Customer","role.supplierTitle":"Supplier","role.sourcerTitle":"Sourcer","role.customerDescription":"Buy products from suppliers","role.supplierDescription":"Sell your products to customers","role.sourcerDescription":"Help customers find the best suppliers","common.optional":"Optional",fashion:"Fashion",tech:"Tech",beauty:"Beauty",sports:"Sports",mainAudience:"Main audience",mainAudiencePlaceholder:"Main country or region, average age",engagementRate:"Engagement rate",engagementRatePlaceholder:"Optional, useful for evaluating interaction",shareStatsAgreement:"I agree to share my detailed statistics on request",mediaKit:"Media kit",message:"Message",messagePlaceholder:"Briefly introduce yourself",socialMediaLinks:"Social media links",socialMediaLinksPlaceholder:"Instagram, TikTok, YouTube, etc.",followerCount:"Follower count",followerCountPlaceholder:"Number of followers for each network",category:"Influence category",emptyFields:"Please fill in all fields",loginError:"Login error",loginErrorTitle:"Login Error",registerNow:"Register now",noAccountQuestion:"Don't have an account?",termsAgreement:"By continuing, you accept our terms of use and privacy policy.",termsOfUse:"terms of use",privacyPolicy:"privacy policy",welcomeBack:"Welcome Back!",joinUs:"Join Us",loginSubtitle:"Sign in to access your space and discover the latest business opportunities",registerSubtitle:"Create your account and discover all business opportunities with China",signIn:"Sign In",signUp:"Sign Up",signInSubtitle:"Access your personal space",signUpSubtitle:"Create your account in a few steps",googleLoginError:"Google login error",orContinueWith:"Or continue with",signInWithGoogle:"Continue with Google",agreementPrefix:"By continuing, you accept our",agreementSuffix:".",and:"and",andOur:"and our",termsOfService:"terms of service",loginNow:"Login now","welcome.back":"Welcome back!","welcome.back.subtitle":"Sign in to access your space and discover the latest business opportunities with China.","welcome.join":"Join us!","welcome.join.subtitle":"Create your account and discover all business opportunities with China",registrationErrorTitle:"Registration Error","search.button":"Search","socialNetworkSelector.title":"Social Networks","socialNetworkSelector.subtitle":"Select your social networks","socialNetworkSelector.modalInfo":"A form will open to enter your links","socialNetworks.instagram":"Instagram","socialNetworks.tiktok":"TikTok","socialNetworks.youtube":"YouTube","socialNetworks.twitter":"X (Twitter)","socialNetworks.linkedin":"LinkedIn","socialNetworks.facebook":"Facebook","socialNetworks.twitch":"Twitch","socialMediaModal.title":"Your Profile Links","socialMediaModal.description":"Please provide the links to your profiles for each selected social network:","socialMediaModal.linkFor":"Link to your profile","socialMediaModal.urlRequired":"This field is required","socialMediaModal.invalidUrl":"Please enter a valid URL","socialMediaModal.invalidDomain":"The URL must contain the correct domain","socialMediaModal.close":"Close","socialMediaModal.cancel":"Cancel","socialMediaModal.save":"Validate","socialMediaValidation.noNetworkSelected":"Please select at least one social network","socialMediaValidation.noLinksProvided":"Please provide the links to your profiles","homepage.title":"Chine ton usine","homepage.subtitle":"YOU WILL","homepage.subtitle.highlight":"LOVE IT","homepage.tagline":"Love at first sight inevitable.","homepage.search.placeholder":"Search for a product, brand...","homepage.recommendations.badge":"Recommended","homepage.recommendations.title":"Recommended products for you","homepage.recommendations.subtitle":"Discover our personalized selection of products","homepage.categories.home":"Home","homepage.categories.electronics":"Electronics","homepage.categories.fashion":"Fashion","homepage.categories.home.category":"Home","homepage.categories.beauty":"Beauty","homepage.categories.sports":"Sports","homepage.categories.automotive":"Auto","homepage.categories.tools":"Tools","homepage.categories.toys":"Toys","homepage.categories.books":"Books","homepage.categories.music":"Music","homepage.categories.garden":"Garden","homepage.network.badge":"Global network","homepage.network.suppliers":"Over 1000 verified suppliers","homepage.cards.technology":"TECHNOLOGY","homepage.cards.electronics":"ELECTRONICS","homepage.cards.electronics.description":"Components & Gadgets","homepage.cards.explore":"Explore","homepage.cards.fashion.title":"FASHION & CLOTHING","homepage.cards.textile":"TEXTILE","homepage.cards.textile.description":"Premium Manufacturing","homepage.cards.industrial":"INDUSTRIAL EQUIPMENT","homepage.cards.machinery":"MACHINERY","homepage.cards.machinery.description":"Performance & Innovation","homepage.cards.decoration":"DECORATION & FURNITURE","homepage.cards.home.garden":"HOME & GARDEN","homepage.cards.home.garden.description":"Design & Comfort","homepage.cards.new":"New","homepage.cards.educational":"EDUCATIONAL & PLAYFUL","homepage.cards.toys.children":"TOYS & CHILDREN","homepage.cards.toys.description":"Certified Quality","homepage.cards.parts":"PARTS & ACCESSORIES","homepage.cards.auto.moto":"AUTO & MOTO","homepage.cards.auto.description":"Quality Parts","homepage.cta.title":"YOU WILL","homepage.cta.highlight":"LOVE IT","homepage.cta.subtitle":"Love at first sight inevitable.","homepage.cta.button":"Discover all suppliers","homepage.how.title":"How does it work?","homepage.how.subtitle":"Find your factory in China in just 3 steps","homepage.how.step1.title":"1. Search your products","homepage.how.step1.description":"Use our advanced filters to find exactly what you are looking for among millions of products.","homepage.how.step2.title":"2. Contact suppliers","homepage.how.step2.description":"Get in direct contact with verified and reliable Chinese factories, without intermediaries.","homepage.how.step3.title":"3. Order and import","homepage.how.step3.description":"Negotiate your prices, get samples and launch your order with peace of mind.","homepage.how.cta":"Create an account","homepage.discover.title":"DISCOVER ALL OUR","homepage.discover.highlight":"SUPPLIERS","homepage.discover.subtitle":"Thousands of verified suppliers are waiting for you.","homepage.discover.button":"Discover all suppliers","homepage.process.title":"How does it work?","homepage.process.subtitle":"Our platform connects you directly with the best Chinese suppliers","homepage.process.step1.title":"1. Explore","homepage.process.step1.description":"Browse our catalog of thousands of verified products and suppliers according to your needs.","homepage.process.step2.title":"2. Compare","homepage.process.step2.description":"Evaluate prices, quality, certifications and reviews to choose the best supplier.","homepage.process.step3.title":"3. Contact","homepage.process.step3.description":"Exchange directly with suppliers to negotiate prices and request samples.","homepage.process.step4.title":"4. Order","homepage.process.step4.description":"Finalize your order securely with our protected payment system.","homepage.process.cta":"Start now","homepage.final.title":"Ready to grow your business?","homepage.final.subtitle":"Start importing from China today.","homepage.final.button":"Create a free account","supplier.sidebar.title":"ChineTonUsine","supplier.sidebar.dashboard":"Dashboard","supplier.sidebar.products":"Products","supplier.sidebar.customers":"Customers","supplier.sidebar.messages":"Messages","supplier.sidebar.documents":"Documents","supplier.sidebar.reviews":"Reviews","supplier.sidebar.analytics":"Analytics","supplier.sidebar.settings":"Settings","supplier.companyName":"Company name","supplier.legalRegistrationNumber":"Legal registration number","supplier.website":"Website (optional)","supplier.productCategory":"Product category","supplier.categories.textile":"Textile","supplier.categories.electronics":"Electronics","supplier.categories.food":"Food & Agriculture","supplier.categories.machinery":"Machinery","supplier.categories.automotive":"Automotive","supplier.categories.beauty":"Beauty","supplier.categories.homeGarden":"Home & Garden","supplier.categories.toys":"Toys","supplier.categories.industrial":"Industrial","supplier.categories.other":"Other","supplier.monthlyProductionCapacity":"Monthly production capacity","supplier.productionCountryRegion":"Production country and region","supplier.certifications":"Certifications (ISO, CE, etc.)","supplier.qualityControlMethods":"Quality control methods","supplier.presentationVideo":"Presentation video or YouTube link (optional)","supplier.companyMessage":"Company presentation message","supplier.documents":"Company documents (certificates, catalogs, etc.)","supplier.agreeToVerification":"I agree to have my information verified","supplier.registration.message":"You will be contacted to finalize your supplier registration","supplier.registration.validation":"Your account will be validated manually by our team","supplier.registration.title":"Important Information","supplier.registration.submitButton":"Submit Request","sourcer.registration.message":"You will be contacted to finalize your sourcer registration","sourcer.registration.validation":"Your account will be validated manually by our team","sourcer.registration.title":"Important Information","sourcer.registration.submitButton":"Submit Request","supplier.dashboard.title":"Tableau de bord fournisseur","supplier.dashboard.overview":"Vue d'ensemble de votre activit","supplier.dashboard.totalProducts":"Produits totaux","supplier.dashboard.monthlyRevenue":"Chiffre d'affaires mensuel","supplier.dashboard.customerSatisfaction":"Satisfaction client","supplier.dashboard.viewAllProducts":"Voir tous les produits","supplier.dashboard.viewAnalytics":"Voir les analyses","supplier.dashboard.viewReviews":"Voir les avis","supplier.dashboard.importantAlerts":"Alertes importantes","supplier.dashboard.addProduct":"Ajouter un produit","supplier.dashboard.addProductDesc":"Crer une nouvelle fiche produit","supplier.dashboard.messages":"Messages","supplier.dashboard.threeNewMessages":"3 nouveaux messages","supplier.dashboard.documents":"Documents","supplier.dashboard.manageDocuments":"Grer vos documents","supplier.dashboard.salesPerformance":"Performance des ventes","supplier.dashboard.revenue":"Chiffre d'affaires","supplier.dashboard.last30Days":"30 derniers jours","supplier.dashboard.month":"Mois","supplier.dashboard.year":"Anne","supplier.dashboard.salesChart":"Graphique des ventes","supplier.dashboard.dataWillDisplay":"Les donnes seront affiches ici","fileUpload.dragDrop":"Glissez et dposez un fichier ici","fileUpload.orClick":"ou cliquez pour slectionner","fileUpload.applicationpdf":"PDF","fileUpload.imageall":"Images","fileUpload.remove":"Supprimer","fileUpload.title":"Kit mdia",containers:"Containers","containers.title":"Container List","containers.loading":"Loading containers...","containers.error":"Loading error","containers.name":"Container name","containers.departure":"Departure location","containers.arrival":"Arrival location","containers.estimatedDeparture":"Estimated departure date","containers.status":"Status","containers.status.active":"Active","containers.status.closed":"Closed","containers.capacity":"Capacity","containers.usedCapacity":"Used capacity","containers.availableCapacity":"Available capacity","containers.totalCapacity":"Total capacity","containers.closedMessage":"This container is closed and no longer bookable.","containers.almostFullMessage":"This container is almost full, book quickly!","containers.availableMessage":"This container is available for new reservations.","preorder.title":"Container Space Preorder","preorder.description":"Reserve your space in this container before it gets full.","preorder.quantity":"Quantity (CBM)","preorder.button":"Preorder","preorder.confirm":"Confirm preorder","preorder.cancel":"Cancel","preorder.success":"Your preorder has been successfully registered!","preorder.availableCapacity":"Available capacity","preorder.terms":"I accept the terms and conditions","preorder.termsRequired":"You must accept the terms and conditions","containerItems.title":"Container items","containerItems.productId":"Product ID","containerItems.quantity":"Quantity","containerItems.userId":"User","containerItems.loading":"Loading items...","containerItems.error":"Error loading items","containerItems.noItems":"No items in this container","containerItems.addItem":"Add item",units:"units",cbm:"CBM",cancel:"Cancel",confirm:"Confirm",close:"Close"},es:{home:"Inicio",search:"Buscar","search.placeholder":"Buscar productos...",dashboard:"Panel","nav.login":"Acceso",logout:"Cerrar sesin",discover:"Descubrir",email:"Correo electrnico",password:"Contrasea",confirmPassword:"Confirmar contrasea",login:"Acceso",register:"Registro",loginDescription:"Inicia sesin para acceder a tu cuenta",accountType:"Tipo de cuenta","role.customer":"Cliente","role.supplier":"Proveedor","role.sourcer":"Sourcer","role.influencer":"Influencer",emailPlaceholder:"tu@email.com",passwordPlaceholder:"",rememberMe:"Recordarme",forgotPassword:"Olvidaste la contrasea?",loginButton:"Iniciar sesin",loggingIn:"Iniciando sesin...",createAccount:"Crear cuenta",registerDescription:"Crea tu cuenta para comenzar",fullName:"Nombre completo",yourNamePlaceholder:"Tu nombre completo",nameRequired:"El nombre es obligatorio",emailRequired:"El email es obligatorio",passwordMinLength:"La contrasea debe tener al menos 6 caracteres",passwordsDoNotMatch:"Las contraseas no coinciden",registrationError:"Error de registro",creatingAccount:"Creando cuenta...",createMyAccount:"Crear mi cuenta",hasAccountQuestion:"Ya tienes una cuenta?","role.customerTitle":"Cliente","role.supplierTitle":"Proveedor","role.sourcerTitle":"Sourcer","role.customerDescription":"Comprar productos a proveedores","role.supplierDescription":"Vender tus productos a clientes","role.sourcerDescription":"Ayudar a los clientes a encontrar los mejores proveedores",emptyFields:"Por favor, rellene todos los campos",loginError:"Error de inicio de sesin",loginErrorTitle:"Error de inicio de sesin",registerNow:"Registrarse ahora",noAccountQuestion:"No tienes una cuenta?",termsOfUse:"trminos de uso",privacyPolicy:"poltica de privacidad",googleLoginError:"Error de inicio de sesin con Google",orContinueWith:"O continuar con",signInWithGoogle:"Continuar con Google",agreementPrefix:"Al continuar, aceptas nuestros",agreementSuffix:".",and:"y",andOur:"y nuestra",termsOfService:"trminos de servicio",loginNow:"Iniciar sesin ahora",registrationErrorTitle:"Error de registro",containers:"Contenedores","containers.title":"Lista de contenedores","containers.loading":"Cargando contenedores...","containers.error":"Error de carga","containers.name":"Nombre del contenedor","containers.departure":"Lugar de salida","containers.arrival":"Lugar de llegada","containers.estimatedDeparture":"Fecha estimada de salida","containers.status":"Estado","containers.status.active":"Activo","containers.status.closed":"Cerrado","containers.capacity":"Capacidad","containers.usedCapacity":"Capacidad utilizada","containers.availableCapacity":"Capacidad disponible","containers.totalCapacity":"Capacidad total","containers.closedMessage":"Este contenedor est cerrado y ya no se puede reservar.","containers.almostFullMessage":"Este contenedor est casi lleno, reserva rpido!","containers.availableMessage":"Este contenedor est disponible para nuevas reservas.","preorder.title":"Preorden de espacio en contenedor","preorder.description":"Reserva tu espacio en este contenedor antes de que se llene.","preorder.quantity":"Cantidad (CBM)","preorder.button":"Preordenar","preorder.confirm":"Confirmar preorden","preorder.cancel":"Cancelar","preorder.success":"Tu preorden ha sido registrada con xito!","preorder.availableCapacity":"Capacidad disponible","preorder.terms":"Acepto los trminos y condiciones","preorder.termsRequired":"Debes aceptar los trminos y condiciones","containerItems.title":"Artculos del contenedor","containerItems.productId":"ID del producto","containerItems.quantity":"Cantidad","containerItems.userId":"Usuario","containerItems.loading":"Cargando artculos...","containerItems.error":"Error al cargar artculos","containerItems.noItems":"No hay artculos en este contenedor","containerItems.addItem":"Agregar artculo",units:"unidades",cbm:"CBM",cancel:"Cancelar",confirm:"Confirmar",close:"Cerrar"},ar:{home:"",search:"","search.placeholder":"  ...",dashboard:" ","nav.login":" ",logout:" ",discover:"",email:" ",password:" ",confirmPassword:"  ",login:" ",register:"",loginDescription:"    ",accountType:" ","role.customer":"","role.supplier":"","role.sourcer":"","role.influencer":"",emailPlaceholder:"@.com",passwordPlaceholder:"",rememberMe:"",forgotPassword:"  ",loginButton:" ",loggingIn:"  ...",createAccount:" ",registerDescription:"  ",fullName:" ",yourNamePlaceholder:" ",nameRequired:" ",emailRequired:"  ",passwordMinLength:"      6   ",passwordsDoNotMatch:"   ",registrationError:"  ",creatingAccount:"  ...",createMyAccount:" ",hasAccountQuestion:"   ","role.customerTitle":"","role.supplierTitle":"","role.sourcerTitle":"","role.customerDescription":"   ","role.supplierDescription":"  ","role.sourcerDescription":"      ",emptyFields:"   ",loginError:"   ",loginErrorTitle:"   ",registerNow:" ",noAccountQuestion:"  ",termsOfUse:" ",privacyPolicy:" ",googleLoginError:"    ",orContinueWith:"  ",signInWithGoogle:"  ",agreementPrefix:"   ",agreementSuffix:".",and:"",andOur:"",termsOfService:" ",loginNow:"  ",registrationErrorTitle:"  ",containers:"","containers.title":" ","containers.loading":"  ...","containers.error":"  ","containers.name":" ","containers.departure":" ","containers.arrival":" ","containers.estimatedDeparture":"  ","containers.status":"","containers.status.active":"","containers.status.closed":"","containers.capacity":"","containers.usedCapacity":" ","containers.availableCapacity":" ","containers.totalCapacity":" ","containers.closedMessage":"       .","containers.almostFullMessage":"     !","containers.availableMessage":"    .","preorder.title":"   ","preorder.description":"       .","preorder.quantity":" ( )","preorder.button":" ","preorder.confirm":"  ","preorder.cancel":"","preorder.success":"    !","preorder.availableCapacity":" ","preorder.terms":"   ","preorder.termsRequired":"     ","containerItems.title":" ","containerItems.productId":" ","containerItems.quantity":"","containerItems.userId":"","containerItems.loading":"  ...","containerItems.error":"   ","containerItems.noItems":"     ","containerItems.addItem":" ",units:"",cbm:" ",cancel:"",confirm:"",close:""},zh:{home:"",search:"","search.placeholder":"...",dashboard:"","nav.login":"",logout:"",discover:"",email:"",password:"",confirmPassword:"",login:"",register:"",loginDescription:"",accountType:"","role.customer":"","role.supplier":"","role.sourcer":"","role.influencer":"",emailPlaceholder:"@.com",passwordPlaceholder:"",rememberMe:"",forgotPassword:"",loginButton:"",loggingIn:"...",createAccount:"",registerDescription:"",fullName:"",yourNamePlaceholder:"",nameRequired:"",emailRequired:"",passwordMinLength:"6",passwordsDoNotMatch:"",registrationError:"",creatingAccount:"...",createMyAccount:"",hasAccountQuestion:"","role.customerTitle":"","role.supplierTitle":"","role.sourcerTitle":"","role.customerDescription":"","role.supplierDescription":"","role.sourcerDescription":"",emptyFields:"",loginError:"",loginErrorTitle:"",registerNow:"",noAccountQuestion:"",termsOfUse:"",privacyPolicy:"",googleLoginError:"",orContinueWith:"",signInWithGoogle:"",agreementPrefix:"",agreementSuffix:"",and:"",andOur:"",termsOfService:"",loginNow:"",registrationErrorTitle:"",containers:"","containers.title":"","containers.loading":"...","containers.error":"","containers.name":"","containers.departure":"","containers.arrival":"","containers.estimatedDeparture":"","containers.status":"","containers.status.active":"","containers.status.closed":"","containers.capacity":"","containers.usedCapacity":"","containers.availableCapacity":"","containers.totalCapacity":"","containers.closedMessage":"","containers.almostFullMessage":"","containers.availableMessage":"","preorder.title":"","preorder.description":"","preorder.quantity":"","preorder.button":"","preorder.confirm":"","preorder.cancel":"","preorder.success":"","preorder.availableCapacity":"","preorder.terms":"","preorder.termsRequired":"","containerItems.title":"","containerItems.productId":"ID","containerItems.quantity":"","containerItems.userId":"","containerItems.loading":"...","containerItems.error":"","containerItems.noItems":"","containerItems.addItem":"",units:"",cbm:"",cancel:"",confirm:"",close:""},pt:{home:"Incio",search:"Pesquisar","search.placeholder":"Pesquisar produtos...",dashboard:"Painel","nav.login":"Entrar",logout:"Sair",discover:"Descobrir",email:"Email",password:"Senha",confirmPassword:"Confirmar senha",login:"Entrar",register:"Registrar",loginDescription:"Entre para acessar sua conta",accountType:"Tipo de conta","role.customer":"Cliente","role.supplier":"Fornecedor","role.sourcer":"Sourcer","role.influencer":"Influenciador",emailPlaceholder:"seu@email.com",passwordPlaceholder:"",rememberMe:"Lembrar de mim",forgotPassword:"Esqueceu a senha?",loginButton:"Entrar",loggingIn:"Entrando...",createAccount:"Criar conta",registerDescription:"Crie sua conta para comear",fullName:"Nome completo",yourNamePlaceholder:"Seu nome completo",nameRequired:"Nome  obrigatrio",emailRequired:"Email  obrigatrio",passwordMinLength:"A senha deve ter pelo menos 6 caracteres",passwordsDoNotMatch:"As senhas no coincidem",registrationError:"Erro de registro",creatingAccount:"Criando conta...",createMyAccount:"Criar minha conta",hasAccountQuestion:"J tem uma conta?","role.customerTitle":"Cliente","role.supplierTitle":"Fornecedor","role.sourcerTitle":"Sourcer","role.customerDescription":"Comprar produtos de fornecedores","role.supplierDescription":"Vender seus produtos para clientes","role.sourcerDescription":"Ajudar clientes a encontrar os melhores fornecedores",emptyFields:"Por favor, preencha todos os campos",loginError:"Erro de login",loginErrorTitle:"Erro de login",registerNow:"Registrar agora",noAccountQuestion:"No tem uma conta?",termsOfUse:"termos de uso",privacyPolicy:"poltica de privacidade",googleLoginError:"Erro de login do Google",orContinueWith:"Ou continue com",signInWithGoogle:"Continue com Google",agreementPrefix:"Ao continuar, voc aceita nossos",agreementSuffix:".",and:"e",andOur:"e nossa",termsOfService:"termos de servio",loginNow:"Entrar agora",registrationErrorTitle:"Erro de registro",containers:"Contineres","containers.title":"Lista de contineres","containers.loading":"Carregando contineres...","containers.error":"Erro de carregamento","containers.name":"Nome do continer","containers.departure":"Local de partida","containers.arrival":"Local de chegada","containers.estimatedDeparture":"Data estimada de partida","containers.status":"Status","containers.status.active":"Ativo","containers.status.closed":"Fechado","containers.capacity":"Capacidade","containers.usedCapacity":"Capacidade utilizada","containers.availableCapacity":"Capacidade disponvel","containers.totalCapacity":"Capacidade total","containers.closedMessage":"Este continer est fechado e no pode mais ser reservado.","containers.almostFullMessage":"Este continer est quase cheio, reserve rapidamente!","containers.availableMessage":"Este continer est disponvel para novas reservas.","preorder.title":"Pr-pedido de espao em continer","preorder.description":"Reserve seu espao neste continer antes que fique cheio.","preorder.quantity":"Quantidade (CBM)","preorder.button":"Pr-pedir","preorder.confirm":"Confirmar pr-pedido","preorder.cancel":"Cancelar","preorder.success":"Seu pr-pedido foi registrado com sucesso!","preorder.availableCapacity":"Capacidade disponvel","preorder.terms":"Aceito os termos e condies","preorder.termsRequired":"Voc deve aceitar os termos e condies","containerItems.title":"Itens do continer","containerItems.productId":"ID do produto","containerItems.quantity":"Quantidade","containerItems.userId":"Usurio","containerItems.loading":"Carregando itens...","containerItems.error":"Erro ao carregar itens","containerItems.noItems":"Nenhum item neste continer","containerItems.addItem":"Adicionar item",units:"unidades",cbm:"CBM",cancel:"Cancelar",confirm:"Confirmar",close:"Fechar"},nl:{home:"Home",search:"Zoeken","search.placeholder":"Zoek naar producten...",dashboard:"Dashboard","nav.login":"Inloggen",logout:"Uitloggen",discover:"Ontdekken",email:"Email",password:"Wachtwoord",confirmPassword:"Bevestig wachtwoord",login:"Inloggen",register:"Registreren",loginDescription:"Log in om toegang te krijgen tot uw account",accountType:"Accounttype","role.customer":"Klant","role.supplier":"Leverancier","role.sourcer":"Sourcer","role.influencer":"Influencer",emailPlaceholder:"uw@email.com",passwordPlaceholder:"",rememberMe:"Onthoud mij",forgotPassword:"Wachtwoord vergeten?",loginButton:"Inloggen",loggingIn:"Inloggen...",createAccount:"Account aanmaken",registerDescription:"Maak uw account aan om te beginnen",fullName:"Volledige naam",yourNamePlaceholder:"Uw volledige naam",nameRequired:"Naam is verplicht",emailRequired:"Email is verplicht",passwordMinLength:"Wachtwoord moet minimaal 6 tekens hebben",passwordsDoNotMatch:"Wachtwoorden komen niet overeen",registrationError:"Registratiefout",creatingAccount:"Account aanmaken...",createMyAccount:"Mijn account aanmaken",hasAccountQuestion:"Heeft u al een account?","role.customerTitle":"Klant","role.supplierTitle":"Leverancier","role.sourcerTitle":"Sourcer","role.customerDescription":"Producten kopen van leveranciers","role.supplierDescription":"Uw producten verkopen aan klanten","role.sourcerDescription":"Klanten helpen de beste leveranciers te vinden",emptyFields:"Vul alle velden in",loginError:"Inlogfout",loginErrorTitle:"Inlogfout",registerNow:"Nu registreren",noAccountQuestion:"Geen account?",termsOfUse:"gebruiksvoorwaarden",privacyPolicy:"privacybeleid",googleLoginError:"Google inlogfout",orContinueWith:"Of ga verder met",signInWithGoogle:"Ga verder met Google",agreementPrefix:"Door verder te gaan, accepteert u onze",agreementSuffix:".",and:"en",andOur:"en ons",termsOfService:"servicevoorwaarden",loginNow:"Nu inloggen",registrationErrorTitle:"Registratiefout",containers:"Containers","containers.title":"Container lijst","containers.loading":"Containers laden...","containers.error":"Laadfout","containers.name":"Container naam","containers.departure":"Vertreklocatie","containers.arrival":"Aankomstlocatie","containers.estimatedDeparture":"Geschatte vertrekdatum","containers.status":"Status","containers.status.active":"Actief","containers.status.closed":"Gesloten","containers.capacity":"Capaciteit","containers.usedCapacity":"Gebruikte capaciteit","containers.availableCapacity":"Beschikbare capaciteit","containers.totalCapacity":"Totale capaciteit","containers.closedMessage":"Deze container is gesloten en kan niet meer gereserveerd worden.","containers.almostFullMessage":"Deze container is bijna vol, reserveer snel!","containers.availableMessage":"Deze container is beschikbaar voor nieuwe reserveringen.","preorder.title":"Container ruimte voorbestelling","preorder.description":"Reserveer uw ruimte in deze container voordat deze vol is.","preorder.quantity":"Hoeveelheid (CBM)","preorder.button":"Voorbestellen","preorder.confirm":"Voorbestelling bevestigen","preorder.cancel":"Annuleren","preorder.success":"Uw voorbestelling is succesvol geregistreerd!","preorder.availableCapacity":"Beschikbare capaciteit","preorder.terms":"Ik accepteer de algemene voorwaarden","preorder.termsRequired":"U moet de algemene voorwaarden accepteren","containerItems.title":"Container items","containerItems.productId":"Product ID","containerItems.quantity":"Hoeveelheid","containerItems.userId":"Gebruiker","containerItems.loading":"Items laden...","containerItems.error":"Fout bij het laden van items","containerItems.noItems":"Geen items in deze container","containerItems.addItem":"Item toevoegen",units:"eenheden",cbm:"CBM",cancel:"Annuleren",confirm:"Bevestigen",close:"Sluiten"}},CL={fr:"Franais",en:"English",es:"Espaol",ar:"",zh:"",pt:"Portugus",nl:"Nederlands"},OS=U.createContext(void 0),IL=({children:n})=>{const[e,t]=U.useState("fr"),{user:i}=nl();U.useEffect(()=>{const p=localStorage.getItem("language");p&&Object.keys(_c).includes(p)?t(p):i?.language&&t(i.language)},[i]);const a=p=>{t(p),localStorage.setItem("language",p)},l=(p,m)=>{let y=_c[e]?.[p];if(y&&typeof y=="string")return m?y.replace(/\{(\d+)\}/g,(T,I)=>{const x=parseInt(I);return m[x]?.toString()||T}):y;const w=p.split(".");y=_c[e];for(const T of w)if(y&&typeof y=="object"&&T in y)y=y[T];else{y=null;break}if(y===null||typeof y!="string"){if(y=_c.fr?.[p],y&&typeof y=="string")return m?y.replace(/\{(\d+)\}/g,(T,I)=>{const x=parseInt(I);return m[x]?.toString()||T}):y;y=_c.fr;for(const T of w)if(y&&typeof y=="object"&&T in y)y=y[T];else return p}return typeof y!="string"?p:m?y.replace(/\{(\d+)\}/g,(T,I)=>{const x=parseInt(I);return m[x]?.toString()||T}):y},u=["fr","en","es","ar","zh","pt","nl"],f=p=>CL[p]||p;return v.jsx(OS.Provider,{value:{language:e,setLanguage:a,t:l,availableLanguages:u,getLanguageName:f},children:n})},mf=()=>{const n=U.useContext(OS);if(n===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return n},NL={CNY:1,EUR:.13,USD:.14,GBP:.11,AED:.51},Cw=(n,e="EUR")=>e==="CNY"?n:parseFloat((n*NL[e]).toFixed(2)),Hd=(n,e="EUR")=>new Intl.NumberFormat(void 0,{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(n),Ec=n=>({CNY:"Yuan chinois",EUR:"Euro",USD:"Dollar amricain",GBP:"Livre sterling",AED:"Dirham (AED)"})[n],PS=U.createContext(void 0),DL=({children:n})=>{const[e,t]=U.useState("EUR");U.useEffect(()=>{const l=localStorage.getItem("currency");l&&["EUR","USD","GBP","CNY","AED"].includes(l)&&t(l)},[]);const i=l=>{t(l),localStorage.setItem("currency",l)},a={CNY:Ec("CNY"),EUR:Ec("EUR"),USD:Ec("USD"),GBP:Ec("GBP"),AED:Ec("AED")};return v.jsx(PS.Provider,{value:{currency:e,setCurrency:i,currencyNames:a},children:n})},MS=()=>{const n=U.useContext(PS);if(n===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return n},VS=U.createContext(void 0),kL=({children:n})=>{const[e,t]=U.useState(!1);U.useEffect(()=>{const a=localStorage.getItem("theme"),l=window.matchMedia("(prefers-color-scheme: dark)").matches;t(a==="dark"||!a&&l)},[]),U.useEffect(()=>{const a=window.document.documentElement;e?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",e?"dark":"light")},[e]);const i=()=>{t(!e)};return v.jsx(VS.Provider,{value:{isDarkMode:e,toggleTheme:i},children:n})},OL=()=>{const n=U.useContext(VS);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},PL=()=>{const[n,e]=U.useState([]),t=U.useCallback((p,m)=>{const y=Math.random().toString(36).substr(2,9);e(w=>[...w,{id:y,type:p,message:m}])},[]),i=U.useCallback(p=>{e(m=>m.filter(y=>y.id!==p))},[]),a=U.useCallback(p=>t("success",p),[t]),l=U.useCallback(p=>t("error",p),[t]),u=U.useCallback(p=>t("warning",p),[t]),f=U.useCallback(p=>t("info",p),[t]);return{toasts:n,removeToast:i,success:a,error:l,warning:u,info:f}};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Iw=n=>{const e=VL(n);return e.charAt(0).toUpperCase()+e.slice(1)},LS=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),LL=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},p)=>U.createElement("svg",{ref:p,...UL,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:LS("lucide",a),...!l&&!LL(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,y])=>U.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(n,e)=>{const t=U.forwardRef(({className:i,...a},l)=>U.createElement(jL,{ref:l,iconNode:e,className:LS(`lucide-${ML(Iw(n))}`,`lucide-${n}`,i),...a}));return t.displayName=Iw(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dh=Oe("bell",zL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Nw=Oe("building-2",BL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],FL=Oe("chart-no-axes-column",qL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],GL=Oe("check-check",HL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],KL=Oe("check",$L);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dg=Oe("circle-alert",QL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],n0=Oe("circle-check-big",YL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],US=Oe("circle-x",XL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],bc=Oe("clipboard-list",WL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jS=Oe("clock",JL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],e6=Oe("coins",ZL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],n6=Oe("credit-card",t6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],i6=Oe("external-link",r6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],a6=Oe("file-text",s6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],l6=Oe("funnel",o6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zS=Oe("globe",c6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],kg=Oe("heart",u6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],h6=Oe("house",d6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Dw=Oe("info",f6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],m6=Oe("key-round",p6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kw=Oe("loader-circle",g6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],v6=Oe("lock",y6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E6=Oe("log-out",_6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],w6=Oe("map-pin",b6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],BS=Oe("moon",T6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Og=Oe("package",A6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],x6=Oe("rotate-ccw",S6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],C6=Oe("search",R6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r0=Oe("settings",I6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ow=Oe("shield-check",N6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],i0=Oe("shopping-bag",D6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],O6=Oe("shopping-cart",k6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pw=Oe("star",P6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],V6=Oe("sun",M6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U6=Oe("triangle-alert",L6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],qS=Oe("truck",j6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kh=Oe("user",z6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],FS=Oe("users",B6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gf=Oe("x",q6),F6=({type:n,message:e,onClose:t,duration:i=5e3})=>{const[a,l]=U.useState(!0);U.useEffect(()=>{const y=setTimeout(()=>{l(!1),setTimeout(t,300)},i);return()=>clearTimeout(y)},[i,t]);const u={success:n0,error:US,warning:Dg,info:Dg},f={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},p={success:"text-green-500",error:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"},m=u[n];return v.jsx("div",{className:`
        fixed top-4 right-4 z-50 max-w-sm w-full
        transform transition-all duration-300 ease-in-out
        ${a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:v.jsx("div",{className:`border rounded-lg p-4 shadow-lg ${f[n]}`,children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(m,{className:`h-5 w-5 mt-0.5 mr-3 flex-shrink-0 ${p[n]}`}),v.jsx("div",{className:"flex-1",children:v.jsx("p",{className:"text-sm font-medium",children:e})}),v.jsx("button",{onClick:()=>{l(!1),setTimeout(t,300)},className:"ml-3 flex-shrink-0 text-gray-400 hover:text-gray-600",children:v.jsx(gf,{className:"h-4 w-4"})})]})})})},H6=U.createContext(void 0),G6=({children:n})=>{const{toasts:e,removeToast:t,success:i,error:a,warning:l,info:u}=PL();return v.jsxs(H6.Provider,{value:{success:i,error:a,warning:l,info:u},children:[n,e.map(f=>v.jsx(F6,{type:f.type,message:f.message,onClose:()=>t(f.id)},f.id))]})},$6=U.createContext(void 0),K6=({children:n})=>{const[e,t]=U.useState([]),i=u=>{const f={...u,id:Math.random().toString(36).substr(2,9),timestamp:new Date};t(p=>[...p,f]),setTimeout(()=>{a(f.id)},5e3)},a=u=>{t(f=>f.filter(p=>p.id!==u))},l=()=>{t([])};return v.jsxs($6.Provider,{value:{notifications:e,addNotification:i,removeNotification:a,clearNotifications:l},children:[n,v.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(u=>v.jsx("div",{className:`p-4 rounded-lg shadow-lg transform transition-all duration-300 ${u.type==="success"?"bg-green-500":u.type==="error"?"bg-red-500":u.type==="warning"?"bg-yellow-500":"bg-blue-500"} text-white`,children:v.jsxs("div",{className:"flex items-start",children:[v.jsxs("div",{className:"flex-1",children:[u.title&&v.jsx("h3",{className:"font-semibold",children:u.title}),v.jsx("p",{children:u.message})]}),v.jsx("button",{onClick:()=>a(u.id),className:"ml-4 text-white hover:text-gray-200",children:v.jsx(gf,{className:"h-5 w-5"})})]})},u.id))})]})},HS=U.createContext(void 0),Mw="chine-ton-usine-favorites",Q6=({children:n})=>{const[e,t]=U.useState(new Set);U.useEffect(()=>{const y=localStorage.getItem(Mw);if(y)try{const w=JSON.parse(y);t(new Set(w))}catch(w){console.error("Erreur lors du chargement des favoris:",w)}},[]),U.useEffect(()=>{localStorage.setItem(Mw,JSON.stringify(Array.from(e)))},[e]);const i=y=>{t(w=>new Set(w).add(y))},a=y=>{t(w=>{const T=new Set(w);return T.delete(y),T})},m={favorites:e,addToFavorites:i,removeFromFavorites:a,toggleFavorite:y=>{e.has(y)?a(y):i(y)},isFavorite:y=>e.has(y),getFavoriteProducts:()=>Array.from(e),clearFavorites:()=>{t(new Set)}};return v.jsx(HS.Provider,{value:m,children:n})},P3=()=>{const n=U.useContext(HS);if(!n)throw new Error("useFavorites must be used within a FavoritesProvider");return n},GS=U.createContext(void 0),Vw="chine-ton-usine-quote",Y6=({children:n})=>{const[e,t]=U.useState([]);U.useEffect(()=>{const x=localStorage.getItem(Vw);if(x)try{const R=JSON.parse(x).map(P=>({...P,addedAt:new Date(P.addedAt)}));t(R)}catch(D){console.error("Erreur lors du chargement du devis:",D)}},[]),U.useEffect(()=>{localStorage.setItem(Vw,JSON.stringify(e))},[e]);const i=(x,D,R={})=>{let P=x.price,Q=P*D;return x.discount&&D>=x.discount.minQty&&(Q=Q*(1-x.discount.percentage/100)),{unitPrice:P,totalPrice:Q}},I={items:e,addToQuote:(x,D,R={})=>{const P=e.findIndex(oe=>oe.productId===x.id),{unitPrice:Q,totalPrice:W}=i(x,D,R);if(P>=0)t(oe=>oe.map((ae,pe)=>pe===P?{...ae,quantity:D,variants:R,unitPrice:Q,totalPrice:W,addedAt:new Date}:ae));else{const oe={productId:x.id,product:x,quantity:D,variants:R,unitPrice:Q,totalPrice:W,addedAt:new Date};t(ae=>[...ae,oe])}},removeFromQuote:x=>{t(D=>D.filter(R=>R.productId!==x))},updateQuantity:(x,D)=>{t(R=>R.map(P=>{if(P.productId===x){const{unitPrice:Q,totalPrice:W}=i(P.product,D,P.variants);return{...P,quantity:D,unitPrice:Q,totalPrice:W}}return P}))},updateVariants:(x,D)=>{t(R=>R.map(P=>{if(P.productId===x){const{unitPrice:Q,totalPrice:W}=i(P.product,P.quantity,D);return{...P,variants:D,unitPrice:Q,totalPrice:W}}return P}))},getItemQuantity:x=>{const D=e.find(R=>R.productId===x);return D?D.quantity:0},getTotalItems:()=>e.reduce((x,D)=>x+D.quantity,0),getTotalPrice:()=>e.reduce((x,D)=>x+D.totalPrice,0),clearQuote:()=>{t([])},isInQuote:x=>e.some(D=>D.productId===x)};return v.jsx(GS.Provider,{value:I,children:n})},M3=()=>{const n=U.useContext(GS);if(!n)throw new Error("useQuote must be used within a QuoteProvider");return n},X6=({message:n,type:e,icon:t,duration:i=3e3,onClose:a})=>{const[l,u]=U.useState(!0);U.useEffect(()=>{const y=setTimeout(()=>{u(!1),setTimeout(()=>a?.(),300)},i);return()=>clearTimeout(y)},[i,a]);const f=()=>{u(!1),setTimeout(()=>a?.(),300)},p=()=>{switch(t){case"heart":return v.jsx(kg,{size:20,fill:"currentColor"});case"cart":return v.jsx(O6,{size:20});default:return v.jsx(KL,{size:20})}},m=()=>{switch(e){case"success":return"bg-green-500 text-white";case"error":return"bg-red-500 text-white";default:return"bg-blue-500 text-white"}};return v.jsx("div",{className:`fixed top-4 right-4 z-50 transition-all duration-300 transform ${l?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:v.jsxs("div",{className:`${m()} px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px]`,children:[p(),v.jsx("span",{className:"flex-1 font-medium",children:n}),v.jsx("button",{onClick:f,className:"p-1 hover:bg-white/20 rounded transition-colors",children:v.jsx(gf,{size:16})})]})})},$S=Ue.createContext(void 0),V3=()=>{const n=Ue.useContext($S);if(!n)throw new Error("useToast must be used within a ToastProvider");return n},W6=({children:n})=>{const[e,t]=U.useState([]),[i,a]=U.useState(1),l=(f,p="success",m)=>{const y=i;a(w=>w+1),t(w=>[...w,{id:y,message:f,type:p,icon:m}])},u=f=>{t(p=>p.filter(m=>m.id!==f))};return v.jsxs($S.Provider,{value:{showToast:l},children:[n,e.map((f,p)=>v.jsx("div",{style:{top:`${16+p*80}px`},children:v.jsx(X6,{message:f.message,type:f.type,icon:f.icon,onClose:()=>u(f.id)})},f.id))]})},lt=({children:n,allowedRoles:e,redirectTo:t="/login"})=>{const{user:i,loading:a}=nl();if(a)return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-700 mx-auto"}),v.jsx("p",{className:"mt-4 text-gray-600",children:"Vrification des permissions..."})]})});if(!i)return v.jsx(oh,{to:t,replace:!0});if(!e.includes(i.role)){const l={admin:"/admin/dashboard",supplier:"/supplier/dashboard",customer:"/dashboard",sourcer:"/sourcer/dashboard",influencer:"/sourcer/dashboard"};return v.jsx(oh,{to:l[i.role],replace:!0})}return v.jsx(v.Fragment,{children:n})},KS=({size:n="md",message:e,className:t=""})=>{const i={sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16"};return v.jsxs("div",{className:`flex flex-col items-center justify-center ${t}`,children:[v.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-blue-700 ${i[n]}`}),e&&v.jsx("p",{className:"mt-4 text-gray-600 text-center",children:e})]})};function QS(n,e){return function(){return n.apply(e,arguments)}}const{toString:J6}=Object.prototype,{getPrototypeOf:s0}=Object,{iterator:yf,toStringTag:YS}=Symbol,vf=(n=>e=>{const t=J6.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),_r=n=>(n=n.toLowerCase(),e=>vf(e)===n),_f=n=>e=>typeof e===n,{isArray:rl}=Array,Qc=_f("undefined");function Z6(n){return n!==null&&!Qc(n)&&n.constructor!==null&&!Qc(n.constructor)&&Rn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const XS=_r("ArrayBuffer");function eU(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&XS(n.buffer),e}const tU=_f("string"),Rn=_f("function"),WS=_f("number"),Ef=n=>n!==null&&typeof n=="object",nU=n=>n===!0||n===!1,rh=n=>{if(vf(n)!=="object")return!1;const e=s0(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(YS in n)&&!(yf in n)},rU=_r("Date"),iU=_r("File"),sU=_r("Blob"),aU=_r("FileList"),oU=n=>Ef(n)&&Rn(n.pipe),lU=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Rn(n.append)&&((e=vf(n))==="formdata"||e==="object"&&Rn(n.toString)&&n.toString()==="[object FormData]"))},cU=_r("URLSearchParams"),[uU,dU,hU,fU]=["ReadableStream","Request","Response","Headers"].map(_r),pU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),rl(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),u=l.length;let f;for(i=0;i<u;i++)f=l[i],e.call(null,n[f],f,n)}}function JS(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZS=n=>!Qc(n)&&n!==va;function Pg(){const{caseless:n}=ZS(this)&&this||{},e={},t=(i,a)=>{const l=n&&JS(e,a)||a;rh(e[l])&&rh(i)?e[l]=Pg(e[l],i):rh(i)?e[l]=Pg({},i):rl(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&cu(arguments[i],t);return e}const mU=(n,e,t,{allOwnKeys:i}={})=>(cu(e,(a,l)=>{t&&Rn(a)?n[l]=QS(a,t):n[l]=a},{allOwnKeys:i}),n),gU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),yU=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},vU=(n,e,t,i)=>{let a,l,u;const f={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)u=a[l],(!i||i(u,n,e))&&!f[u]&&(e[u]=n[u],f[u]=!0);n=t!==!1&&s0(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},_U=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},EU=n=>{if(!n)return null;if(rl(n))return n;let e=n.length;if(!WS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},bU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&s0(Uint8Array)),wU=(n,e)=>{const i=(n&&n[yf]).call(n);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},TU=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},AU=_r("HTMLFormElement"),SU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),Lw=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),xU=_r("RegExp"),ex=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};cu(t,(a,l)=>{let u;(u=e(a,l,n))!==!1&&(i[l]=u||a)}),Object.defineProperties(n,i)},RU=n=>{ex(n,(e,t)=>{if(Rn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Rn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},CU=(n,e)=>{const t={},i=a=>{a.forEach(l=>{t[l]=!0})};return rl(n)?i(n):i(String(n).split(e)),t},IU=()=>{},NU=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function DU(n){return!!(n&&Rn(n.append)&&n[YS]==="FormData"&&n[yf])}const kU=n=>{const e=new Array(10),t=(i,a)=>{if(Ef(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=rl(i)?[]:{};return cu(i,(u,f)=>{const p=t(u,a+1);!Qc(p)&&(l[f]=p)}),e[a]=void 0,l}}return i};return t(n,0)},OU=_r("AsyncFunction"),PU=n=>n&&(Ef(n)||Rn(n))&&Rn(n.then)&&Rn(n.catch),tx=((n,e)=>n?setImmediate:e?((t,i)=>(va.addEventListener("message",({source:a,data:l})=>{a===va&&l===t&&i.length&&i.shift()()},!1),a=>{i.push(a),va.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Rn(va.postMessage)),MU=typeof queueMicrotask<"u"?queueMicrotask.bind(va):typeof process<"u"&&process.nextTick||tx,VU=n=>n!=null&&Rn(n[yf]),X={isArray:rl,isArrayBuffer:XS,isBuffer:Z6,isFormData:lU,isArrayBufferView:eU,isString:tU,isNumber:WS,isBoolean:nU,isObject:Ef,isPlainObject:rh,isReadableStream:uU,isRequest:dU,isResponse:hU,isHeaders:fU,isUndefined:Qc,isDate:rU,isFile:iU,isBlob:sU,isRegExp:xU,isFunction:Rn,isStream:oU,isURLSearchParams:cU,isTypedArray:bU,isFileList:aU,forEach:cu,merge:Pg,extend:mU,trim:pU,stripBOM:gU,inherits:yU,toFlatObject:vU,kindOf:vf,kindOfTest:_r,endsWith:_U,toArray:EU,forEachEntry:wU,matchAll:TU,isHTMLForm:AU,hasOwnProperty:Lw,hasOwnProp:Lw,reduceDescriptors:ex,freezeMethods:RU,toObjectSet:CU,toCamelCase:SU,noop:IU,toFiniteNumber:NU,findKey:JS,global:va,isContextDefined:ZS,isSpecCompliantForm:DU,toJSONObject:kU,isAsyncFn:OU,isThenable:PU,setImmediate:tx,asap:MU,isIterable:VU};function Ie(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}X.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const nx=Ie.prototype,rx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{rx[n]={value:n}});Object.defineProperties(Ie,rx);Object.defineProperty(nx,"isAxiosError",{value:!0});Ie.from=(n,e,t,i,a,l)=>{const u=Object.create(nx);return X.toFlatObject(n,u,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),Ie.call(u,n.message,e,t,i,a),u.cause=n,u.name=n.name,l&&Object.assign(u,l),u};const LU=null;function Mg(n){return X.isPlainObject(n)||X.isArray(n)}function ix(n){return X.endsWith(n,"[]")?n.slice(0,-2):n}function Uw(n,e,t){return n?n.concat(e).map(function(a,l){return a=ix(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function UU(n){return X.isArray(n)&&!n.some(Mg)}const jU=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function bf(n,e,t){if(!X.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,R){return!X.isUndefined(R[D])});const i=t.metaTokens,a=t.visitor||y,l=t.dots,u=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(a))throw new TypeError("visitor must be a function");function m(x){if(x===null)return"";if(X.isDate(x))return x.toISOString();if(X.isBoolean(x))return x.toString();if(!p&&X.isBlob(x))throw new Ie("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(x)||X.isTypedArray(x)?p&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function y(x,D,R){let P=x;if(x&&!R&&typeof x=="object"){if(X.endsWith(D,"{}"))D=i?D:D.slice(0,-2),x=JSON.stringify(x);else if(X.isArray(x)&&UU(x)||(X.isFileList(x)||X.endsWith(D,"[]"))&&(P=X.toArray(x)))return D=ix(D),P.forEach(function(W,oe){!(X.isUndefined(W)||W===null)&&e.append(u===!0?Uw([D],oe,l):u===null?D:D+"[]",m(W))}),!1}return Mg(x)?!0:(e.append(Uw(R,D,l),m(x)),!1)}const w=[],T=Object.assign(jU,{defaultVisitor:y,convertValue:m,isVisitable:Mg});function I(x,D){if(!X.isUndefined(x)){if(w.indexOf(x)!==-1)throw Error("Circular reference detected in "+D.join("."));w.push(x),X.forEach(x,function(P,Q){(!(X.isUndefined(P)||P===null)&&a.call(e,P,X.isString(Q)?Q.trim():Q,D,T))===!0&&I(P,D?D.concat(Q):[Q])}),w.pop()}}if(!X.isObject(n))throw new TypeError("data must be an object");return I(n),e}function jw(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function a0(n,e){this._pairs=[],n&&bf(n,this,e)}const sx=a0.prototype;sx.append=function(e,t){this._pairs.push([e,t])};sx.toString=function(e){const t=e?function(i){return e.call(this,i,jw)}:jw;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function zU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ax(n,e,t){if(!e)return n;const i=t&&t.encode||zU;X.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=X.isURLSearchParams(e)?e.toString():new a0(e,t).toString(i),l){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class zw{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(i){i!==null&&e(i)})}}const ox={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BU=typeof URLSearchParams<"u"?URLSearchParams:a0,qU=typeof FormData<"u"?FormData:null,FU=typeof Blob<"u"?Blob:null,HU={isBrowser:!0,classes:{URLSearchParams:BU,FormData:qU,Blob:FU},protocols:["http","https","file","blob","url","data"]},o0=typeof window<"u"&&typeof document<"u",Vg=typeof navigator=="object"&&navigator||void 0,GU=o0&&(!Vg||["ReactNative","NativeScript","NS"].indexOf(Vg.product)<0),$U=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KU=o0&&window.location.href||"http://localhost",QU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:o0,hasStandardBrowserEnv:GU,hasStandardBrowserWebWorkerEnv:$U,navigator:Vg,origin:KU},Symbol.toStringTag,{value:"Module"})),cn={...QU,...HU};function YU(n,e){return bf(n,new cn.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,l){return cn.isNode&&X.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function XU(n){return X.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function WU(n){const e={},t=Object.keys(n);let i;const a=t.length;let l;for(i=0;i<a;i++)l=t[i],e[l]=n[l];return e}function lx(n){function e(t,i,a,l){let u=t[l++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),p=l>=t.length;return u=!u&&X.isArray(a)?a.length:u,p?(X.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!f):((!a[u]||!X.isObject(a[u]))&&(a[u]=[]),e(t,i,a[u],l)&&X.isArray(a[u])&&(a[u]=WU(a[u])),!f)}if(X.isFormData(n)&&X.isFunction(n.entries)){const t={};return X.forEachEntry(n,(i,a)=>{e(XU(i),a,t,0)}),t}return null}function JU(n,e,t){if(X.isString(n))try{return(e||JSON.parse)(n),X.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const uu={transitional:ox,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,l=X.isObject(e);if(l&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return a?JSON.stringify(lx(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return YU(e,this.formSerializer).toString();if((f=X.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return bf(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),JU(e)):e}],transformResponse:[function(e){const t=this.transitional||uu.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(i&&!this.responseType||a)){const u=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?Ie.from(f,Ie.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],n=>{uu.headers[n]={}});const ZU=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ej=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(u){a=u.indexOf(":"),t=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!t||e[t]&&ZU[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Bw=Symbol("internals");function wc(n){return n&&String(n).trim().toLowerCase()}function ih(n){return n===!1||n==null?n:X.isArray(n)?n.map(ih):String(n)}function tj(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const nj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ym(n,e,t,i,a){if(X.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!X.isString(e)){if(X.isString(i))return e.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(e)}}function rj(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function ij(n,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,l,u){return this[i].call(this,e,a,l,u)},configurable:!0})})}let Cn=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function l(f,p,m){const y=wc(p);if(!y)throw new Error("header name must be a non-empty string");const w=X.findKey(a,y);(!w||a[w]===void 0||m===!0||m===void 0&&a[w]!==!1)&&(a[w||p]=ih(f))}const u=(f,p)=>X.forEach(f,(m,y)=>l(m,y,p));if(X.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(X.isString(e)&&(e=e.trim())&&!nj(e))u(ej(e),t);else if(X.isObject(e)&&X.isIterable(e)){let f={},p,m;for(const y of e){if(!X.isArray(y))throw TypeError("Object iterator must return a key-value pair");f[m=y[0]]=(p=f[m])?X.isArray(p)?[...p,y[1]]:[p,y[1]]:y[1]}u(f,t)}else e!=null&&l(t,e,i);return this}get(e,t){if(e=wc(e),e){const i=X.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return tj(a);if(X.isFunction(t))return t.call(this,a,i);if(X.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wc(e),e){const i=X.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Ym(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function l(u){if(u=wc(u),u){const f=X.findKey(i,u);f&&(!t||Ym(i,i[f],f,t))&&(delete i[f],a=!0)}}return X.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const l=t[i];(!e||Ym(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,i={};return X.forEach(this,(a,l)=>{const u=X.findKey(i,l);if(u){t[u]=ih(a),delete t[l];return}const f=e?rj(l):String(l).trim();f!==l&&delete t[l],t[f]=ih(a),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&X.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[Bw]=this[Bw]={accessors:{}}).accessors,a=this.prototype;function l(u){const f=wc(u);i[f]||(ij(a,u),i[f]=!0)}return X.isArray(e)?e.forEach(l):l(e),this}};Cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Cn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});X.freezeMethods(Cn);function Xm(n,e){const t=this||uu,i=e||t,a=Cn.from(i.headers);let l=i.data;return X.forEach(n,function(f){l=f.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function cx(n){return!!(n&&n.__CANCEL__)}function il(n,e,t){Ie.call(this,n??"canceled",Ie.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(il,Ie,{__CANCEL__:!0});function ux(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Ie("Request failed with status code "+t.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function sj(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function aj(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=i[l];u||(u=m),t[a]=p,i[a]=m;let w=l,T=0;for(;w!==a;)T+=t[w++],w=w%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),m-u<e)return;const I=y&&m-y;return I?Math.round(T*1e3/I):void 0}}function oj(n,e){let t=0,i=1e3/e,a,l;const u=(m,y=Date.now())=>{t=y,a=null,l&&(clearTimeout(l),l=null),n.apply(null,m)};return[(...m)=>{const y=Date.now(),w=y-t;w>=i?u(m,y):(a=m,l||(l=setTimeout(()=>{l=null,u(a)},i-w)))},()=>a&&u(a)]}const Oh=(n,e,t=3)=>{let i=0;const a=aj(50,250);return oj(l=>{const u=l.loaded,f=l.lengthComputable?l.total:void 0,p=u-i,m=a(p),y=u<=f;i=u;const w={loaded:u,total:f,progress:f?u/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&y?(f-u)/m:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(w)},t)},qw=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},Fw=n=>(...e)=>X.asap(()=>n(...e)),lj=cn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,cn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,cj=cn.hasStandardBrowserEnv?{write(n,e,t,i,a,l){const u=[n+"="+encodeURIComponent(e)];X.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),X.isString(i)&&u.push("path="+i),X.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uj(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function dj(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function dx(n,e,t){let i=!uj(e);return n&&(i||t==!1)?dj(n,e):e}const Hw=n=>n instanceof Cn?{...n}:n;function Ca(n,e){e=e||{};const t={};function i(m,y,w,T){return X.isPlainObject(m)&&X.isPlainObject(y)?X.merge.call({caseless:T},m,y):X.isPlainObject(y)?X.merge({},y):X.isArray(y)?y.slice():y}function a(m,y,w,T){if(X.isUndefined(y)){if(!X.isUndefined(m))return i(void 0,m,w,T)}else return i(m,y,w,T)}function l(m,y){if(!X.isUndefined(y))return i(void 0,y)}function u(m,y){if(X.isUndefined(y)){if(!X.isUndefined(m))return i(void 0,m)}else return i(void 0,y)}function f(m,y,w){if(w in e)return i(m,y);if(w in n)return i(void 0,m)}const p={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(m,y,w)=>a(Hw(m),Hw(y),w,!0)};return X.forEach(Object.keys(Object.assign({},n,e)),function(y){const w=p[y]||a,T=w(n[y],e[y],y);X.isUndefined(T)&&w!==f||(t[y]=T)}),t}const hx=n=>{const e=Ca({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:f}=e;e.headers=u=Cn.from(u),e.url=ax(dx(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(X.isFormData(t)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[m,...y]=p?p.split(";").map(w=>w.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...y].join("; "))}}if(cn.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(e)),i||i!==!1&&lj(e.url))){const m=a&&l&&cj.read(l);m&&u.set(a,m)}return e},hj=typeof XMLHttpRequest<"u",fj=hj&&function(n){return new Promise(function(t,i){const a=hx(n);let l=a.data;const u=Cn.from(a.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=a,y,w,T,I,x;function D(){I&&I(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(a.method.toUpperCase(),a.url,!0),R.timeout=a.timeout;function P(){if(!R)return;const W=Cn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),ae={data:!f||f==="text"||f==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:W,config:n,request:R};ux(function(V){t(V),D()},function(V){i(V),D()},ae),R=null}"onloadend"in R?R.onloadend=P:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(P)},R.onabort=function(){R&&(i(new Ie("Request aborted",Ie.ECONNABORTED,n,R)),R=null)},R.onerror=function(){i(new Ie("Network Error",Ie.ERR_NETWORK,n,R)),R=null},R.ontimeout=function(){let oe=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ae=a.transitional||ox;a.timeoutErrorMessage&&(oe=a.timeoutErrorMessage),i(new Ie(oe,ae.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,n,R)),R=null},l===void 0&&u.setContentType(null),"setRequestHeader"in R&&X.forEach(u.toJSON(),function(oe,ae){R.setRequestHeader(ae,oe)}),X.isUndefined(a.withCredentials)||(R.withCredentials=!!a.withCredentials),f&&f!=="json"&&(R.responseType=a.responseType),m&&([T,x]=Oh(m,!0),R.addEventListener("progress",T)),p&&R.upload&&([w,I]=Oh(p),R.upload.addEventListener("progress",w),R.upload.addEventListener("loadend",I)),(a.cancelToken||a.signal)&&(y=W=>{R&&(i(!W||W.type?new il(null,n,R):W),R.abort(),R=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const Q=sj(a.url);if(Q&&cn.protocols.indexOf(Q)===-1){i(new Ie("Unsupported protocol "+Q+":",Ie.ERR_BAD_REQUEST,n));return}R.send(l||null)})},pj=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const l=function(m){if(!a){a=!0,f();const y=m instanceof Error?m:this.reason;i.abort(y instanceof Ie?y:new il(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,l(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const f=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),n=null)};n.forEach(m=>m.addEventListener("abort",l));const{signal:p}=i;return p.unsubscribe=()=>X.asap(f),p}},mj=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},gj=async function*(n,e){for await(const t of yj(n))yield*mj(t,e)},yj=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Gw=(n,e,t,i)=>{const a=gj(n,e);let l=0,u,f=p=>{u||(u=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await a.next();if(m){f(),p.close();return}let w=y.byteLength;if(t){let T=l+=w;t(T)}p.enqueue(new Uint8Array(y))}catch(m){throw f(m),m}},cancel(p){return f(p),a.return()}},{highWaterMark:2})},wf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fx=wf&&typeof ReadableStream=="function",vj=wf&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),px=(n,...e)=>{try{return!!n(...e)}catch{return!1}},_j=fx&&px(()=>{let n=!1;const e=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),$w=64*1024,Lg=fx&&px(()=>X.isReadableStream(new Response("").body)),Ph={stream:Lg&&(n=>n.body)};wf&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ph[e]&&(Ph[e]=X.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Ie(`Response type '${e}' is not supported`,Ie.ERR_NOT_SUPPORT,i)})})})(new Response);const Ej=async n=>{if(n==null)return 0;if(X.isBlob(n))return n.size;if(X.isSpecCompliantForm(n))return(await new Request(cn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(X.isArrayBufferView(n)||X.isArrayBuffer(n))return n.byteLength;if(X.isURLSearchParams(n)&&(n=n+""),X.isString(n))return(await vj(n)).byteLength},bj=async(n,e)=>{const t=X.toFiniteNumber(n.getContentLength());return t??Ej(e)},wj=wf&&(async n=>{let{url:e,method:t,data:i,signal:a,cancelToken:l,timeout:u,onDownloadProgress:f,onUploadProgress:p,responseType:m,headers:y,withCredentials:w="same-origin",fetchOptions:T}=hx(n);m=m?(m+"").toLowerCase():"text";let I=pj([a,l&&l.toAbortSignal()],u),x;const D=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let R;try{if(p&&_j&&t!=="get"&&t!=="head"&&(R=await bj(y,i))!==0){let ae=new Request(e,{method:"POST",body:i,duplex:"half"}),pe;if(X.isFormData(i)&&(pe=ae.headers.get("content-type"))&&y.setContentType(pe),ae.body){const[V,C]=qw(R,Oh(Fw(p)));i=Gw(ae.body,$w,V,C)}}X.isString(w)||(w=w?"include":"omit");const P="credentials"in Request.prototype;x=new Request(e,{...T,signal:I,method:t.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:P?w:void 0});let Q=await fetch(x,T);const W=Lg&&(m==="stream"||m==="response");if(Lg&&(f||W&&D)){const ae={};["status","statusText","headers"].forEach(N=>{ae[N]=Q[N]});const pe=X.toFiniteNumber(Q.headers.get("content-length")),[V,C]=f&&qw(pe,Oh(Fw(f),!0))||[];Q=new Response(Gw(Q.body,$w,V,()=>{C&&C(),D&&D()}),ae)}m=m||"text";let oe=await Ph[X.findKey(Ph,m)||"text"](Q,n);return!W&&D&&D(),await new Promise((ae,pe)=>{ux(ae,pe,{data:oe,headers:Cn.from(Q.headers),status:Q.status,statusText:Q.statusText,config:n,request:x})})}catch(P){throw D&&D(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,n,x),{cause:P.cause||P}):Ie.from(P,P&&P.code,n,x)}}),Ug={http:LU,xhr:fj,fetch:wj};X.forEach(Ug,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Kw=n=>`- ${n}`,Tj=n=>X.isFunction(n)||n===null||n===!1,mx={getAdapter:n=>{n=X.isArray(n)?n:[n];const{length:e}=n;let t,i;const a={};for(let l=0;l<e;l++){t=n[l];let u;if(i=t,!Tj(t)&&(i=Ug[(u=String(t)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${u}'`);if(i)break;a[u||"#"+l]=i}if(!i){const l=Object.entries(a).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(Kw).join(`
`):" "+Kw(l[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Ug};function Wm(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new il(null,n)}function Qw(n){return Wm(n),n.headers=Cn.from(n.headers),n.data=Xm.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),mx.getAdapter(n.adapter||uu.adapter)(n).then(function(i){return Wm(n),i.data=Xm.call(n,n.transformResponse,i),i.headers=Cn.from(i.headers),i},function(i){return cx(i)||(Wm(n),i&&i.response&&(i.response.data=Xm.call(n,n.transformResponse,i.response),i.response.headers=Cn.from(i.response.headers))),Promise.reject(i)})}const gx="1.10.0",Tf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Tf[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Yw={};Tf.transitional=function(e,t,i){function a(l,u){return"[Axios v"+gx+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,f)=>{if(e===!1)throw new Ie(a(u," has been removed"+(t?" in "+t:"")),Ie.ERR_DEPRECATED);return t&&!Yw[u]&&(Yw[u]=!0,console.warn(a(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,u,f):!0}};Tf.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Aj(n,e,t){if(typeof n!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const l=i[a],u=e[l];if(u){const f=n[l],p=f===void 0||u(f,l,n);if(p!==!0)throw new Ie("option "+l+" must be "+p,Ie.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ie("Unknown option "+l,Ie.ERR_BAD_OPTION)}}const sh={assertOptions:Aj,validators:Tf},Lr=sh.validators;let Ea=class{constructor(e){this.defaults=e||{},this.interceptors={request:new zw,response:new zw}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ca(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:l}=t;i!==void 0&&sh.assertOptions(i,{silentJSONParsing:Lr.transitional(Lr.boolean),forcedJSONParsing:Lr.transitional(Lr.boolean),clarifyTimeoutError:Lr.transitional(Lr.boolean)},!1),a!=null&&(X.isFunction(a)?t.paramsSerializer={serialize:a}:sh.assertOptions(a,{encode:Lr.function,serialize:Lr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),sh.assertOptions(t,{baseUrl:Lr.spelling("baseURL"),withXsrfToken:Lr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=l&&X.merge(l.common,l[t.method]);l&&X.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),t.headers=Cn.concat(u,l);const f=[];let p=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(t)===!1||(p=p&&D.synchronous,f.unshift(D.fulfilled,D.rejected))});const m=[];this.interceptors.response.forEach(function(D){m.push(D.fulfilled,D.rejected)});let y,w=0,T;if(!p){const x=[Qw.bind(this),void 0];for(x.unshift.apply(x,f),x.push.apply(x,m),T=x.length,y=Promise.resolve(t);w<T;)y=y.then(x[w++],x[w++]);return y}T=f.length;let I=t;for(w=0;w<T;){const x=f[w++],D=f[w++];try{I=x(I)}catch(R){D.call(this,R);break}}try{y=Qw.call(this,I)}catch(x){return Promise.reject(x)}for(w=0,T=m.length;w<T;)y=y.then(m[w++],m[w++]);return y}getUri(e){e=Ca(this.defaults,e);const t=dx(e.baseURL,e.url,e.allowAbsoluteUrls);return ax(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Ea.prototype[e]=function(t,i){return this.request(Ca(i||{},{method:e,url:t,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(i){return function(l,u,f){return this.request(Ca(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Ea.prototype[e]=t(),Ea.prototype[e+"Form"]=t(!0)});let Sj=class yx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(f=>{i.subscribe(f),l=f}).then(a);return u.cancel=function(){i.unsubscribe(l)},u},e(function(l,u,f){i.reason||(i.reason=new il(l,u,f),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new yx(function(a){e=a}),cancel:e}}};function xj(n){return function(t){return n.apply(null,t)}}function Rj(n){return X.isObject(n)&&n.isAxiosError===!0}const jg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jg).forEach(([n,e])=>{jg[e]=n});function vx(n){const e=new Ea(n),t=QS(Ea.prototype.request,e);return X.extend(t,Ea.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return vx(Ca(n,a))},t}const xt=vx(uu);xt.Axios=Ea;xt.CanceledError=il;xt.CancelToken=Sj;xt.isCancel=cx;xt.VERSION=gx;xt.toFormData=bf;xt.AxiosError=Ie;xt.Cancel=xt.CanceledError;xt.all=function(e){return Promise.all(e)};xt.spread=xj;xt.isAxiosError=Rj;xt.mergeConfig=Ca;xt.AxiosHeaders=Cn;xt.formToJSON=n=>lx(X.isHTMLForm(n)?new FormData(n):n);xt.getAdapter=mx.getAdapter;xt.HttpStatusCode=jg;xt.default=xt;const{Axios:j3,AxiosError:z3,CanceledError:B3,isCancel:q3,CancelToken:F3,VERSION:H3,all:G3,Cancel:$3,isAxiosError:K3,spread:Q3,toFormData:Y3,AxiosHeaders:X3,HttpStatusCode:W3,formToJSON:J3,getAdapter:Z3,mergeConfig:e5}=xt,Cj=({notification:n,onMarkAsRead:e,onNotificationClick:t})=>{const i=p=>{const m="h-5 w-5";switch(p){case"success":return v.jsx(n0,{className:`${m} text-green-500`});case"warning":return v.jsx(U6,{className:`${m} text-yellow-500`});case"error":return v.jsx(US,{className:`${m} text-red-500`});case"info":return v.jsx(Dw,{className:`${m} text-blue-500`});case"order":return v.jsx(i0,{className:`${m} text-purple-500`});case"payment":return v.jsx(n6,{className:`${m} text-green-500`});case"shipment":return v.jsx(qS,{className:`${m} text-blue-500`});case"system":return v.jsx(r0,{className:`${m} text-gray-500`});default:return v.jsx(Dw,{className:`${m} text-gray-500`})}},a=p=>{switch(p){case"urgent":return"border-l-red-500";case"high":return"border-l-orange-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-gray-400";default:return"border-l-gray-400"}},l=p=>{const y=Math.floor((new Date().getTime()-p.getTime())/1e3);return y<60?" l'instant":y<3600?`Il y a ${Math.floor(y/60)} min`:y<86400?`Il y a ${Math.floor(y/3600)}h`:y<604800?`Il y a ${Math.floor(y/86400)}j`:p.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"2-digit"})},u=()=>{n.isRead||e(n.id),t(n)},f=p=>{p.stopPropagation(),e(n.id)};return v.jsxs("div",{className:`
        relative p-4 border-l-4 ${a(n.priority)}
        ${n.isRead?"bg-white dark:bg-gray-800":"bg-blue-50 dark:bg-blue-900/20"}
        hover:bg-gray-50 dark:hover:bg-gray-700
        transition-all duration-200 cursor-pointer
        border-b border-gray-200 dark:border-gray-600
      `,onClick:u,children:[!n.isRead&&v.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"flex-shrink-0 mt-1",children:i(n.type)}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h4",{className:`
              text-sm font-semibold truncate
              ${n.isRead?"text-gray-800 dark:text-gray-200":"text-gray-900 dark:text-white"}
            `,children:n.title}),!n.isRead&&v.jsx("button",{onClick:f,className:"ml-2 text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 whitespace-nowrap",title:"Marquer comme lu",children:"Marquer lu"})]}),v.jsx("p",{className:`
            text-sm mt-1 line-clamp-2
            ${n.isRead?"text-gray-600 dark:text-gray-400":"text-gray-700 dark:text-gray-300"}
          `,children:n.message}),v.jsxs("div",{className:"flex items-center justify-between mt-2",children:[v.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[v.jsx(jS,{className:"h-3 w-3"}),v.jsx("span",{children:l(n.createdAt)}),n.metadata?.amount&&v.jsxs(v.Fragment,{children:[v.jsx("span",{children:""}),v.jsx("span",{className:"font-medium",children:n.metadata.amount.toLocaleString("fr-FR",{style:"currency",currency:n.metadata.currency||"EUR"})})]})]}),n.actionUrl&&v.jsxs("div",{className:"flex items-center text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:[v.jsx(i6,{className:"h-3 w-3 mr-1"}),v.jsx("span",{children:"Voir dtails"})]})]}),n.priority==="urgent"&&v.jsx("div",{className:"mt-2",children:v.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 rounded-full",children:"Urgent"})})]})]})]})};let Ur=[];class Ij{async getNotifications(e=1,t=20,i){await new Promise(m=>setTimeout(m,300));let a=[...Ur];i&&(i.isRead!==void 0&&(a=a.filter(m=>m.isRead===i.isRead)),i.type&&(a=a.filter(m=>m.type===i.type)),i.priority&&(a=a.filter(m=>m.priority===i.priority)),i.dateFrom&&(a=a.filter(m=>m.createdAt>=i.dateFrom)),i.dateTo&&(a=a.filter(m=>m.createdAt<=i.dateTo))),a.sort((m,y)=>y.createdAt.getTime()-m.createdAt.getTime());const l=(e-1)*t,u=l+t,f=a.slice(l,u),p=Ur.filter(m=>!m.isRead).length;return{notifications:f,total:a.length,unreadCount:p,hasMore:u<a.length}}async markAsRead(e){await new Promise(t=>setTimeout(t,200)),Ur=Ur.map(t=>e.includes(t.id)?{...t,isRead:!0,updatedAt:new Date}:t)}async markAllAsRead(){await new Promise(e=>setTimeout(e,300)),Ur=Ur.map(e=>({...e,isRead:!0,updatedAt:new Date}))}async createNotification(e){await new Promise(i=>setTimeout(i,200));const t={id:Math.random().toString(36).substr(2,9),title:e.title,message:e.message,type:e.type,isRead:!1,createdAt:new Date,updatedAt:new Date,userId:e.userId,priority:e.priority||"medium",actionUrl:e.actionUrl,metadata:e.metadata||{}};return Ur.unshift(t),t}async deleteNotification(e){await new Promise(t=>setTimeout(t,200)),Ur=Ur.filter(t=>t.id!==e)}async getUnreadCount(){return await new Promise(e=>setTimeout(e,100)),Ur.filter(e=>!e.isRead).length}}const hs=new Ij,Nj=({isOpen:n,onClose:e,onUnreadCountChange:t})=>{const{t:i}=mf(),a=Vh(),[l,u]=U.useState([]),[f,p]=U.useState(!1),[m,y]=U.useState(null),[w,T]=U.useState(!0),[I,x]=U.useState(1),[D,R]=U.useState({}),[P,Q]=U.useState(!1),[W,oe]=U.useState(0),[ae,pe]=U.useState(!1),V=U.useRef(null),C=U.useRef(null),N=async(ne=!1)=>{if(!f){p(!0),y(null);try{const ue=ne?1:I,xe=await hs.getNotifications(ue,20,D);ne?(u(xe.notifications),x(2)):(u(k=>[...k,...xe.notifications]),x(k=>k+1)),T(xe.hasMore),oe(xe.unreadCount),t(xe.unreadCount)}catch(ue){y("Erreur lors du chargement des notifications"),console.error("Error loading notifications:",ue)}finally{p(!1)}}};U.useEffect(()=>{const ne=ue=>{ue.key==="Escape"&&n&&e()};return n&&(document.addEventListener("keydown",ne),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",ne),document.body.style.overflow="unset"}},[n,e]),U.useEffect(()=>{const ne=ue=>{n&&V.current&&!V.current.contains(ue.target)&&e()};return n&&document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[n,e]),U.useEffect(()=>{n&&N(!0)},[n,D]);const L=()=>{if(!C.current||f||!w)return;const{scrollTop:ne,scrollHeight:ue,clientHeight:xe}=C.current;ue-ne<=xe+100&&N()};U.useEffect(()=>{const ne=C.current;if(ne)return ne.addEventListener("scroll",L),()=>ne.removeEventListener("scroll",L)},[f,w]);const z=async ne=>{try{await hs.markAsRead([ne]),u(xe=>xe.map(k=>k.id===ne?{...k,isRead:!0}:k));const ue=Math.max(0,W-1);oe(ue),t(ue)}catch(ue){console.error("Error marking notification as read:",ue)}},q=async()=>{if(!ae){pe(!0);try{await hs.markAllAsRead(),u(ne=>ne.map(ue=>({...ue,isRead:!0}))),oe(0),t(0)}catch(ne){console.error("Error marking all notifications as read:",ne)}finally{pe(!1)}}},M=ne=>{ne.actionUrl&&(a(ne.actionUrl),e())},bt=()=>{x(1),N(!0)},it=ne=>{R(ue=>({...ue,...ne})),x(1)},J=()=>{R({}),x(1)};return n?(console.log(" NotificationCenter is opening"),v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300"}),v.jsxs("div",{ref:V,className:`
          fixed top-0 right-0 h-full w-96 bg-white dark:bg-gray-800 shadow-2xl z-50
          transform transition-transform duration-300 ease-in-out
          ${n?"translate-x-0":"translate-x-full"}
          flex flex-col
        `,children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(Dh,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),W>0&&v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[W," non lue",W>1?"s":""]})]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("button",{onClick:bt,disabled:f,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"Rafrachir",children:v.jsx(x6,{className:`h-4 w-4 ${f?"animate-spin":""}`})}),v.jsx("button",{onClick:()=>Q(!P),className:`
                p-2 rounded-lg transition-colors
                ${P?"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}
              `,title:"Filtres",children:v.jsx(l6,{className:"h-4 w-4"})}),v.jsx("button",{onClick:e,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:v.jsx(gf,{className:"h-4 w-4"})})]})]}),P&&v.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Statut"}),v.jsxs("select",{value:D.isRead===void 0?"all":D.isRead?"read":"unread",onChange:ne=>{const ue=ne.target.value;it({isRead:ue==="all"?void 0:ue==="read"})},className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[v.jsx("option",{value:"all",children:"Toutes"}),v.jsx("option",{value:"unread",children:"Non lues"}),v.jsx("option",{value:"read",children:"Lues"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),v.jsxs("select",{value:D.type||"all",onChange:ne=>{const ue=ne.target.value;it({type:ue==="all"?void 0:ue})},className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[v.jsx("option",{value:"all",children:"Tous les types"}),v.jsx("option",{value:"order",children:"Commandes"}),v.jsx("option",{value:"payment",children:"Paiements"}),v.jsx("option",{value:"shipment",children:"Expditions"}),v.jsx("option",{value:"system",children:"Systme"}),v.jsx("option",{value:"info",children:"Informations"}),v.jsx("option",{value:"warning",children:"Avertissements"}),v.jsx("option",{value:"error",children:"Erreurs"})]})]}),v.jsx("div",{className:"flex space-x-2",children:v.jsx("button",{onClick:J,className:"flex-1 px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:"Effacer"})})]}),W>0&&v.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-600",children:v.jsxs("button",{onClick:q,disabled:ae,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[ae?v.jsx(kw,{className:"h-4 w-4 animate-spin"}):v.jsx(GL,{className:"h-4 w-4"}),v.jsx("span",{children:"Marquer tout comme lu"})]})}),v.jsxs("div",{ref:C,className:"flex-1 overflow-y-auto",children:[m&&v.jsx("div",{className:"p-4 m-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:v.jsxs("div",{className:"flex items-center space-x-2 text-red-800 dark:text-red-300",children:[v.jsx(Dg,{className:"h-5 w-5"}),v.jsx("p",{className:"text-sm",children:m})]})}),l.length===0&&!f?v.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-500 dark:text-gray-400",children:[v.jsx(Dh,{className:"h-12 w-12 mb-4 opacity-50"}),v.jsx("p",{className:"text-lg font-medium mb-2",children:"Aucune notification"}),v.jsx("p",{className:"text-sm text-center",children:"Vous n'avez pas de notifications pour le moment"})]}):v.jsxs("div",{children:[l.map(ne=>v.jsx(Cj,{notification:ne,onMarkAsRead:z,onNotificationClick:M},ne.id)),f&&v.jsxs("div",{className:"flex items-center justify-center p-4",children:[v.jsx(kw,{className:"h-6 w-6 animate-spin text-gray-400"}),v.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:"Chargement..."})]}),!w&&l.length>0&&v.jsx("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-600",children:"Toutes les notifications ont t charges"})]})]})]})]})):null},Dj=(n={})=>{const{pollInterval:e=3e4,autoRefresh:t=!0}=n,[i,a]=U.useState([]),[l,u]=U.useState(0),[f,p]=U.useState(!1),[m,y]=U.useState(null),w=U.useCallback(async()=>{try{const R=await hs.getUnreadCount();return u(R),R}catch(R){return console.error("Error fetching unread count:",R),0}},[]),T=U.useCallback(async(R=5)=>{p(!0),y(null);try{const P=await hs.getNotifications(1,R);return a(P.notifications),u(P.unreadCount),P}catch(P){return y(P instanceof Error?P.message:"Erreur lors du chargement"),console.error("Error fetching notifications:",P),null}finally{p(!1)}},[]),I=U.useCallback(async R=>{try{return await hs.markAsRead([R]),a(P=>P.map(Q=>Q.id===R?{...Q,isRead:!0}:Q)),u(P=>Math.max(0,P-1)),!0}catch(P){return console.error("Error marking notification as read:",P),!1}},[]),x=U.useCallback(async()=>{try{return await hs.markAllAsRead(),a(R=>R.map(P=>({...P,isRead:!0}))),u(0),!0}catch(R){return console.error("Error marking all notifications as read:",R),!1}},[]),D=U.useCallback(async R=>{try{const P=await hs.createNotification({title:R.title,message:R.message,type:R.type,userId:R.userId,priority:R.priority,actionUrl:R.actionUrl,metadata:R.metadata});return a(Q=>[P,...Q.slice(0,4)]),P.isRead||u(Q=>Q+1),P}catch(P){return console.error("Error adding notification:",P),null}},[]);return U.useEffect(()=>{if(!t)return;const R=setInterval(()=>{w()},e);return()=>clearInterval(R)},[t,e,w]),U.useEffect(()=>{w()},[w]),{notifications:i,unreadCount:l,loading:f,error:m,fetchRecentNotifications:T,fetchUnreadCount:w,markAsRead:I,markAllAsRead:x,addNotification:D,refresh:w}},kj=()=>{const{user:n,logout:e}=nl(),{language:t,setLanguage:i,t:a,getLanguageName:l,availableLanguages:u}=mf(),{currency:f,setCurrency:p,currencyNames:m}=MS(),{isDarkMode:y,toggleTheme:w}=OL();Ue.useEffect(()=>{console.log(" Navbar - tat utilisateur:",n)},[n]);const[T,I]=U.useState(!1),[x,D]=U.useState(!1),[R,P]=U.useState(!1),[Q,W]=U.useState(""),[oe,ae]=U.useState([]),{unreadCount:pe,refresh:V}=Dj({pollInterval:n?3e4:0,autoRefresh:!!n}),C=Ii(),N=Vh(),L=()=>{console.log(" Toggle Language Menu clicked"),I(!T),D(!1),P(!1)},z=()=>{D(!x),I(!1),P(!1)},q=()=>{console.log(" Toggle Notification Center clicked"),P(!R),I(!1),D(!1)},M=()=>{V()},bt=k=>{i(k),I(!1)},it=k=>{p(k),D(!1)},J=k=>{k.preventDefault(),Q.trim()&&N(`/search?q=${encodeURIComponent(Q)}`)};U.useEffect(()=>{Q.trim()?(async()=>{try{const re=await xt.get(`/api/suggestions?q=${encodeURIComponent(Q)}`);ae(Array.isArray(re.data)?re.data:[])}catch(re){console.error("Error fetching suggestions:",re)}})():ae([])},[Q]),U.useEffect(()=>{const k=re=>{const de=re.target;!de.closest(".language-dropdown")&&!de.closest(".currency-dropdown")&&(I(!1),D(!1))};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]);const ne=k=>C.pathname===k,xe=(k=>{switch(k){case"admin":return"/admin/dashboard";case"supplier":return"/supplier/dashboard";case"sourcer":case"influencer":return"/sourcer/dashboard";case"customer":default:return"/dashboard"}})(n?.role);return v.jsxs("nav",{className:"bg-gradient-to-br from-blue-600 via-blue-500 to-orange-400 shadow-md sticky top-0 z-50",children:[v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsx("div",{className:"flex items-center space-x-4",children:v.jsxs(gn,{to:"/",className:"flex items-center",children:[v.jsx(i0,{className:"h-8 w-8 text-white"}),v.jsx("span",{className:"ml-2 text-xl font-bold text-white font-display",children:"Chine ton usine"})]})}),v.jsxs("div",{className:"flex items-center space-x-6",children:[v.jsxs("div",{className:"hidden sm:flex items-center space-x-6",children:[v.jsx(gn,{to:"/",className:`${ne("/")?"text-orange-200 font-semibold":"text-white hover:text-orange-200"} 
                  transition-colors text-sm font-medium font-reading`,children:a("home")}),v.jsx(gn,{to:"/products",className:`${ne("/products")?"text-orange-200 font-semibold":"text-white hover:text-orange-200"} 
                  transition-colors text-sm font-medium font-reading`,children:a("discover")}),n&&n.role==="supplier"&&v.jsx(gn,{to:"/containers",className:`${ne("/containers")?"text-orange-200 font-semibold":"text-white hover:text-orange-200"} 
                      transition-colors text-sm font-medium font-reading`,children:a("containers")}),n&&v.jsx(gn,{to:xe,className:`${ne(xe)?"text-orange-200 font-semibold":"text-white hover:text-orange-200"} 
                    transition-colors text-sm font-medium font-reading`,children:a("dashboard")})]}),v.jsxs("div",{className:"relative flex items-center space-x-2 text-white hover:text-orange-200 transition-colors cursor-pointer",children:[v.jsx(C6,{className:"h-5 w-5"}),v.jsxs("form",{onSubmit:J,className:"hidden lg:block",children:[v.jsx("input",{type:"text",value:Q,onChange:k=>W(k.target.value),placeholder:a("search.placeholder")||"Rechercher...",className:"ml-2 px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white/80 dark:bg-gray-700/90 backdrop-blur-sm placeholder-gray-600 dark:placeholder-gray-400 text-gray-900 dark:text-white"}),oe.length>0&&v.jsx("ul",{className:"absolute mt-2 w-full bg-white border border-gray-300 rounded-md shadow-lg z-10",children:oe.map((k,re)=>v.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",onClick:()=>{W(k),ae([])},children:k},re))})]})]}),v.jsxs("div",{className:"relative language-dropdown",children:[v.jsx("button",{onClick:L,className:"flex items-center space-x-2 text-white hover:text-orange-200 transition-colors cursor-pointer",children:v.jsx(zS,{className:"h-5 w-5"})}),T&&v.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 focus:outline-none",children:u.map(k=>v.jsx("button",{onClick:()=>bt(k),className:`${t===k?"bg-gray-100 dark:bg-gray-600":""} block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 w-full text-left hover:bg-gray-100 dark:hover:bg-gray-600`,children:l(k)},k))})]}),v.jsxs("div",{className:"relative currency-dropdown",children:[v.jsx("button",{onClick:z,className:"flex items-center space-x-2 text-white hover:text-orange-200 transition-colors cursor-pointer",children:v.jsx(e6,{className:"h-5 w-5"})}),x&&v.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object.entries(m).map(([k,re])=>v.jsx("button",{onClick:()=>it(k),className:`${f===k?"bg-gray-100 dark:bg-gray-600":""} block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 w-full text-left hover:bg-gray-100 dark:hover:bg-gray-600`,children:re},k))})]}),n&&v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex items-center space-x-2 text-white hover:text-orange-200 transition-colors cursor-pointer relative",onClick:q,children:[v.jsx(Dh,{className:"h-5 w-5"}),pe>0&&v.jsx("span",{className:"bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold animate-pulse absolute -top-2 -right-2",children:pe>99?"99+":pe})]})}),v.jsx("button",{onClick:w,className:"flex items-center space-x-2 text-white hover:text-orange-200 transition-colors cursor-pointer",children:y?v.jsx(V6,{className:"h-5 w-5"}):v.jsx(BS,{className:"h-5 w-5"})}),n?v.jsx(gn,{to:n.role==="supplier"?`/supplier/${n.id}`:"/profile",className:"flex items-center space-x-2 text-gray-800 hover:text-orange-600 transition-colors cursor-pointer",title:n.role==="supplier"?a("mySupplierProfile")||"Mon profil fournisseur":a("myProfile")||"Mon profil",children:v.jsx(kh,{className:"h-5 w-5"})}):v.jsx("div",{className:"flex items-center space-x-2 text-gray-800 hover:text-orange-600 transition-colors cursor-pointer",children:v.jsx(kh,{className:"h-5 w-5"})}),n?v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("button",{onClick:e,className:"bg-white text-gray-800 px-4 py-2 rounded-full text-sm font-semibold hover:bg-orange-50 hover:text-orange-600 transition-all duration-300 transform hover:scale-105 shadow-lg font-display",children:a("logout")}),v.jsx("button",{onClick:e,className:"bg-red-500 text-white px-3 py-2 rounded-full text-xs font-semibold hover:bg-red-600 transition-all duration-300 transform hover:scale-105 shadow-lg",title:"Dconnexion complte",children:""})]}):v.jsx(gn,{to:"/login",className:"bg-white text-gray-800 px-6 py-2 rounded-full text-sm font-semibold hover:bg-orange-50 hover:text-orange-600 transition-all duration-300 transform hover:scale-105 shadow-lg font-display",children:a("nav.login")})]})]})}),n&&v.jsx(Nj,{isOpen:R,onClose:()=>P(!1),onUnreadCountChange:M})]})},Oj=()=>{const{t:n}=mf(),e=new Date().getFullYear();return v.jsx("footer",{className:"relative z-30 bg-gradient-to-br from-blue-800 via-blue-700 to-orange-600 dark:from-gray-900 dark:via-blue-900 dark:to-gray-800 text-white py-8 mt-auto",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:["          ",v.jsxs("div",{className:"mb-4 md:mb-0",children:[v.jsx("h3",{className:"text-xl font-bold text-white font-display",children:"Chine ton usine"}),v.jsx("p",{className:"text-orange-100 dark:text-gray-300 mt-1 font-reading",children:n("tagline")})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-8",children:[v.jsx(gn,{to:"/",className:"text-orange-100 dark:text-gray-300 hover:text-white transition-colors font-reading",children:n("home")}),v.jsx(gn,{to:"/search",className:"text-orange-100 dark:text-gray-300 hover:text-white transition-colors font-reading",children:n("search")}),v.jsx(gn,{to:"/login",className:"text-orange-100 dark:text-gray-300 hover:text-white transition-colors font-reading",children:n("nav.login")})]})]}),"        ",v.jsxs("div",{className:"mt-8 border-t border-orange-200 dark:border-gray-600 pt-6 flex flex-col sm:flex-row justify-between items-center",children:[v.jsxs("p",{className:"text-sm text-orange-100 dark:text-gray-300",children:[" ",e," ",n("copyright")]}),v.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-4",children:[v.jsx(gn,{to:"/privacy",className:"text-orange-100 dark:text-gray-300 hover:text-white text-sm transition-colors",children:n("privacy")}),v.jsx(gn,{to:"/terms",className:"text-orange-100 dark:text-gray-300 hover:text-white text-sm transition-colors",children:n("terms")})]})]})]})})},Pj=[{id:"1",name:{fr:"Casque audio sans fil",en:"Wireless Headphones",es:"Auriculares Inalmbricos",ar:"  ",zh:"",pt:"Fones de Ouvido Sem Fio",nl:"Draadloze Hoofdtelefoon"},category:"lectronique",description:{fr:"Casque audio sans fil avec une qualit sonore leve et un ajustement confortable.",en:"Wireless headphones with high sound quality and comfortable fit.",es:"Auriculares inalmbricos con alta calidad de sonido y ajuste cmodo.",ar:"       .",zh:"",pt:"Fones de ouvido sem fio com alta qualidade de som e ajuste confortvel.",nl:"Draadloze hoofdtelefoon met hoge geluidskwaliteit en comfortabele pasvorm."},images:["https://images.pexels.com/photos/3394666/pexels-photo-3394666.jpeg","https://images.pexels.com/photos/3394665/pexels-photo-3394665.jpeg"],supplier:{id:"supplier-1",name:"Shenzhen Audio Tech",email:"contact@shenzhenaudiotech.com",location:"Shenzhen, Chine"},moq:100,price:{cny:150,unitCny:1.5},certifiedCE:!0,specifications:{brand:"AudioTech Pro",origin:"Shenzhen, Chine",style:"Over-ear",modelNumber:"AT-WH200",application:"Grand public, Gaming",material:"ABS, Cuir synthtique, Mousse  mmoire de forme"}},{id:"2",name:{fr:"Powerbank 10000mAh",en:"Powerbank 10000mAh",es:"Batera Externa 10000mAh",ar:"  10000mAh",zh:"10000mAh",pt:"Powerbank 10000mAh",nl:"Powerbank 10000mAh"},category:"lectronique",description:{fr:"Powerbank portable de 10000mAh avec charge rapide et connectivit multiple.",en:"Portable 10000mAh powerbank with fast charging and multiple connectivity.",es:"Batera externa porttil de 10000mAh con carga rpida y conectividad mltiple.",ar:"   10000mAh     .",zh:"10000mAh",pt:"Powerbank porttil de 10000mAh com carregamento rpido e conectividade mltipla.",nl:"Draagbare 10000mAh powerbank met snelladen en meerdere connectiviteit."},images:["https://images.pexels.com/photos/4068314/pexels-photo-4068314.jpeg"],supplier:{id:"supplier-2",name:"Guangzhou Power Solutions",email:"sales@gzpower.com",location:"Guangzhou, Chine"},moq:50,price:{cny:80,unitCny:1.6},certifiedCE:!0,specifications:{brand:"PowerMax",origin:"Guangzhou, Chine",modelNumber:"PM-10K",material:"Aluminium, Lithium-ion"}},{id:"3",name:{fr:"Panneau solaire flexible 100W",en:"Flexible Solar Panel 100W",es:"Panel Solar Flexible 100W",ar:"   100 ",zh:"100W",pt:"Painel Solar Flexvel 100W",nl:"Flexibel Zonnepaneel 100W"},category:"lectronique",description:{fr:"Panneau solaire flexible de 100W, haute efficacit, installation facile.",en:"Flexible 100W solar panel, high efficiency, easy installation.",es:"Panel solar flexible de 100W, alta eficiencia, instalacin fcil.",ar:"   100     .",zh:"",pt:"Painel solar flexvel de 100W, alta eficincia, instalao fcil.",nl:"Flexibel 100W zonnepaneel, hoge efficintie, eenvoudige installatie."},images:["https://images.pexels.com/photos/159160/solar-panel-array-power-sun-electricity-159160.jpeg"],supplier:{id:"supplier-3",name:"Solar Energy Co",email:"info@solarenergy.cn",location:"Shanghai, Chine"},moq:20,price:{cny:800,unitCny:40},certifiedCE:!0,specifications:{brand:"SolarFlex",origin:"Shanghai, Chine",modelNumber:"SF-100F",material:"Silicium monocristallin"}},{id:"4",name:{fr:"Veste impermable recycle",en:"Recycled Waterproof Jacket",es:"Chaqueta Impermeable Reciclada",ar:"    ",zh:"",pt:"Jaqueta Impermevel Reciclada",nl:"Gerecyclede Waterdichte Jas"},category:"Vtements",description:{fr:"Veste impermable fabrique  partir de matriaux recycls, respectueuse de l'environnement.",en:"Waterproof jacket made from recycled materials, environmentally friendly.",es:"Chaqueta impermeable hecha de materiales reciclados, respetuosa con el medio ambiente.",ar:"         .",zh:"",pt:"Jaqueta impermevel feita de materiais reciclados, ecologicamente correta.",nl:"Waterdichte jas gemaakt van gerecyclede materialen, milieuvriendelijk."},images:["https://images.pexels.com/photos/1040945/pexels-photo-1040945.jpeg"],supplier:{id:"supplier-4",name:"EcoWear Manufacturing",email:"contact@ecowear.cn",location:"Hangzhou, Chine"},moq:200,price:{cny:350,unitCny:1.75},certifiedCE:!1,specifications:{brand:"EcoShield",origin:"Hangzhou, Chine",style:"Outdoor",modelNumber:"ES-R200",application:"Randonne, Sport, Casual",material:"Polyester recycl, PFC-free DWR"}},{id:"5",name:{fr:"Robot aspirateur intelligent",en:"Smart Robot Vacuum",es:"Robot Aspiradora Inteligente",ar:"  ",zh:"",pt:"Aspirador Rob Inteligente",nl:"Slimme Robotstofzuiger"},category:"Maison",description:{fr:"Robot aspirateur intelligent avec navigation laser et station de charge automatique.",en:"Smart robot vacuum with laser navigation and automatic charging station.",es:"Robot aspiradora inteligente con navegacin lser y estacin de carga automtica.",ar:"        .",zh:"",pt:"Aspirador rob inteligente com navegao a laser e estao de carregamento automtico.",nl:"Slimme robotstofzuiger met lasernavigatie en automatisch laadstation."},images:["https://images.pexels.com/photos/8005370/pexels-photo-8005370.jpeg"],supplier:{id:"supplier-5",name:"Smart Home Tech",email:"sales@smarthometech.cn",location:"Beijing, Chine"},moq:10,price:{cny:1800,unitCny:180},certifiedCE:!0,specifications:{brand:"CleanBot Pro",origin:"Beijing, Chine",style:"Circulaire",modelNumber:"CB-LX3000",application:"Domestique, Bureau",material:"ABS, Mtal bross"}}],Xw=n=>Pj.find(e=>e.id===n),Mj=(n,e)=>{if(typeof n.name=="object"&&n.name!==null)return n.name[e]||n.name.fr||n.name.en||Object.values(n.name)[0]||"Produit sans nom";const t={"Casque audio sans fil":{fr:"Casque audio sans fil",en:"Wireless Headphones",es:"Auriculares inalmbricos",ar:"  ",zh:"",pt:"Fones de ouvido sem fio",nl:"Draadloze hoofdtelefoon"},"Powerbank 10000mAh":{fr:"Powerbank 10000mAh",en:"Power Bank 10000mAh",es:"Batera externa 10000mAh",ar:"  10000  ",zh:"10000",pt:"Power Bank 10000mAh",nl:"Powerbank 10000mAh"},"Panneau solaire flexible 100W":{fr:"Panneau solaire flexible 100W",en:"Flexible Solar Panel 100W",es:"Panel solar flexible 100W",ar:"   100 ",zh:"100W",pt:"Painel Solar Flexvel 100W",nl:"Flexibel zonnepaneel 100W"},"Veste impermable recycle":{fr:"Veste impermable recycle",en:"Recycled Waterproof Jacket",es:"Chaqueta impermeable reciclada",ar:"    ",zh:"",pt:"Jaqueta impermevel reciclada",nl:"Gerecyclede waterdichte jas"},"Robot aspirateur intelligent":{fr:"Robot aspirateur intelligent",en:"Smart Robot Vacuum",es:"Aspiradora robot inteligente",ar:"  ",zh:"",pt:"Aspirador rob inteligente",nl:"Slimme robotstofzuiger"},"Crme hydratante bio":{fr:"Crme hydratante bio",en:"Organic Moisturizing Cream",es:"Crema hidratante orgnica",ar:"  ",zh:"",pt:"Creme hidratante orgnico",nl:"Biologische vochtinbrengende crme"},"Machine  caf expresso":{fr:"Machine  caf expresso",en:"Espresso Coffee Machine",es:"Mquina de caf espresso",ar:"  ",zh:"",pt:"Mquina de caf expresso",nl:"Espresso koffiemachine"},"Tlescope astronomique 150mm":{fr:"Tlescope astronomique 150mm",en:"Astronomical Telescope 150mm",es:"Telescopio astronmico 150mm",ar:"  150 ",zh:"150mm",pt:"Telescpio astronmico 150mm",nl:"Astronomische telescoop 150mm"},"Drone professionnel 4K":{fr:"Drone professionnel 4K",en:"Professional 4K Drone",es:"Drone profesional 4K",ar:"   4K",zh:"4K",pt:"Drone profissional 4K",nl:"Professionele 4K drone"},"Kit de filtres  huile":{fr:"Kit de filtres  huile",en:"Oil Filter Kit",es:"Kit de filtros de aceite",ar:"  ",zh:"",pt:"Kit de filtros de leo",nl:"Oliefilter kit"},"Monture de lunettes titane":{fr:"Monture de lunettes titane",en:"Titanium Glasses Frame",es:"Marco de gafas de titanio",ar:"   ",zh:"",pt:"Armao de culos de titnio",nl:"Titanium brillenmontuur"},"Perceuse sans fil professionnelle":{fr:"Perceuse sans fil professionnelle",en:"Professional Cordless Drill",es:"Taladro inalmbrico profesional",ar:"  ",zh:"",pt:"Furadeira sem fio profissional",nl:"Professionele draadloze boor"},"Bureau ergonomique rglable":{fr:"Bureau ergonomique rglable",en:"Adjustable Ergonomic Desk",es:"Escritorio ergonmico ajustable",ar:"   ",zh:"",pt:"Mesa ergonmica ajustvel",nl:"Verstelbaar ergonomisch bureau"},"Appareil photo":{fr:"Appareil photo",en:"Camera",es:"Cmara",ar:"",zh:"",pt:"Cmera",nl:"Camera"},"Wireless Headphones":{fr:"Casque sans fil",en:"Wireless Headphones",es:"Auriculares inalmbricos",ar:" ",zh:"",pt:"Fones de ouvido sem fio",nl:"Draadloze hoofdtelefoon"},"Power Bank 10000mAh":{fr:"Batterie externe 10000mAh",en:"Power Bank 10000mAh",es:"Batera externa 10000mAh",ar:"  10000  ",zh:"10000",pt:"Power Bank 10000mAh",nl:"Powerbank 10000mAh"},"Flexible Solar Panel 100W":{fr:"Panneau solaire flexible 100W",en:"Flexible Solar Panel 100W",es:"Panel solar flexible 100W",ar:"   100 ",zh:"100W",pt:"Painel solar flexvel 100W",nl:"Flexibel zonnepaneel 100W"},"Recycled Waterproof Jacket":{fr:"Veste impermable recycle",en:"Recycled Waterproof Jacket",es:"Chaqueta impermeable reciclada",ar:"    ",zh:"",pt:"Jaqueta impermevel reciclada",nl:"Gerecyclede waterdichte jas"},"Smart Robot Vacuum":{fr:"Robot aspirateur intelligent",en:"Smart Robot Vacuum",es:"Aspiradora robot inteligente",ar:"  ",zh:"",pt:"Aspirador rob inteligente",nl:"Slimme robotstofzuiger"},"Organic Moisturizing Cream":{fr:"Crme hydratante bio",en:"Organic Moisturizing Cream",es:"Crema hidratante orgnica",ar:"  ",zh:"",pt:"Creme hidratante orgnico",nl:"Biologische vochtinbrengende crme"}},i=n.name,a=t[i];return a&&(a[e]||a.fr||a.en)||i},Ww=({product:n})=>{const{currency:e}=MS(),{language:t}=mf(),i=Mj(n,t),a=n.description[t]||n.description.en||"",l=Cw(n.price.unitCny,e),u=Cw(n.price.cny,e),f=n.discount?u*(1-n.discount/100):u;return v.jsxs(gn,{to:`/product/${n.id}`,className:"group bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden",children:[v.jsxs("div",{className:"relative h-48 overflow-hidden",children:[v.jsx("img",{src:n.images?.[0]||"/api/placeholder/300/200",alt:i,className:"absolute inset-0 w-full h-full object-cover transform hover:scale-105 transition-transform duration-300"}),v.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[n.isNew&&v.jsx("span",{className:"bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"NOUVEAU"}),n.isPopular&&v.jsx("span",{className:"bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"POPULAIRE"})]}),v.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[n.certifiedCE&&v.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"CE"}),n.discount&&n.discount>0&&v.jsxs("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:["-",n.discount,"%"]})]})]}),v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"flex flex-col h-full",children:[n.brand&&v.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-1",children:n.brand}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors font-display",children:i}),v.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2 flex-grow font-reading text-readable",children:a}),n.featured&&n.featured.length>0&&v.jsx("div",{className:"mb-3",children:v.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.featured.slice(0,3).map((p,m)=>v.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-full",children:p},m)),n.featured.length>3&&v.jsxs("span",{className:"text-xs text-gray-500",children:["+",n.featured.length-3]})]})}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[v.jsxs("span",{children:["MOQ: ",n.moq," units"]}),v.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:n.category})]}),v.jsx("div",{className:"border-t pt-2 mt-2",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"text-xs text-gray-500 font-reading",children:[Hd(l,e),"/unit"]}),v.jsx("div",{className:"flex items-center gap-2",children:n.discount&&n.discount>0?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"text-lg font-bold text-red-600 font-display",children:Hd(f,e)}),v.jsx("div",{className:"text-sm line-through text-gray-400 font-display",children:Hd(u,e)})]}):v.jsx("div",{className:"text-lg font-bold text-blue-700 font-display",children:Hd(u,e)})}),v.jsxs("div",{className:"text-xs text-gray-500 font-reading",children:["pour ",n.moq," units"]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-1 font-reading",children:"Fournisseur"}),v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 font-display",children:n.supplier.name}),v.jsxs("div",{className:"flex items-center mt-1",children:[v.jsxs("div",{className:"flex text-yellow-400 text-xs",children:["".repeat(Math.floor(n.rating||n.supplier.rating||0)),"".repeat(5-Math.floor(n.rating||n.supplier.rating||0))]}),v.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",n.rating||n.supplier.rating||0,")"]})]})]})]})})]})]})})]})},ht=({icon:n,title:e,children:t})=>v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[n,v.jsx("h3",{className:"ml-2 text-lg font-semibold text-gray-800 dark:text-white",children:e})]}),v.jsx("div",{children:t})]}),Vj=()=>{const{user:n,loading:e,updateUser:t}=nl(),[i,a]=U.useState("infos"),l=U.useRef(null),[u,f]=U.useState(null),[p,m]=U.useState("idle"),y=n;if(e)return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:v.jsx("div",{className:"text-center text-gray-600 dark:text-gray-300",children:"Chargement du profil..."})});if(!y)return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:v.jsx("div",{className:"text-center text-gray-600 dark:text-gray-300",children:"Vous devez tre connect pour voir votre profil."})});const w=y?.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(y.name)}`,T=[{id:"cmd-001",status:"Livr",total:1200,date:"2024-06-01"},{id:"cmd-002",status:"En cours",total:850,date:"2024-06-10"}],I=[{id:"msg-001",from:"Fournisseur A",content:"Votre commande a t expdie.",date:"2024-06-02"},{id:"msg-002",from:"Sourcer B",content:"Avez-vous reu le devis ?",date:"2024-06-11"}],x=async R=>{const P=R.target.files?.[0];if(P&&y){m("idle");try{const Q=new FileReader;Q.onload=ae=>{f(ae.target?.result)},Q.readAsDataURL(P);const W=X4(EL,`avatars/${y.id}`);await Q4(W,P);const oe=await Y4(W);await t({avatar:oe}),m("success")}catch{m("error")}}},D=()=>{l.current?.click()};return v.jsxs("div",{className:"max-w-3xl mx-auto p-4 sm:p-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg mt-6",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start mb-6",children:[v.jsx("img",{src:w,alt:"avatar",className:"w-20 h-20 rounded-full border-4 border-gray-200 dark:border-gray-700 object-cover"}),v.jsxs("div",{className:"sm:ml-6 mt-4 sm:mt-0 text-center sm:text-left",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y.name}),v.jsx("p",{className:"text-gray-500 dark:text-gray-300",children:y.role.charAt(0).toUpperCase()+y.role.slice(1)}),v.jsxs("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start mt-2",children:[v.jsxs("span",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[v.jsx(zS,{className:"w-4 h-4 mr-1"}),y.language||""]}),v.jsxs("span",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[v.jsx(w6,{className:"w-4 h-4 mr-1"}),y.country||""]})]})]})]}),v.jsxs("div",{className:"flex space-x-4 border-b border-gray-200 dark:border-gray-700 mb-6",children:[v.jsxs("button",{onClick:()=>a("infos"),className:`pb-2 px-4 font-medium ${i==="infos"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-300"}`,children:[v.jsx(kh,{className:"inline w-5 h-5 mr-1"})," Infos"]}),v.jsxs("button",{onClick:()=>a("settings"),className:`pb-2 px-4 font-medium ${i==="settings"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-300"}`,children:[v.jsx(r0,{className:"inline w-5 h-5 mr-1"})," Paramtres"]}),v.jsxs("button",{onClick:()=>a("security"),className:`pb-2 px-4 font-medium ${i==="security"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-300"}`,children:[v.jsx(Ow,{className:"inline w-5 h-5 mr-1"})," Scurit"]})]}),i==="infos"&&v.jsxs("div",{children:[v.jsx(ht,{icon:v.jsx(kh,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Informations personnelles",children:v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Nom :"})," ",y.name]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Email :"})," ",y.email]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Tlphone :"})," ",y.phone||""]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Rle :"})," ",y.role]})]})}),v.jsx(ht,{icon:v.jsx(kg,{className:"w-5 h-5 text-orange-500"}),title:"Produits favoris",children:y.favorites.length===0?v.jsx("div",{className:"text-gray-500",children:"Aucun produit favori."}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:y.favorites.map(R=>{const P=Xw(R);return P?v.jsx(Ww,{product:P},R):null})})}),v.jsx(ht,{icon:v.jsx(jS,{className:"w-5 h-5 text-blue-400"}),title:"Historique de navigation",children:y.browsingHistory.length===0?v.jsx("div",{className:"text-gray-500",children:"Aucun historique."}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:y.browsingHistory.map(R=>{const P=Xw(R);return P?v.jsx(Ww,{product:P},R):null})})}),y.role==="supplier"&&v.jsxs(v.Fragment,{children:[v.jsx(ht,{icon:v.jsx(Nw,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Entreprise",children:v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Statut lgal :"})," ",y.company.legalStatus]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Adresse :"})," ",y.company.address]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Site web :"})," ",v.jsx("a",{href:y.company.website,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:y.company.website})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Certificats :"})," ",y.company.certificates.join(", ")]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Surface :"})," ",y.company.production.area]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Machines :"})," ",y.company.production.machines]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Employs :"})," ",y.company.production.employees]})]})}),v.jsx(ht,{icon:v.jsx(Og,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Produits",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-900",children:[v.jsx("th",{className:"p-2",children:"Produit"}),v.jsx("th",{className:"p-2",children:"MOQ"}),v.jsx("th",{className:"p-2",children:"Prix ()"}),v.jsx("th",{className:"p-2",children:"Dlai"})]})}),v.jsx("tbody",{children:y.company.products.map((R,P)=>v.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[v.jsx("td",{className:"p-2",children:R.name}),v.jsx("td",{className:"p-2",children:R.moq}),v.jsx("td",{className:"p-2",children:R.price}),v.jsx("td",{className:"p-2",children:R.lead})]},P))})]})})}),v.jsx(ht,{icon:v.jsx(a6,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Documents",children:v.jsx("ul",{className:"list-disc ml-6",children:y.company.documents.map((R,P)=>v.jsx("li",{children:v.jsx("a",{href:"#",className:"text-blue-600 underline",children:R})},P))})}),v.jsx(ht,{icon:v.jsx(bc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Demandes B2B reues",children:v.jsx("ul",{className:"list-disc ml-6",children:y.company.b2bRequests.map(R=>v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:R.client}),"  ",R.product," ",v.jsxs("span",{className:"text-xs text-gray-500",children:["(",R.status,")"]})]},R.id))})})]}),y.role==="sourcer"&&v.jsxs(v.Fragment,{children:[v.jsx(ht,{icon:v.jsx(Pw,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Exprience & langues",children:v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Annes de sourcing :"})," 7"]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Langues :"})," Franais, Anglais, Mandarin"]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Rgions couvertes :"})," Chine, Vietnam"]})]})}),v.jsx(ht,{icon:v.jsx(FS,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Fournisseurs & produits",children:v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Fournisseurs :"})," Fournisseur A, Fournisseur B"]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Produits :"})," Textiles, lectronique"]})]})}),v.jsx(ht,{icon:v.jsx(n0,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Services proposs",children:v.jsx("div",{className:"flex flex-wrap gap-2",children:["Ngociation","Qualit","Suivi de production","Traduction"].map(R=>v.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 px-3 py-1 rounded-full text-sm",children:R},R))})}),v.jsx(ht,{icon:v.jsx(Pw,{className:"w-5 h-5 text-yellow-500"}),title:"valuations",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-bold text-lg",children:"4.8"}),v.jsx("span",{className:"text-gray-500",children:"(32 avis)"})]})}),v.jsx(ht,{icon:v.jsx(bc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Disponibilits",children:v.jsx("p",{children:"Lun-Ven, 9h-18h"})})]}),y.role==="client"&&v.jsxs(v.Fragment,{children:[v.jsx(ht,{icon:v.jsx(Nw,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Entreprise & adresses",children:v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Entreprise :"})," ",y.client.company]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium",children:"Adresses :"})," ",y.client.addresses.join(" / ")]})]})}),v.jsx(ht,{icon:v.jsx(bc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Demandes envoyes",children:v.jsx("ul",{className:"list-disc ml-6",children:y.client.requests.map(R=>v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:R.title})," ",v.jsxs("span",{className:"text-xs text-gray-500",children:["(",R.status,")"]})]},R.id))})}),v.jsx(ht,{icon:v.jsx(Og,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Commandes",children:T.length===0?v.jsx("div",{className:"text-gray-500",children:"Aucune commande."}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-900",children:[v.jsx("th",{className:"p-2",children:"Rfrence"}),v.jsx("th",{className:"p-2",children:"Statut"}),v.jsx("th",{className:"p-2",children:"Total ()"}),v.jsx("th",{className:"p-2",children:"Date"})]})}),v.jsx("tbody",{children:T.map(R=>v.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[v.jsx("td",{className:"p-2",children:R.id}),v.jsx("td",{className:"p-2",children:R.status}),v.jsx("td",{className:"p-2",children:R.total}),v.jsx("td",{className:"p-2",children:R.date})]},R.id))})]})})}),v.jsx(ht,{icon:v.jsx(qS,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Conteneurs",children:v.jsx("ul",{className:"list-disc ml-6",children:y.client.containers.map((R,P)=>v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:R.ref}),"  ",R.location," ",v.jsxs("span",{className:"text-xs text-gray-500",children:["(ETA ",R.eta,")"]})]},P))})}),v.jsx(ht,{icon:v.jsx(kg,{className:"w-5 h-5 text-orange-500"}),title:"Favoris",children:v.jsx("ul",{className:"list-disc ml-6",children:y.client.favorites.map((R,P)=>v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:R.name})," ",v.jsxs("span",{className:"text-xs text-gray-500",children:["(",R.type,")"]})]},P))})})]}),v.jsx(ht,{icon:v.jsx(bc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Messages",children:I.length===0?v.jsx("div",{className:"text-gray-500",children:"Aucun message."}):v.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:I.map(R=>v.jsxs("li",{className:"py-2",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:R.from}),v.jsx("span",{className:"text-xs text-gray-500",children:R.date})]}),v.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:R.content})]},R.id))})})]}),i==="settings"&&v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[v.jsx(ht,{icon:v.jsx(m6,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Mot de passe",children:v.jsx("button",{className:"text-blue-600 underline",children:"Modifier le mot de passe"})}),v.jsx(ht,{icon:v.jsx(Dh,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Notifications",children:v.jsx("button",{className:"text-blue-600 underline",children:"Grer les notifications"})}),v.jsx(ht,{icon:v.jsx(BS,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Photo de profil",children:v.jsxs("div",{className:"flex flex-col items-start gap-2",children:[v.jsx("button",{className:"text-blue-600 underline",onClick:D,children:"Changer la photo de profil"}),v.jsx("input",{type:"file",accept:"image/*",ref:l,className:"hidden",onChange:x}),u&&v.jsx("img",{src:u,alt:"Aperu",className:"w-20 h-20 rounded-full border mt-2"}),p==="success"&&v.jsx("span",{className:"text-green-600 text-sm mt-2",children:"Photo de profil mise  jour avec succs !"}),p==="error"&&v.jsx("span",{className:"text-red-600 text-sm mt-2",children:"Erreur lors de l'upload. Veuillez ressayer."})]})})]}),i==="security"&&v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[v.jsx(ht,{icon:v.jsx(v6,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"2FA",children:v.jsx("button",{className:"text-blue-600 underline",children:"Activer/Dsactiver la double authentification"})}),v.jsx(ht,{icon:v.jsx(Ow,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Sessions",children:v.jsx("button",{className:"text-blue-600 underline",children:"Voir les sessions actives"})}),v.jsx(ht,{icon:v.jsx(bc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),title:"Historique de connexions",children:v.jsx("button",{className:"text-blue-600 underline",children:"Afficher l'historique"})})]})]})},Lj=()=>{try{return["demoUser","user","authToken","lastLogin","userPreferences","sessionData","firebaseAuth","persist:root"].forEach(e=>{localStorage.removeItem(e)}),sessionStorage.clear(),document.cookie.split(";").forEach(function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),console.log(" Toutes les donnes utilisateur ont t nettoyes"),!0}catch(n){return console.error(" Erreur lors du nettoyage des donnes:",n),!1}},Uj=async()=>{Lj(),window.location.href="/"},Jw=()=>{window.confirm(` DCONNEXION D'URGENCE 

Ceci va nettoyer toutes les donnes de session et vous rediriger vers la page d'accueil.

Continuer ?`)&&Uj()},jj=()=>{const{user:n,logout:e}=nl(),t=async()=>{try{await e(),setTimeout(()=>{window.location.pathname!=="/"&&(window.location.href="/")},1e3)}catch(a){console.error("Erreur lors de la dconnexion:",a),Jw()}},i=()=>{Jw()};return n?v.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsxs("button",{onClick:t,onDoubleClick:i,className:"bg-red-500 hover:bg-red-600 text-white p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 flex items-center gap-2",title:"Clic: dconnexion normale | Double-clic: dconnexion d'urgence",children:[v.jsx(E6,{size:20}),v.jsx("span",{className:"hidden sm:inline text-sm font-semibold",children:"Dconnexion"})]}),v.jsxs("div",{className:"text-xs text-gray-500 text-center hidden sm:block",children:["Double-clic pour",v.jsx("br",{}),"dconnexion d'urgence"]})]})}):null},zj=[{label:"Accueil",icon:v.jsx(h6,{size:20}),to:"/dashboard/home"},{label:"Commandes",icon:v.jsx(i0,{size:20}),to:"/dashboard/orders"},{label:"Produits",icon:v.jsx(Og,{size:20}),to:"/dashboard/products"},{label:"Fournisseurs",icon:v.jsx(FS,{size:20}),to:"/dashboard/suppliers"},{label:"Statistiques",icon:v.jsx(FL,{size:20}),to:"/dashboard/stats"},{label:"Paramtres",icon:v.jsx(r0,{size:20}),to:"/dashboard/settings"}],Bj=()=>v.jsxs("aside",{className:"fixed top-0 left-0 h-full w-64 z-30 flex flex-col bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 transition-all duration-300",children:[v.jsx("div",{className:"flex items-center justify-center h-16 border-b border-gray-200 dark:border-gray-800",children:v.jsx("span",{className:"text-xl font-bold tracking-tight text-blue-600 dark:text-orange-400",children:"Chine Ton Usine"})}),v.jsx("nav",{className:"flex-1 py-6 px-2 space-y-2",children:zj.map(n=>v.jsxs(fT,{to:n.to,className:({isActive:e})=>`flex items-center px-4 py-2 rounded-lg transition-colors duration-200 group text-gray-700 dark:text-gray-200 hover:bg-orange-50 dark:hover:bg-gray-800 hover:text-orange-600 dark:hover:text-orange-400 ${e?"border-l-4 border-orange-600 bg-orange-50 dark:bg-gray-800 text-orange-600 dark:text-orange-400 font-semibold":""}`,children:[v.jsx("span",{className:"mr-3 text-orange-500 dark:text-orange-400 group-hover:scale-110 transition-transform",children:n.icon}),v.jsx("span",{className:"truncate",children:n.label})]},n.to))})]}),Ro=({children:n})=>v.jsxs("div",{className:"min-h-screen flex bg-gray-50 dark:bg-gray-900",children:[v.jsx(Bj,{}),v.jsx("main",{className:"flex-1 ml-64 p-6 transition-all duration-300",children:n})]}),qj=()=>v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Bienvenue sur votre dashboard"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Accdez rapidement  vos commandes, produits, statistiques et plus encore."})]}),Fj=()=>v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Commandes"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Grez toutes vos commandes ici."})]}),Hj=()=>v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Produits"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Grez vos produits ici."})]}),Gj=()=>v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Fournisseurs"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Grez vos fournisseurs ici."})]}),$j=()=>v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Statistiques"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Visualisez vos statistiques ici."})]}),Kj=()=>v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Paramtres"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Modifiez vos paramtres de compte ici."})]}),Qj=Ue.lazy(()=>Ge(()=>import("./HomePageFixed-24SFdBmG.js"),__vite__mapDeps([0,1,2]))),Yj=Ue.lazy(()=>Ge(()=>import("./ProductsPageB2B-B_XZxYBd.js"),__vite__mapDeps([3,4,5,1,6,7,8]))),Xj=Ue.lazy(()=>Ge(()=>import("./ProductDetailPageB2B-plRThNU3.js"),__vite__mapDeps([9,4,10,1,6,7,8]))),Wj=Ue.lazy(()=>Ge(()=>import("./ProductsList-BONXf7_e.js"),__vite__mapDeps([11,4]))),Jj=Ue.lazy(()=>Ge(()=>import("./ProductPage-DbsHU9Ln.js"),__vite__mapDeps([12,13,14,15,16]))),Zj=Ue.lazy(()=>Ge(()=>import("./ProductDetailPage-SldBFaQx.js"),__vite__mapDeps([17,10,6,7,18,19,1,20]))),e3=Ue.lazy(()=>Ge(()=>import("./SupplierProfilePage-DthXRRzB.js"),__vite__mapDeps([21,18,22,23,24,25,26,5,27,7,28,19,29,30,10,20,31,8,32,1,33]))),t3=Ue.lazy(()=>Ge(()=>import("./CategoryPage-mIIqiWjs.js"),__vite__mapDeps([34,10,28]))),n3=Ue.lazy(()=>Ge(()=>import("./LoginPage-Ds031ER6.js"),__vite__mapDeps([35,36,14,37]))),r3=Ue.lazy(()=>Ge(()=>import("./RegisterPage-CWtofoF5.js"),__vite__mapDeps([38,36,39,14,40,41]))),Zw=Ue.lazy(()=>Ge(()=>import("./AuthPageCombined-CmS_d7k-.js"),__vite__mapDeps([42,40,43,37]))),i3=Ue.lazy(()=>Ge(()=>import("./UniversalLoginPage-BJH9bY-G.js"),__vite__mapDeps([44,45,43,37]))),s3=Ue.lazy(()=>Ge(()=>import("./UniversalRegisterPage-D_1v1Fog.js"),__vite__mapDeps([46,45,37]))),a3=Ue.lazy(()=>Ge(()=>import("./NotFoundPage-QcdGDju1.js"),__vite__mapDeps([47,14]))),o3=Ue.lazy(()=>Ge(()=>import("./DashboardPage-Br0kMUsa.js"),__vite__mapDeps([48,49,15,50,51]))),l3=Ue.lazy(()=>Ge(()=>import("./ProductsPage-C0pufqk6.js"),__vite__mapDeps([52,14,53,7,54,30]))),c3=Ue.lazy(()=>Ge(()=>import("./ProductsPageNew-DCVuyVMc.js"),__vite__mapDeps([55,14,36,5,56,51,27,49,15,50,53,13,7,54,30]))),u3=Ue.lazy(()=>Ge(()=>import("./CustomersPage-DYX3iRxw.js"),__vite__mapDeps([57,14,58,10,49,15,50,22,18,31,5]))),d3=Ue.lazy(()=>Ge(()=>import("./MessagesPage-CsVLPlWc.js"),__vite__mapDeps([59,14,58,10,49,15,50,7]))),h3=Ue.lazy(()=>Ge(()=>import("./DocumentsPage-C614CC4Z.js"),__vite__mapDeps([60,49,15,50,58,10,14,26,25,61,56,7,24,31,5,30]))),f3=Ue.lazy(()=>Ge(()=>import("./ReviewsPage-CUM2QOLq.js"),__vite__mapDeps([62,14,58,10,49,15,50,33,31]))),p3=Ue.lazy(()=>Ge(()=>import("./AnalyticsPage-C3NqGdUB.js"),__vite__mapDeps([63,49,15,50,58,10,14,23,24,2,64,51,5,31]))),m3=Ue.lazy(()=>Ge(()=>import("./SettingsPage-Du0nFDox.js"),__vite__mapDeps([65,49,15,50,58,10,14,27,32,1,66,5]))),g3=Ue.lazy(()=>Ge(()=>import("./DashboardPage-BpWT_bXC.js"),__vite__mapDeps([67,14,36,39,68,50,1,7,69,30]))),y3=Ue.lazy(()=>Ge(()=>import("./UsersPage-G0gF1XAC.js"),__vite__mapDeps([70,14,58,10,68,50,1,36,39,22,66,5,7,31,69,30]))),v3=Ue.lazy(()=>Ge(()=>import("./SuppliersPage-_Uq7Rj63.js"),__vite__mapDeps([71,14,68,50,1,7,2,5,69,30]))),_3=Ue.lazy(()=>Ge(()=>import("./OrdersPage-DHsrU3P9.js"),__vite__mapDeps([72,68,50,1,51,31,5]))),E3=Ue.lazy(()=>Ge(()=>import("./ReportsPage-gh4xf1o1.js"),__vite__mapDeps([73,14,68,50,1,24,51,31,2,64]))),b3=Ue.lazy(()=>Ge(()=>import("./SettingsPage-Nnf08eVm.js"),__vite__mapDeps([74,14,68,50,1,27,22]))),w3=Ue.lazy(()=>Ge(()=>import("./ModerationPage-BN4beAsE.js"),__vite__mapDeps([75,14,68,50,1,5,15]))),T3=Ue.lazy(()=>Ge(()=>import("./DocumentsPage-BrbzfLL7.js"),__vite__mapDeps([76,14,68,50,1,26,5,24,61,31]))),A3=Ue.lazy(()=>Ge(()=>import("./ContainersManagementPage-FhHNcJCS.js"),__vite__mapDeps([77,78,68,50,1,7,54,30]))),S3=Ue.lazy(()=>Ge(()=>import("./InfluencerDashboard-CjG5bbEF.js"),__vite__mapDeps([79,50,16,31,5,2,51,29,19,8]))),x3=Ue.lazy(()=>Ge(()=>import("./ContainersPage-BLS2g-TO.js"),__vite__mapDeps([80,78,31,2,64,81])));function Co({children:n}){const{user:e,loading:t}=nl();if(t)return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:v.jsx(KS,{size:"lg",message:"Vrification de la session..."})});if(e){const i={admin:"/admin/dashboard",supplier:"/supplier/dashboard",customer:"/dashboard",sourcer:"/sourcer/dashboard",influencer:"/sourcer/dashboard"};return v.jsx(oh,{to:i[e.role],replace:!0})}return v.jsx(v.Fragment,{children:n})}function R3(){return v.jsxs($C,{children:[v.jsx(Re,{path:"/",element:v.jsx(Qj,{})}),v.jsx(Re,{path:"/products",element:v.jsx(Yj,{})}),v.jsx(Re,{path:"/products-test",element:v.jsx(Wj,{})}),v.jsx(Re,{path:"/product/:id",element:v.jsx(Xj,{})}),v.jsx(Re,{path:"/product-detail/:id",element:v.jsx(Zj,{})}),v.jsx(Re,{path:"/supplier/:supplierId",element:v.jsx(e3,{})}),v.jsx(Re,{path:"/product-old/:id",element:v.jsx(Jj,{})}),v.jsx(Re,{path:"/category/:categoryId",element:v.jsx(t3,{})}),v.jsx(Re,{path:"/login",element:v.jsx(Co,{children:v.jsx(i3,{})})}),v.jsx(Re,{path:"/register",element:v.jsx(Co,{children:v.jsx(s3,{})})}),v.jsx(Re,{path:"/auth",element:v.jsx(oh,{to:"/login",replace:!0})}),v.jsx(Re,{path:"/login-combined",element:v.jsx(Co,{children:v.jsx(Zw,{})})}),v.jsx(Re,{path:"/register-combined",element:v.jsx(Co,{children:v.jsx(Zw,{})})}),v.jsx(Re,{path:"/login-old",element:v.jsx(Co,{children:v.jsx(n3,{})})}),v.jsx(Re,{path:"/register-old",element:v.jsx(Co,{children:v.jsx(r3,{})})}),v.jsx(Re,{path:"/containers",element:v.jsx(lt,{allowedRoles:["supplier"],children:v.jsx(x3,{})})}),v.jsx(Re,{path:"/dashboard",element:v.jsx(lt,{allowedRoles:["customer","admin"],children:v.jsx(Ro,{children:v.jsx(qj,{})})})}),v.jsx(Re,{path:"/dashboard/orders",element:v.jsx(lt,{allowedRoles:["customer","admin"],children:v.jsx(Ro,{children:v.jsx(Fj,{})})})}),v.jsx(Re,{path:"/dashboard/products",element:v.jsx(lt,{allowedRoles:["customer","admin"],children:v.jsx(Ro,{children:v.jsx(Hj,{})})})}),v.jsx(Re,{path:"/dashboard/suppliers",element:v.jsx(lt,{allowedRoles:["customer","admin"],children:v.jsx(Ro,{children:v.jsx(Gj,{})})})}),v.jsx(Re,{path:"/dashboard/stats",element:v.jsx(lt,{allowedRoles:["customer","admin"],children:v.jsx(Ro,{children:v.jsx($j,{})})})}),v.jsx(Re,{path:"/dashboard/settings",element:v.jsx(lt,{allowedRoles:["customer","admin"],children:v.jsx(Ro,{children:v.jsx(Kj,{})})})}),v.jsx(Re,{path:"/supplier/dashboard",element:v.jsx(lt,{allowedRoles:["supplier","admin"],children:v.jsx(o3,{})})}),v.jsx(Re,{path:"/supplier/products",element:v.jsx(lt,{allowedRoles:["supplier","admin"],children:v.jsx(l3,{})})}),v.jsx(Re,{path:"/supplier/products-new",element:v.jsx(lt,{allowedRoles:["supplier","admin"],children:v.jsx(c3,{})})}),v.jsx(Re,{path:"/supplier/customers",element:v.jsx(lt,{allowedRoles:["supplier","admin"],children:v.jsx(u3,{})})}),v.jsx(Re,{path:"/supplier/messages",element:v.jsx(lt,{allowedRoles:["supplier","admin"],children:v.jsx(d3,{})})}),v.jsx(Re,{path:"/supplier/documents",element:v.jsx(lt,{allowedRoles:["supplier","admin"],children:v.jsx(h3,{})})}),v.jsx(Re,{path:"/supplier/reviews",element:v.jsx(lt,{allowedRoles:["supplier","admin"],children:v.jsx(f3,{})})}),v.jsx(Re,{path:"/supplier/analytics",element:v.jsx(lt,{allowedRoles:["supplier","admin"],children:v.jsx(p3,{})})}),v.jsx(Re,{path:"/supplier/settings",element:v.jsx(lt,{allowedRoles:["supplier","admin"],children:v.jsx(m3,{})})}),v.jsx(Re,{path:"/sourcer/dashboard",element:v.jsx(lt,{allowedRoles:["sourcer","influencer","admin"],children:v.jsx(S3,{})})}),v.jsx(Re,{path:"/admin/dashboard",element:v.jsx(lt,{allowedRoles:["admin"],children:v.jsx(g3,{})})}),v.jsx(Re,{path:"/admin/users",element:v.jsx(lt,{allowedRoles:["admin"],children:v.jsx(y3,{})})}),v.jsx(Re,{path:"/admin/suppliers",element:v.jsx(lt,{allowedRoles:["admin"],children:v.jsx(v3,{})})}),v.jsx(Re,{path:"/admin/orders",element:v.jsx(lt,{allowedRoles:["admin"],children:v.jsx(_3,{})})}),v.jsx(Re,{path:"/admin/reports",element:v.jsx(lt,{allowedRoles:["admin"],children:v.jsx(E3,{})})}),v.jsx(Re,{path:"/admin/settings",element:v.jsx(lt,{allowedRoles:["admin"],children:v.jsx(b3,{})})}),v.jsx(Re,{path:"/admin/moderation",element:v.jsx(lt,{allowedRoles:["admin"],children:v.jsx(w3,{})})}),v.jsx(Re,{path:"/admin/documents",element:v.jsx(lt,{allowedRoles:["admin"],children:v.jsx(T3,{})})}),v.jsx(Re,{path:"/admin/containers",element:v.jsx(lt,{allowedRoles:["admin"],children:v.jsx(A3,{})})}),v.jsx(Re,{path:"/profile",element:v.jsx(Vj,{})}),v.jsx(Re,{path:"*",element:v.jsx(a3,{})})]})}function C3(){return v.jsx(gI,{children:v.jsx(RL,{children:v.jsx(IL,{children:v.jsx(DL,{children:v.jsx(kL,{children:v.jsx(G6,{children:v.jsx(K6,{children:v.jsx(Q6,{children:v.jsx(Y6,{children:v.jsx(W6,{children:v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[v.jsx(kj,{}),v.jsx(U.Suspense,{fallback:v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:v.jsx(KS,{size:"lg",message:"Chargement..."})}),children:v.jsx(R3,{})}),v.jsx(Oj,{}),v.jsx(jj,{})]})})})})})})})})})})})}ZR.createRoot(document.getElementById("root")).render(v.jsx(U.StrictMode,{children:v.jsx(C3,{})}));export{Dh as $,Cw as A,Mj as B,jS as C,Hd as D,Vh as E,l6 as F,zS as G,kg as H,x6 as I,n0 as J,n6 as K,gn as L,w6 as M,i6 as N,a6 as O,Og as P,Ii as Q,Ue as R,i0 as S,qS as T,FS as U,Dg as V,Pj as W,gf as X,H6 as Y,kh as Z,KL as _,C6 as a,h6 as a0,r0 as a1,fT as a2,tr as a3,v6 as a4,oD as a5,vc as a6,D3 as a7,N3 as a8,dw as a9,US as aa,U6 as ab,E6 as ac,Pw as b,M3 as c,V3 as d,KS as e,O6 as f,Oe as g,I3 as h,Mc as i,v as j,$t as k,xg as l,Un as m,Ch as n,IM as o,NM as p,Cc as q,U as r,VM as s,Rg as t,P3 as u,$A as v,qA as w,mf as x,nl as y,MS as z};
