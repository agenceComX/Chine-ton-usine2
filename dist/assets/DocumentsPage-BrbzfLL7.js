import{r,j as e,O as u,a as D}from"./index-DbrDj4Du.js";import{B as d}from"./Button-BXIi94zn.js";import{A as B}from"./AdminLayout-DJvW88_N.js";import{U as F}from"./upload-DRa_T8yV.js";import{E as g}from"./eye-BDcpPqwB.js";import{D as o}from"./download-CjD73ddh.js";import{F as p}from"./file-RQGnb-U-.js";import{C as E}from"./calendar-B40bxLxD.js";import"./chart-column-zn556lbz.js";import"./shield-K9SayZ_V.js";const _=()=>{const[i,h]=r.useState([]),[f,c]=r.useState(!1),[l,y]=r.useState(""),[n,j]=r.useState(""),[m,b]=r.useState(""),N=[{id:"1",name:"Contrat fournisseur Shanghai Electronics.pdf",type:"contract",size:2048576,uploadedBy:"admin@chinetousine.com",uploadedAt:new Date("2024-01-10"),downloads:23,isPublic:!1,tags:["fournisseur","électronique","shanghai"],description:"Contrat de partenariat avec Shanghai Electronics Co."},{id:"2",name:"Certificats de qualité Q4 2023.pdf",type:"certificate",size:1536e3,uploadedBy:"quality@chinetousine.com",uploadedAt:new Date("2024-01-08"),downloads:45,isPublic:!0,tags:["qualité","certification","Q4"],description:"Certificats de qualité pour le Q4 2023"},{id:"3",name:"Rapport activité janvier 2024.docx",type:"report",size:512e3,uploadedBy:"manager@chinetousine.com",uploadedAt:new Date("2024-01-15"),downloads:12,isPublic:!1,tags:["rapport","activité","janvier"],description:"Rapport mensuel d'activité"},{id:"4",name:"Facture_001_Guangzhou_Textiles.pdf",type:"invoice",size:256e3,uploadedBy:"accounting@chinetousine.com",uploadedAt:new Date("2024-01-12"),downloads:8,isPublic:!1,tags:["facture","guangzhou","textile"],description:"Facture fournisseur Guangzhou Textiles"},{id:"5",name:"Guide utilisateur plateforme.pdf",type:"other",size:3072e3,uploadedBy:"support@chinetousine.com",uploadedAt:new Date("2024-01-05"),downloads:156,isPublic:!0,tags:["guide","utilisateur","aide"],description:"Guide d'utilisation de la plateforme"}],v=async()=>{c(!0);try{await new Promise(t=>setTimeout(t,1e3)),h(N)}catch(t){console.error("Erreur lors du chargement:",t),b(t instanceof Error?t.message:"Erreur lors du chargement des documents")}finally{c(!1)}};r.useEffect(()=>{v()},[]);const w=i.filter(t=>{const s=t.name.toLowerCase().includes(l.toLowerCase())||t.description?.toLowerCase().includes(l.toLowerCase())||t.tags.some(T=>T.toLowerCase().includes(l.toLowerCase())),a=n===""||t.type===n;return s&&a}),k=t=>({contract:"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100",invoice:"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",certificate:"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-100",report:"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-100",other:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"})[t]||"bg-gray-100 text-gray-800",C=t=>({contract:"Contrat",invoice:"Facture",certificate:"Certificat",report:"Rapport",other:"Autre"})[t]||t,x=t=>{const s=["B","KB","MB","GB"];if(t===0)return"0 B";const a=Math.floor(Math.log(t)/Math.log(1024));return Math.round(t/Math.pow(1024,a)*100)/100+" "+s[a]},z=t=>new Intl.DateTimeFormat("fr-FR",{year:"numeric",month:"short",day:"numeric"}).format(t);return e.jsx(B,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gestion des Documents"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gérez tous les documents de la plateforme"})]}),e.jsxs(d,{onClick:()=>console.log("Upload document"),className:"flex items-center gap-2",children:[e.jsx(F,{size:16}),"Télécharger un document"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:i.length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Publics"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:i.filter(t=>t.isPublic).length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Téléchargements"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:i.reduce((t,s)=>t+s.downloads,0)})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Taille totale"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:x(i.reduce((t,s)=>t+s.size,0))})]})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Rechercher par nom, description ou tags...",value:l,onChange:t=>y(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white placeholder-gray-600 dark:placeholder-gray-400"})]})}),e.jsx("div",{className:"w-full sm:w-48",children:e.jsxs("select",{value:n,onChange:t=>j(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"",children:"Tous les types"}),e.jsx("option",{value:"contract",children:"Contrat"}),e.jsx("option",{value:"invoice",children:"Facture"}),e.jsx("option",{value:"certificate",children:"Certificat"}),e.jsx("option",{value:"report",children:"Rapport"}),e.jsx("option",{value:"other",children:"Autre"})]})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:f?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Chargement..."})]}):e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:w.map(t=>e.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-r from-red-400 to-red-600 flex items-center justify-center mr-4",children:e.jsx(u,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.name}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${k(t.type)}`,children:C(t.type)}),t.isPublic&&e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100 rounded-full",children:"Public"})]}),t.description&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t.description}),t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:t.tags.map((s,a)=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 dark:bg-gray-600 dark:text-gray-300 rounded",children:s},a))}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(p,{size:12}),x(t.size)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(o,{size:12}),t.downloads," téléchargements"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{size:12}),z(t.uploadedAt)]}),e.jsxs("span",{children:["par ",t.uploadedBy]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(d,{onClick:()=>console.log("View document:",t),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx(g,{size:14}),"Voir"]}),e.jsxs(d,{onClick:()=>console.log("Download document:",t),size:"sm",className:"flex items-center gap-1",children:[e.jsx(o,{size:14}),"Télécharger"]})]})]})},t.id))})}),m&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("p",{className:"text-red-600",children:m})})]})})};export{_ as default};
