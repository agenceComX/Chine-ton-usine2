import{r as a,j as e,U as m,S as x,a as C,M as D}from"./index-DbrDj4Du.js";import{B as g}from"./Button-BXIi94zn.js";import{B as S}from"./BackButton-FxuuiGHy.js";import{S as M}from"./SupplierLayout-BDztLqG7.js";import{M as O}from"./mail-8A4mkR-w.js";import{P as z}from"./phone-Blwo4abk.js";import{C as F}from"./calendar-B40bxLxD.js";import{E as L}from"./eye-BDcpPqwB.js";import{M as B}from"./message-square-BGKFoHMd.js";import"./arrow-left-2Q9fRMZ4.js";import"./chart-column-zn556lbz.js";const $=()=>{const[s,h]=a.useState([]),[u,n]=a.useState(!1),[l,p]=a.useState(""),[i,j]=a.useState(""),[d,f]=a.useState(""),y=[{id:"1",name:"Marie Dupont",email:"marie.dupont@entreprise.fr",phone:"+33 1 23 45 67 89",company:"Tech Solutions SARL",location:"Paris, France",totalOrders:12,totalSpent:15680.5,lastOrderDate:new Date("2024-01-14"),joinedDate:new Date("2023-06-15"),status:"active"},{id:"2",name:"Jean Martin",email:"j.martin@boutique-mode.com",phone:"+33 4 56 78 90 12",company:"Boutique Mode & Style",location:"Lyon, France",totalOrders:8,totalSpent:8450,lastOrderDate:new Date("2024-01-10"),joinedDate:new Date("2023-09-20"),status:"active"},{id:"3",name:"Sophie Bernard",email:"sophie.bernard@gmail.com",location:"Marseille, France",totalOrders:3,totalSpent:2100.75,lastOrderDate:new Date("2023-12-18"),joinedDate:new Date("2023-11-05"),status:"inactive"},{id:"4",name:"Pierre Dubois",email:"p.dubois@construction-pro.fr",phone:"+33 2 34 56 78 90",company:"Construction Pro",location:"Nantes, France",totalOrders:25,totalSpent:42300.2,lastOrderDate:new Date("2024-01-12"),joinedDate:new Date("2023-03-10"),status:"active"},{id:"5",name:"Lucie Moreau",email:"lucie.moreau@beauty-center.fr",company:"Beauty Center",location:"Bordeaux, France",totalOrders:15,totalSpent:18900.4,lastOrderDate:new Date("2024-01-08"),joinedDate:new Date("2023-07-22"),status:"active"}],N=async()=>{n(!0);try{await new Promise(t=>setTimeout(t,1e3)),h(y)}catch(t){console.error("Erreur lors du chargement:",t),f(t instanceof Error?t.message:"Erreur lors du chargement des clients")}finally{n(!1)}};a.useEffect(()=>{N()},[]);const b=s.filter(t=>{const r=t.name.toLowerCase().includes(l.toLowerCase())||t.email.toLowerCase().includes(l.toLowerCase())||t.company?.toLowerCase().includes(l.toLowerCase()),k=i===""||t.status===i;return r&&k}),c=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(t),o=t=>new Intl.DateTimeFormat("fr-FR",{year:"numeric",month:"short",day:"numeric"}).format(t),v=t=>t==="active"?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",w=()=>s.reduce((t,r)=>t+r.totalSpent,0);return e.jsx(M,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(S,{to:"/supplier/dashboard",label:"Retour au tableau de bord",variant:"ghost"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Mes Clients"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gérez vos relations clients et suivez leur activité"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total clients"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:s.length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Clients actifs"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:s.filter(t=>t.status==="active").length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Commandes totales"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:s.reduce((t,r)=>t+r.totalOrders,0)})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-yellow-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"€"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Chiffre d'affaires"}),e.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:c(w())})]})]})})]}),"        ",e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-300",size:16}),e.jsx("input",{type:"text",placeholder:"Rechercher par nom, email ou entreprise...",value:l,onChange:t=>p(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-500 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-600 dark:placeholder-gray-400"})]})}),"            ",e.jsx("div",{className:"w-full sm:w-48",children:e.jsxs("select",{value:i,onChange:t=>j(t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-500 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Tous les statuts"}),e.jsx("option",{value:"active",children:"Actif"}),e.jsx("option",{value:"inactive",children:"Inactif"})]})})]})}),u?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Chargement..."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(t=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-lg",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name}),t.company&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.company})]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v(t.status)}`,children:t.status==="active"?"Actif":"Inactif"})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(O,{size:14,className:"mr-2"}),t.email]}),t.phone&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(z,{size:14,className:"mr-2"}),t.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(D,{size:14,className:"mr-2"}),t.location]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.totalOrders}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Commandes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c(t.totalSpent)}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total dépensé"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{size:12}),"Client depuis ",o(t.joinedDate)]}),t.lastOrderDate&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(x,{size:12}),"Dernière commande: ",o(t.lastOrderDate)]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(g,{onClick:()=>console.log("View customer:",t),variant:"outline",size:"sm",className:"flex-1 flex items-center justify-center gap-1",children:[e.jsx(L,{size:14}),"Voir"]}),e.jsxs(g,{onClick:()=>console.log("Message customer:",t),size:"sm",className:"flex-1 flex items-center justify-center gap-1",children:[e.jsx(B,{size:14}),"Message"]})]})]})]})},t.id))}),d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("p",{className:"text-red-600",children:d})})]})})};export{$ as default};
