const C=[{id:"cont1",name:"Conteneur Chine-Paris #001",departureLocation:"Shanghai, Chine",arrivalLocation:"Paris, France",estimatedDepartureDate:"2023-08-15",totalCapacity:1e3,usedCapacity:750,status:"active"},{id:"cont2",name:"Conteneur Chine-Berlin #002",departureLocation:"Shenzhen, Chine",arrivalLocation:"Berlin, Allemagne",estimatedDepartureDate:"2023-09-01",totalCapacity:800,usedCapacity:800,status:"closed"},{id:"cont3",name:"Conteneur Chine-New York #003",departureLocation:"Guangzhou, Chine",arrivalLocation:"New York, USA",estimatedDepartureDate:"2023-08-20",totalCapacity:1200,usedCapacity:300,status:"active"},{id:"cont4",name:"Conteneur Chine-Londres #004",departureLocation:"Ningbo, Chine",arrivalLocation:"Londres, UK",estimatedDepartureDate:"2023-09-10",totalCapacity:900,usedCapacity:900,status:"closed"},{id:"cont5",name:"Conteneur Chine-Sydney #005",departureLocation:"Qingdao, Chine",arrivalLocation:"Sydney, Australie",estimatedDepartureDate:"2023-09-05",totalCapacity:700,usedCapacity:150,status:"active"}],m=[{id:"item1",containerId:"cont1",productId:"prod1",quantity:100,userId:"user1"},{id:"item2",containerId:"cont1",productId:"prod2",quantity:200,userId:"user2"},{id:"item3",containerId:"cont1",productId:"prod3",quantity:450,userId:"user3"},{id:"item4",containerId:"cont3",productId:"prod4",quantity:300,userId:"user1"}],s=new Map(C.map(t=>[t.id,{...t}])),c=new Map(m.map(t=>[t.id,{...t}])),l={getContainers(){return new Promise(t=>{setTimeout(()=>{t(Array.from(s.values()))},500)})},getContainerItems(t){return new Promise(e=>{setTimeout(()=>{const n=Array.from(c.values()).filter(i=>i.containerId===t);e(n)},300)})},updateContainerCapacity(t,e){return new Promise((n,i)=>{setTimeout(()=>{const a=s.get(t);if(!a)return i(new Error("Conteneur non trouvé"));let o=a.status;e>=a.totalCapacity&&(e=a.totalCapacity,o="closed");const r={...a,usedCapacity:e,status:o};s.set(t,r),n(r)},300)})},addContainerItem(t,e,n,i){return new Promise((a,o)=>{setTimeout(async()=>{const r=s.get(t);if(!r||r.status==="closed")return o(new Error("Conteneur non disponible ou clôturé"));const u={id:`item${Date.now()}`,containerId:t,productId:e,quantity:n,userId:i};c.set(u.id,u);const d=r.usedCapacity+n;try{await this.updateContainerCapacity(t,d),a(u)}catch(p){o(p)}},300)})}};export{l as c};
